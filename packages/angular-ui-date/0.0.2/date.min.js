angular.module("ui.date",[]).constant("uiDateConfig",{}).directive("uiDate",["uiDateConfig","$timeout",function(e,t){"use strict";var n;return n={},angular.extend(n,e),{require:"?ngModel",link:function(n,r,a,i){var u=function(){return angular.extend({},e,n.$eval(a.uiDate))},o=function(){var e=u();if(i){var a=i.$setViewValue,o=!1;i.$setViewValue=function(){o||(o=!0,r.datepicker("setDate",r.datepicker("getDate")),a.call(i,r.datepicker("getDate")),t(function(){o=!1}))};var l=e.onSelect||angular.noop;e.onSelect=function(e,t){n.$apply(function(){i.$setViewValue(e),l(e,t),r.blur()})};var c=e.beforeShow||angular.noop;e.beforeShow=function(e,t){return!o&&c(e,t)},i.$render=function(){var e=i.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");r.datepicker("setDate",e)}}r.datepicker("destroy"),r.datepicker(e),i&&i.$render()};n.$watch(u,o,!0)}}}]).constant("uiDateFormatConfig","").directive("uiDateFormat",["uiDateFormatConfig",function(e){var t={require:"ngModel",link:function(t,n,r,a){var i=r.uiDateFormat||e;i?(a.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(i,e):null}),a.$parsers.push(function(e){return e?$.datepicker.formatDate(i,e):null})):(a.$formatters.push(function(e){return angular.isString(e)?new Date(e):null}),a.$parsers.push(function(e){return e?e.toISOString():null}))}};return t}]);