/*
 EventEmitter v1.0.0

 Copyright 2011, Oliver Caldwell (flowdev.co.uk)
 Dual licensed under the MIT or GPL Version 2 licenses.
 https://github.com/Wolfy87/Listen
*/
function EventEmitter(){}EventEmitter.prototype._events={};EventEmitter.prototype._listeners=[];EventEmitter.prototype._maxListeners=[10];
EventEmitter.prototype.addListener=function(a,d,b){var c=this._listeners.length;this.emit("newListener",a,d);this._listeners.push({listener:d,once:b?!0:!1});typeof this._events[a]==="undefined"&&(this._events[a]=[]);this._events[a].push(c);this._events[a].length===this._maxListeners[0]&&console.log("Maximum number of listeners ("+this._maxListeners[0]+') reached for the "'+a+'" event!')};EventEmitter.prototype.on=EventEmitter.prototype.addListener;
EventEmitter.prototype.once=function(a,d){this.addListener(a,d,!0)};EventEmitter.prototype.removeListener=function(a,d){var b=null,c=null;if(this._events[a]instanceof Array){c=this._events[a];for(b=0;b<c.length;b++)this._listeners[c[b]].listener===d&&c.splice(b,1)}};EventEmitter.prototype.removeAllListeners=function(a){this._events[a]=[]};EventEmitter.prototype.setMaxListeners=function(a){this._maxListeners[0]=a};
EventEmitter.prototype.listeners=function(a,d){var b=null,c=[],e=null;if(this._events[a]instanceof Array){indexes=this._events[a];for(b=0;b<indexes.length;b++)e=this._listeners[indexes[b]],d?e.once?(c.push(e.listener),this._events[a].splice(b,1)):c.push(e.listener):c.push(e.listener)}return c};EventEmitter.prototype.emit=function(a){var d=null,b=Array.prototype.slice.call(arguments),c=this.listeners(a,!0);b.splice(0,1);for(d=0;d<c.length;d++)c[d].apply(null,b)};
