!function(e){"use strict";function t(){}function n(e,t){if(s)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,r=[],s=r.indexOf?!0:!1;i.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},i.addListener=function(e,t){var i=this.getListeners(e);return-1===n(t,i)&&i.push(t),this},i.removeListener=function(e,t){var i=this.getListeners(e),r=n(t,i);return-1!==r&&(i.splice(r,1),0===i.length&&(this._events[e]=null)),this},i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,s=e?this.removeListener:this.addListener,u=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?s.call(this,i,r):u.call(this,i,r));else for(i=n.length;i--;)s.call(this,t,n[i]);return this},i.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},i.emitEvent=function(e,t){for(var n=this.getListeners(e),i=n.length;i--;)n[i].apply(null,t||r)===!0&&this.removeListener(e,n[i]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this);