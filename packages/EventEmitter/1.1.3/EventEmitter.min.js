/*
 EventEmitter v1.1.3

 Copyright 2011, Oliver Caldwell (flowdev.co.uk)
 Dual licensed under the MIT or GPL Version 2 licenses.
 https://github.com/Wolfy87/EventEmitter
*/
var EventEmitter=null;
(function(){function b(){this._events={};this._listeners=[];this._maxListeners=10}b.prototype._convertNameToRegExp=function(a){return a.replace(/\./g,"\\.").replace(/\*\\\./g,"[\\w\\-]+\\.").replace(/\*$/gi,".+")};b.prototype.addListener=function(a,e,c){var d=this._listeners.length;this.emit("newListener",a,e);this._listeners.push({listener:e,once:c?!0:!1});a=this._convertNameToRegExp(a);typeof this._events[a]==="undefined"&&(this._events[a]=[]);this._events[a].push(d);this._events[a].length===this._maxListeners&&
console.log("Maximum number of listeners ("+this._maxListeners+') reached for the "'+a+'" event!');return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(a,e){return this.addListener(a,e,!0)};b.prototype.removeListener=function(a,e){var c=null,d=null;a=this._convertNameToRegExp(a);if(this._events[a]instanceof Array){d=this._events[a];for(c=0;c<d.length;c++)this._listeners[d[c]].listener===e&&d.splice(c,1)}return this};b.prototype.removeAllListeners=function(a){a=this._convertNameToRegExp(a);
this._events[a]=[];return this};b.prototype.setMaxListeners=function(a){this._maxListeners=a;return this};b.prototype.listeners=function(a,e){var c=null,d=null,b=[],f=null;for(c in this._events)if(a.match(RegExp("^"+c+"$"))&&this._events[c]instanceof Array){indexes=this._events[c];for(d=0;d<indexes.length;d++)f=this._listeners[indexes[d]],e?f.once?(b.push(f.listener),this._events[c].splice(d,1)):b.push(f.listener):b.push(f.listener)}return b};b.prototype.emit=function(a){var b=null,c=Array.prototype.slice.call(arguments),
d=this.listeners(a,!0);if(d.length===0)if(a==="error")throw"unspecifiedErrorEvent";else return!1;c.splice(0,1);for(b=0;b<d.length;b++)d[b].apply(null,c);return!0};EventEmitter=b})();
