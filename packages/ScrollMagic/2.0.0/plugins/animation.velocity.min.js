/*! ScrollMagic v2.0.0 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://janpaepke.github.io/ScrollMagic */
!function(e,i){"function"==typeof define&&define.amd?define(["ScrollMagic","velocity"],i):i(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.Velocity||e.jQuery&&e.jQuery.Velocity)}(this,function(e,i){"use strict";var t="animation.velocity",o=0;e.Scene.extend(function(){var u,r,n,c,l=this,s=e._util,a=0;l.on("progress.plugin_velocity",function(){y()}),l.on("destroy.plugin_velocity",function(e){l.off("*.plugin_velocity"),l.removeVelocity(e.reset)});var f=function(e,t,o){s.type.Array(e)?e.forEach(function(e){f(e,t,o)}):(i.Utilities.data(e,c)||i.Utilities.data(e,c,{reverseProps:s.css(e,Object.keys(r))}),i(e,t,o),void 0!==o.queue&&i.Utilities.dequeue(e,o.queue))},v=function(e,t){if(s.type.Array(e))e.forEach(function(e){v(e,t)});else{var o=i.Utilities.data(e,c);o&&o.reverseProps&&(i(e,o.reverseProps,t),void 0!==t.queue&&i.Utilities.dequeue(e,t.queue))}},y=function(){if(u){var e=l.progress();e!=a&&(0===l.duration()&&(e>0?f(u,r,n):v(u,n)),a=e)}};l.setVelocity=function(e,i,a){return u&&l.removeVelocity(),u=s.get.elements(e),r=i||{},n=a||{},c="ScrollMagic."+t+"["+o++ +"]",void 0!==n.queue&&(n.queue=c+"_queue"),y(),l},l.removeVelocity=function(e){return u&&(void 0!==n.queue&&i(u,"stop",n.queue),e&&v(u,{duration:0}),u.forEach(function(e){i.Utilities.removeData(e,c)}),u=r=n=c=void 0),l}})});