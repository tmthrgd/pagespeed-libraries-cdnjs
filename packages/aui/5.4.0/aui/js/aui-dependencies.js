(function(t){var e,i,r="0.3.4",n="hasOwnProperty",a=/[\.\/]/,s="*",o=function(){},l=function(t,e){return t-e},h={n:{}},u=function(t,r){var n,a=i,s=Array.prototype.slice.call(arguments,2),o=u.listeners(t),h=0,c=[],d={},p=[],f=e;e=t,i=0;for(var g=0,m=o.length;m>g;g++)"zIndex"in o[g]&&(c.push(o[g].zIndex),0>o[g].zIndex&&(d[o[g].zIndex]=o[g]));for(c.sort(l);0>c[h];)if(n=d[c[h++]],p.push(n.apply(r,s)),i)return i=a,p;for(g=0;m>g;g++)if(n=o[g],"zIndex"in n)if(n.zIndex==c[h]){if(p.push(n.apply(r,s)),i)break;do if(h++,n=d[c[h]],n&&p.push(n.apply(r,s)),i)break;while(n)}else d[n.zIndex]=n;else if(p.push(n.apply(r,s)),i)break;return i=a,e=f,p.length?p:null};u.listeners=function(t){var e,i,r,n,o,l,u,c,d=t.split(a),p=h,f=[p],g=[];for(n=0,o=d.length;o>n;n++){for(c=[],l=0,u=f.length;u>l;l++)for(p=f[l].n,i=[p[d[n]],p[s]],r=2;r--;)e=i[r],e&&(c.push(e),g=g.concat(e.f||[]));f=c}return g},u.on=function(t,e){for(var i=t.split(a),r=h,n=0,s=i.length;s>n;n++)r=r.n,!r[i[n]]&&(r[i[n]]={n:{}}),r=r[i[n]];for(r.f=r.f||[],n=0,s=r.f.length;s>n;n++)if(r.f[n]==e)return o;return r.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},u.stop=function(){i=1},u.nt=function(t){return t?RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},u.off=u.unbind=function(t,e){var i,r,o,l,u,c,d,p=t.split(a),f=[h];for(l=0,u=p.length;u>l;l++)for(c=0;f.length>c;c+=o.length-2){if(o=[c,1],i=f[c].n,p[l]!=s)i[p[l]]&&o.push(i[p[l]]);else for(r in i)i[n](r)&&o.push(i[r]);f.splice.apply(f,o)}for(l=0,u=f.length;u>l;l++)for(i=f[l];i.n;){if(e){if(i.f){for(c=0,d=i.f.length;d>c;c++)if(i.f[c]==e){i.f.splice(c,1);break}!i.f.length&&delete i.f}for(r in i.n)if(i.n[n](r)&&i.n[r].f){var g=i.n[r].f;for(c=0,d=g.length;d>c;c++)if(g[c]==e){g.splice(c,1);break}!g.length&&delete i.n[r].f}}else{delete i.f;for(r in i.n)i.n[n](r)&&i.n[r].f&&delete i.n[r].f}i=i.n}},u.once=function(t,e){var i=function(){var r=e.apply(this,arguments);return u.unbind(t,i),r};return u.on(t,i)},u.version=r,u.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],function(){return u}):t.eve=u})(this),window.eve||"function"!=typeof define||"function"!=typeof require||(window.eve=require("eve")),function(){function t(e){if(t.is(e,"function"))return y?e():eve.on("raphael.DOMload",e);if(t.is(e,W))return t._engine.create[M](t,e.splice(0,3+t.is(e[0],Y))).add(e);var i=Array.prototype.slice.call(arguments,0);if(t.is(i[i.length-1],"function")){var r=i.pop();return y?r.call(t._engine.create[M](t,i)):eve.on("raphael.DOMload",function(){r.call(t._engine.create[M](t,i))})}return t._engine.create[M](t,arguments)}function e(t){if(Object(t)!==t)return t;var i=new t.constructor;for(var r in t)t[S](r)&&(i[r]=e(t[r]));return i}function i(t,e){for(var i=0,r=t.length;r>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function r(t,e,r){function n(){var a=Array.prototype.slice.call(arguments,0),s=a.join("\u2400"),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[S](s)?(i(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[M](e,a),r?r(o[s]):o[s])}return n}function n(){return this.hex}function a(t,e){for(var i=[],r=0,n=t.length;n-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?n-4==r?a[3]={x:+t[0],y:+t[1]}:n-2==r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[n-2],y:+t[n-1]}:n-4==r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i}function s(t,e,i,r,n){var a=-3*e+9*i-9*r+3*n,s=t*a+6*e-12*i+6*r;return t*s-3*e+3*i}function o(t,e,i,r,n,a,o,l,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var u=h/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;c>g;g++){var m=u*d[g]+u,v=s(m,t,i,n,o),y=s(m,e,r,a,l),b=v*v+y*y;f+=p[g]*E.sqrt(b)}return u*f}function l(t,e,i,r,n,a,s,l,h){if(!(0>h||h>o(t,e,i,r,n,a,s,l))){var u,c=1,d=c/2,p=c-d,f=.01;for(u=o(t,e,i,r,n,a,s,l,p);j(u-h)>f;)d/=2,p+=(h>u?1:-1)*d,u=o(t,e,i,r,n,a,s,l,p);return p}}function h(t,e,i,r,n,a,s,o){if(!(F(t,i)<R(n,s)||R(t,i)>F(n,s)||F(e,r)<R(a,o)||R(e,r)>F(a,o))){var l=(t*r-e*i)*(n-s)-(t-i)*(n*o-a*s),h=(t*r-e*i)*(a-o)-(e-r)*(n*o-a*s),u=(t-i)*(a-o)-(e-r)*(n-s);if(u){var c=l/u,d=h/u,p=+c.toFixed(2),f=+d.toFixed(2);if(!(+R(t,i).toFixed(2)>p||p>+F(t,i).toFixed(2)||+R(n,s).toFixed(2)>p||p>+F(n,s).toFixed(2)||+R(e,r).toFixed(2)>f||f>+F(e,r).toFixed(2)||+R(a,o).toFixed(2)>f||f>+F(a,o).toFixed(2)))return{x:c,y:d}}}}function u(e,i,r){var n=t.bezierBBox(e),a=t.bezierBBox(i);if(!t.isBBoxIntersect(n,a))return r?0:[];for(var s=o.apply(0,e),l=o.apply(0,i),u=~~(s/5),c=~~(l/5),d=[],p=[],f={},g=r?0:[],m=0;u+1>m;m++){var v=t.findDotsAtSegment.apply(t,e.concat(m/u));d.push({x:v.x,y:v.y,t:m/u})}for(m=0;c+1>m;m++)v=t.findDotsAtSegment.apply(t,i.concat(m/c)),p.push({x:v.x,y:v.y,t:m/c});for(m=0;u>m;m++)for(var y=0;c>y;y++){var b=d[m],w=d[m+1],_=p[y],x=p[y+1],S=.001>j(w.x-b.x)?"y":"x",k=.001>j(x.x-_.x)?"y":"x",A=h(b.x,b.y,w.x,w.y,_.x,_.y,x.x,x.y);if(A){if(f[A.x.toFixed(4)]==A.y.toFixed(4))continue;f[A.x.toFixed(4)]=A.y.toFixed(4);var D=b.t+j((A[S]-b[S])/(w[S]-b[S]))*(w.t-b.t),M=_.t+j((A[k]-_[k])/(x[k]-_[k]))*(x.t-_.t);D>=0&&1>=D&&M>=0&&1>=M&&(r?g++:g.push({x:A.x,y:A.y,t1:D,t2:M}))}}return g}function c(e,i,r){e=t._path2curve(e),i=t._path2curve(i);for(var n,a,s,o,l,h,c,d,p,f,g=r?0:[],m=0,v=e.length;v>m;m++){var y=e[m];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(p=[n,a].concat(y.slice(1)),n=p[6],a=p[7]):(p=[n,a,n,a,l,h,l,h],n=l,a=h);for(var b=0,w=i.length;w>b;b++){var _=i[b];if("M"==_[0])s=c=_[1],o=d=_[2];else{"C"==_[0]?(f=[s,o].concat(_.slice(1)),s=f[6],o=f[7]):(f=[s,o,s,o,c,d,c,d],s=c,o=d);var x=u(p,f,r);if(r)g+=x;else{for(var S=0,k=x.length;k>S;S++)x[S].segment1=m,x[S].segment2=b,x[S].bez1=p,x[S].bez2=f;g=g.concat(x)}}}}}return g}function d(t,e,i,r,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+r,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+P+this.y+P+this.width+" \u00d7 "+this.height}function f(t,e,i,r,n,a){function s(t){return((c*t+u)*t+h)*t}function o(t,e){var i=l(t,e);return((f*i+p)*i+d)*i}function l(t,e){var i,r,n,a,o,l;for(n=t,l=0;8>l;l++){if(a=s(n)-t,e>j(a))return n;if(o=(3*c*n+2*u)*n+h,1e-6>j(o))break;n-=a/o}if(i=0,r=1,n=t,i>n)return i;if(n>r)return r;for(;r>i;){if(a=s(n),e>j(a-t))return n;t>a?i=n:r=n,n=(r-i)/2+i}return n}var h=3*e,u=3*(r-e)-h,c=1-h-u,d=3*i,p=3*(n-i)-d,f=1-d-p;return o(t,1/(200*a))}function g(t,e){var i=[],r={};if(this.ms=e,this.times=1,t){for(var n in t)t[S](n)&&(r[q(n)]=t[n],i.push(q(n)));i.sort(he)}this.anim=r,this.top=i[i.length-1],this.percents=i}function m(e,i,r,n,a,s){r=q(r);var o,l,h,u,c,p,g=e.ms,m={},v={},y={};if(n)for(_=0,x=ai.length;x>_;_++){var b=ai[_];if(b.el.id==i.id&&b.anim==e){b.percent!=r?(ai.splice(_,1),h=1):l=b,i.attr(b.totalOrigin);break}}else n=+v;for(var _=0,x=e.percents.length;x>_;_++){if(e.percents[_]==r||e.percents[_]>n*e.top){r=e.percents[_],c=e.percents[_-1]||0,g=g/e.top*(r-c),u=e.percents[_+1],o=e.anim[r];break}n&&i.attr(e.anim[e.percents[_]])}if(o){if(l)l.initstatus=n,l.start=new Date-l.ms*n;else{for(var k in o)if(o[S](k)&&(ee[S](k)||i.paper.customAttributes[S](k)))switch(m[k]=i.attr(k),null==m[k]&&(m[k]=te[k]),v[k]=o[k],ee[k]){case Y:y[k]=(v[k]-m[k])/g;break;case"colour":m[k]=t.getRGB(m[k]);var A=t.getRGB(v[k]);y[k]={r:(A.r-m[k].r)/g,g:(A.g-m[k].g)/g,b:(A.b-m[k].b)/g};break;case"path":var D=Ie(m[k],v[k]),M=D[1];for(m[k]=D[0],y[k]=[],_=0,x=m[k].length;x>_;_++){y[k][_]=[0];for(var N=1,T=m[k][_].length;T>N;N++)y[k][_][N]=(M[_][N]-m[k][_][N])/g}break;case"transform":var P=i._,I=Re(P[k],v[k]);if(I)for(m[k]=I.from,v[k]=I.to,y[k]=[],y[k].real=!0,_=0,x=m[k].length;x>_;_++)for(y[k][_]=[m[k][_][0]],N=1,T=m[k][_].length;T>N;N++)y[k][_][N]=(v[k][_][N]-m[k][_][N])/g;else{var L=i.matrix||new d,O={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};m[k]=[L.a,L.b,L.c,L.d,L.e,L.f],Ee(O,v[k]),v[k]=O._.transform,y[k]=[(O.matrix.a-L.a)/g,(O.matrix.b-L.b)/g,(O.matrix.c-L.c)/g,(O.matrix.d-L.d)/g,(O.matrix.e-L.e)/g,(O.matrix.f-L.f)/g]}break;case"csv":var E=J(o[k])[$](w),F=J(m[k])[$](w);if("clip-rect"==k)for(m[k]=F,y[k]=[],_=F.length;_--;)y[k][_]=(E[_]-m[k][_])/g;v[k]=E;break;default:for(E=[][C](o[k]),F=[][C](m[k]),y[k]=[],_=i.paper.customAttributes[k].length;_--;)y[k][_]=((E[_]||0)-(F[_]||0))/g}var R=o.easing,j=t.easing_formulas[R];if(!j)if(j=J(R).match(Q),j&&5==j.length){var B=j;j=function(t){return f(t,+B[1],+B[2],+B[3],+B[4],g)}}else j=ce;if(p=o.start||e.start||+new Date,b={anim:e,percent:r,timestamp:p,start:p+(e.del||0),status:0,initstatus:n||0,stop:!1,ms:g,easing:j,from:m,diff:y,to:v,el:i,callback:o.callback,prev:c,next:u,repeat:s||e.times,origin:i.attr(),totalOrigin:a},ai.push(b),n&&!l&&!h&&(b.stop=!0,b.start=new Date-g*n,1==ai.length))return oi();h&&(b.start=new Date-b.ms*n),1==ai.length&&si(oi)}eve("raphael.anim.start."+i.id,i,e)}}function v(t){for(var e=0;ai.length>e;e++)ai[e].el.paper==t&&ai.splice(e--,1)}t.version="2.1.0",t.eve=eve;var y,b,w=/[, ]+/,_={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},x=/\{(\d+)\}/g,S="hasOwnProperty",k={doc:document,win:window},A={was:Object.prototype[S].call(k.win,"Raphael"),is:k.win.Raphael},D=function(){this.ca=this.customAttributes={}},M="apply",C="concat",N="createTouch"in k.doc,T="",P=" ",J=String,$="split",I="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[$](P),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=J.prototype.toLowerCase,E=Math,F=E.max,R=E.min,j=E.abs,B=E.pow,z=E.PI,Y="number",H="string",W="array",U=Object.prototype.toString,K=(t._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),V={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,X=E.round,q=parseFloat,G=parseInt,Z=J.prototype.toUpperCase,te=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ee=t._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},ie=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,re={hs:1,rg:1},ne=/,?([achlmqrstvxz]),?/gi,ae=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,se=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,oe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,le=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),he=function(t,e){return q(t)-q(e)},ue=function(){},ce=function(t){return t},de=t._rectPath=function(t,e,i,r,n){return n?[["M",t+n,e],["l",i-2*n,0],["a",n,n,0,0,1,n,n],["l",0,r-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-i,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-r],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",i,0],["l",0,r],["l",-i,0],["z"]]},pe=function(t,e,i,r){return null==r&&(r=i),[["M",t,e],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},fe=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return de(e.x,e.y,e.width,e.height)}},ge=t.mapPath=function(t,e){if(!e)return t;var i,r,n,a,s,o,l;for(t=Ie(t),n=0,s=t.length;s>n;n++)for(l=t[n],a=1,o=l.length;o>a;a+=2)i=e.x(l[a],l[a+1]),r=e.y(l[a],l[a+1]),l[a]=i,l[a+1]=r;return t};if(t._g=k,t.type=k.win.SVGAngle||k.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var me,ve=k.doc.createElement("div");if(ve.innerHTML='<v:shape adj="1"/>',me=ve.firstChild,me.style.behavior="url(#default#VML)",!me||"object"!=typeof me.adj)return t.type=T;ve=null}t.svg=!(t.vml="VML"==t.type),t._Paper=D,t.fn=b=D.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return e=O.call(e),"finite"==e?!V[S](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||U.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,i,r,n,a,s){if(null==a){var o=e-r,l=i-n;return o||l?(180+180*E.atan2(-l,-o)/z+360)%360:0}return t.angle(e,i,a,s)-t.angle(r,n,a,s)},t.rad=function(t){return t%360*z/180},t.deg=function(t){return 180*t/z%360},t.snapTo=function(e,i,r){if(r=t.is(r,"finite")?r:10,t.is(e,W)){for(var n=e.length;n--;)if(r>=j(e[n]-i))return e[n]}else{e=+e;var a=i%e;if(r>a)return i-a;if(a>e-r)return i-a+e}return i},t.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*E.random(),i="x"==t?e:8|3&e;return i.toString(16)}),t.setWindow=function(e){eve("raphael.setWindow",t,k.win,e),k.win=e,k.doc=k.win.document,t._engine.initWin&&t._engine.initWin(k.win)};var ye=function(e){if(t.vml){var i,n=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),i=a.body}catch(s){i=createPopup().document.body}var o=i.createTextRange();ye=r(function(t){try{i.style.color=J(t).replace(n,T);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=k.doc.createElement("i");l.title="Rapha\u00ebl Colour Picker",l.style.display="none",k.doc.body.appendChild(l),ye=r(function(t){return l.style.color=t,k.doc.defaultView.getComputedStyle(l,T).getPropertyValue("color")})}return ye(e)},be=function(){return"hsb("+[this.h,this.s,this.b]+")"},we=function(){return"hsl("+[this.h,this.s,this.l]+")"},_e=function(){return this.hex},xe=function(e,i,r){if(null==i&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,i=e.g,e=e.r),null==i&&t.is(e,H)){var n=t.getRGB(e);e=n.r,i=n.g,r=n.b}return(e>1||i>1||r>1)&&(e/=255,i/=255,r/=255),[e,i,r]},Se=function(e,i,r,n){e*=255,i*=255,r*=255;var a={r:e,g:i,b:r,hex:t.rgb(e,i,r),toString:_e};return t.is(n,"finite")&&(a.opacity=n),a};t.color=function(e){var i;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(i=t.hsb2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(i=t.hsl2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(i=t.rgb2hsl(e),e.h=i.h,e.s=i.s,e.l=i.l,i=t.rgb2hsb(e),e.v=i.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=_e,e},t.hsb2rgb=function(t,e,i,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,r=t.o),t*=360;var n,a,s,o,l;return t=t%360/60,l=i*e,o=l*(1-j(t%2-1)),n=a=s=i-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Se(n,a,s,r)},t.hsl2rgb=function(t,e,i,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),o=l*(1-j(t%2-1)),n=a=s=i-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Se(n,a,s,r)},t.rgb2hsb=function(t,e,i){i=xe(t,e,i),t=i[0],e=i[1],i=i[2];var r,n,a,s;return a=F(t,e,i),s=a-R(t,e,i),r=0==s?null:a==t?(e-i)/s:a==e?(i-t)/s+2:(t-e)/s+4,r=60*((r+360)%6)/360,n=0==s?0:s/a,{h:r,s:n,b:a,toString:be}},t.rgb2hsl=function(t,e,i){i=xe(t,e,i),t=i[0],e=i[1],i=i[2];var r,n,a,s,o,l;return s=F(t,e,i),o=R(t,e,i),l=s-o,r=0==l?null:s==t?(e-i)/l:s==e?(i-t)/l+2:(t-e)/l+4,r=60*((r+360)%6)/360,a=(s+o)/2,n=0==l?0:.5>a?l/(2*a):l/(2-2*a),{h:r,s:n,l:a,toString:we}},t._path2string=function(){return this.join(",").replace(ne,"$1")},t._preload=function(t,e){var i=k.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,k.doc.body.removeChild(this)},i.onerror=function(){k.doc.body.removeChild(this)},k.doc.body.appendChild(i),i.src=t},t.getRGB=r(function(e){if(!e||(e=J(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:n};!(re[S](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=ye(e));var i,r,a,s,o,l,h=e.match(K);return h?(h[2]&&(a=G(h[2].substring(5),16),r=G(h[2].substring(3,5),16),i=G(h[2].substring(1,3),16)),h[3]&&(a=G((o=h[3].charAt(3))+o,16),r=G((o=h[3].charAt(2))+o,16),i=G((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][$](ie),i=q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),r=q(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=q(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][$](ie),i=q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),r=q(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=q(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"\u00b0"==l[0].slice(-1))&&(i/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),t.hsb2rgb(i,r,a,s)):h[6]?(l=h[6][$](ie),i=q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),r=q(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=q(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"\u00b0"==l[0].slice(-1))&&(i/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),t.hsl2rgb(i,r,a,s)):(h={r:i,g:r,b:a,toString:n},h.hex="#"+(16777216|a|r<<8|i<<16).toString(16).slice(1),t.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n}},t),t.hsb=r(function(e,i,r){return t.hsb2rgb(e,i,r).hex}),t.hsl=r(function(e,i,r){return t.hsl2rgb(e,i,r).hex}),t.rgb=r(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,0>=e.s&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var i=ke(e);if(i.arr)return De(i.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return t.is(e,W)&&t.is(e[0],W)&&(n=De(e)),n.length||J(e).replace(ae,function(t,e,i){var a=[],s=e.toLowerCase();if(i.replace(oe,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][C](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][C](a));else for(;a.length>=r[s]&&(n.push([e][C](a.splice(0,r[s]))),r[s]););}),n.toString=t._path2string,i.arr=De(n),n},t.parseTransformString=r(function(e){if(!e)return null;var i=[];return t.is(e,W)&&t.is(e[0],W)&&(i=De(e)),i.length||J(e).replace(se,function(t,e,r){var n=[];O.call(e),r.replace(oe,function(t,e){e&&n.push(+e)}),i.push([e][C](n))}),i.toString=t._path2string,i});var ke=function(t){var e=ke.ps=ke.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[S](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};t.findDotsAtSegment=function(t,e,i,r,n,a,s,o,l){var h=1-l,u=B(h,3),c=B(h,2),d=l*l,p=d*l,f=u*t+3*c*l*i+3*h*l*l*n+p*s,g=u*e+3*c*l*r+3*h*l*l*a+p*o,m=t+2*l*(i-t)+d*(n-2*i+t),v=e+2*l*(r-e)+d*(a-2*r+e),y=i+2*l*(n-i)+d*(s-2*n+i),b=r+2*l*(a-r)+d*(o-2*a+r),w=h*t+l*i,_=h*e+l*r,x=h*n+l*s,S=h*a+l*o,k=90-180*E.atan2(m-y,v-b)/z;return(m>y||b>v)&&(k+=180),{x:f,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:_},end:{x:x,y:S},alpha:k}},t.bezierBBox=function(e,i,r,n,a,s,o,l){t.is(e,"array")||(e=[e,i,r,n,a,s,o,l]);var h=$e.apply(null,e);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},t.isPointInsideBBox=function(t,e,i){return e>=t.x&&t.x2>=e&&i>=t.y&&t.y2>=i},t.isBBoxIntersect=function(e,i){var r=t.isPointInsideBBox;return r(i,e.x,e.y)||r(i,e.x2,e.y)||r(i,e.x,e.y2)||r(i,e.x2,e.y2)||r(e,i.x,i.y)||r(e,i.x2,i.y)||r(e,i.x,i.y2)||r(e,i.x2,i.y2)||(e.x<i.x2&&e.x>i.x||i.x<e.x2&&i.x>e.x)&&(e.y<i.y2&&e.y>i.y||i.y<e.y2&&i.y>e.y)},t.pathIntersection=function(t,e){return c(t,e)},t.pathIntersectionNumber=function(t,e){return c(t,e,1)},t.isPointInsidePath=function(e,i,r){var n=t.pathBBox(e);return t.isPointInsideBBox(n,i,r)&&1==c(e,[["M",i,r],["H",n.x2+10]],1)%2},t._removedFactory=function(t){return function(){eve("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var Ae=t.pathBBox=function(t){var i=ke(t);if(i.bbox)return i.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Ie(t);for(var r,n=0,a=0,s=[],o=[],l=0,h=t.length;h>l;l++)if(r=t[l],"M"==r[0])n=r[1],a=r[2],s.push(n),o.push(a);else{var u=$e(n,a,r[1],r[2],r[3],r[4],r[5],r[6]);s=s[C](u.min.x,u.max.x),o=o[C](u.min.y,u.max.y),n=r[5],a=r[6]}var c=R[M](0,s),d=R[M](0,o),p=F[M](0,s),f=F[M](0,o),g={x:c,y:d,x2:p,y2:f,width:p-c,height:f-d};return i.bbox=e(g),g},De=function(i){var r=e(i);return r.toString=t._path2string,r},Me=t._pathToRelative=function(e){var i=ke(e);if(i.rel)return De(i.rel);t.is(e,W)&&t.is(e&&e[0],W)||(e=t.parsePathString(e));var r=[],n=0,a=0,s=0,o=0,l=0;"M"==e[0][0]&&(n=e[0][1],a=e[0][2],s=n,o=a,l++,r.push(["M",n,a]));for(var h=l,u=e.length;u>h;h++){var c=r[h]=[],d=e[h];if(d[0]!=O.call(d[0]))switch(c[0]=O.call(d[0]),c[0]){case"a":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+(d[6]-n).toFixed(3),c[7]=+(d[7]-a).toFixed(3);break;case"v":c[1]=+(d[1]-a).toFixed(3);break;case"m":s=d[1],o=d[2];default:for(var p=1,f=d.length;f>p;p++)c[p]=+(d[p]-(p%2?n:a)).toFixed(3)}else{c=r[h]=[],"m"==d[0]&&(s=d[1]+n,o=d[2]+a);for(var g=0,m=d.length;m>g;g++)r[h][g]=d[g]}var v=r[h].length;switch(r[h][0]){case"z":n=s,a=o;break;case"h":n+=+r[h][v-1];break;case"v":a+=+r[h][v-1];break;default:n+=+r[h][v-2],a+=+r[h][v-1]}}return r.toString=t._path2string,i.rel=De(r),r},Ce=t._pathToAbsolute=function(e){var i=ke(e);if(i.abs)return De(i.abs);if(t.is(e,W)&&t.is(e&&e[0],W)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],n=0,s=0,o=0,l=0,h=0;"M"==e[0][0]&&(n=+e[0][1],s=+e[0][2],o=n,l=s,h++,r[0]=["M",n,s]);for(var u,c,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=h,f=e.length;f>p;p++){if(r.push(u=[]),c=e[p],c[0]!=Z.call(c[0]))switch(u[0]=Z.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+n),u[7]=+(c[7]+s);break;case"V":u[1]=+c[1]+s;break;case"H":u[1]=+c[1]+n;break;case"R":for(var g=[n,s][C](c.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+n,g[++m]=+g[m]+s;r.pop(),r=r[C](a(g,d));break;case"M":o=+c[1]+n,l=+c[2]+s;default:for(m=1,v=c.length;v>m;m++)u[m]=+c[m]+(m%2?n:s)}else if("R"==c[0])g=[n,s][C](c.slice(1)),r.pop(),r=r[C](a(g,d)),u=["R"][C](c.slice(-2));else for(var y=0,b=c.length;b>y;y++)u[y]=c[y];switch(u[0]){case"Z":n=o,s=l;break;case"H":n=u[1];break;case"V":s=u[1];break;case"M":o=u[u.length-2],l=u[u.length-1];default:n=u[u.length-2],s=u[u.length-1]}}return r.toString=t._path2string,i.abs=De(r),r},Ne=function(t,e,i,r){return[t,e,i,r,i,r]},Te=function(t,e,i,r,n,a){var s=1/3,o=2/3;return[s*t+o*i,s*e+o*r,s*n+o*i,s*a+o*r,n,a]},Pe=function(t,e,i,n,a,s,o,l,h,u){var c,d=120*z/180,p=z/180*(+a||0),f=[],g=r(function(t,e,i){var r=t*E.cos(i)-e*E.sin(i),n=t*E.sin(i)+e*E.cos(i);return{x:r,y:n}});if(u)k=u[0],A=u[1],x=u[2],S=u[3];else{c=g(t,e,-p),t=c.x,e=c.y,c=g(l,h,-p),l=c.x,h=c.y;var m=(E.cos(z/180*a),E.sin(z/180*a),(t-l)/2),v=(e-h)/2,y=m*m/(i*i)+v*v/(n*n);y>1&&(y=E.sqrt(y),i=y*i,n=y*n);var b=i*i,w=n*n,_=(s==o?-1:1)*E.sqrt(j((b*w-b*v*v-w*m*m)/(b*v*v+w*m*m))),x=_*i*v/n+(t+l)/2,S=_*-n*m/i+(e+h)/2,k=E.asin(((e-S)/n).toFixed(9)),A=E.asin(((h-S)/n).toFixed(9));k=x>t?z-k:k,A=x>l?z-A:A,0>k&&(k=2*z+k),0>A&&(A=2*z+A),o&&k>A&&(k-=2*z),!o&&A>k&&(A-=2*z)}var D=A-k;if(j(D)>d){var M=A,N=l,T=h;A=k+d*(o&&A>k?1:-1),l=x+i*E.cos(A),h=S+n*E.sin(A),f=Pe(l,h,i,n,a,0,o,N,T,[A,M,x,S])}D=A-k;var P=E.cos(k),J=E.sin(k),I=E.cos(A),L=E.sin(A),O=E.tan(D/4),F=4/3*i*O,R=4/3*n*O,B=[t,e],Y=[t+F*J,e-R*P],H=[l+F*L,h-R*I],W=[l,h];if(Y[0]=2*B[0]-Y[0],Y[1]=2*B[1]-Y[1],u)return[Y,H,W][C](f);f=[Y,H,W][C](f).join()[$](",");for(var U=[],K=0,V=f.length;V>K;K++)U[K]=K%2?g(f[K-1],f[K],p).y:g(f[K],f[K+1],p).x;return U},Je=function(t,e,i,r,n,a,s,o,l){var h=1-l;return{x:B(h,3)*t+3*B(h,2)*l*i+3*h*l*l*n+B(l,3)*s,y:B(h,3)*e+3*B(h,2)*l*r+3*h*l*l*a+B(l,3)*o}},$e=r(function(t,e,i,r,n,a,s,o){var l,h=n-2*i+t-(s-2*n+i),u=2*(i-t)-2*(n-i),c=t-i,d=(-u+E.sqrt(u*u-4*h*c))/2/h,p=(-u-E.sqrt(u*u-4*h*c))/2/h,f=[e,o],g=[t,s];return j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=Je(t,e,i,r,n,a,s,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Je(t,e,i,r,n,a,s,o,p),g.push(l.x),f.push(l.y)),h=a-2*r+e-(o-2*a+r),u=2*(r-e)-2*(a-r),c=e-r,d=(-u+E.sqrt(u*u-4*h*c))/2/h,p=(-u-E.sqrt(u*u-4*h*c))/2/h,j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=Je(t,e,i,r,n,a,s,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Je(t,e,i,r,n,a,s,o,p),g.push(l.x),f.push(l.y)),{min:{x:R[M](0,g),y:R[M](0,f)},max:{x:F[M](0,g),y:F[M](0,f)}}}),Ie=t._path2curve=r(function(t,e){var i=!e&&ke(t);if(!e&&i.curve)return De(i.curve);for(var r=Ce(t),n=e&&Ce(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][C](Pe[M](0,[e.x,e.y][C](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),r=e.y+(e.y-(e.by||e.y)),t=["C",i,r][C](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][C](Te(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][C](Te(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][C](Ne(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][C](Ne(e.x,e.y,t[1],e.y));break;case"V":t=["C"][C](Ne(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][C](Ne(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][C](i.splice(0,6)));t.splice(e,1),c=F(r.length,n&&n.length||0)}},h=function(t,e,i,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=t[s][1],i.y=t[s][2],c=F(r.length,n&&n.length||0))},u=0,c=F(r.length,n&&n.length||0);c>u;u++){r[u]=o(r[u],a),l(r,u),n&&(n[u]=o(n[u],s)),n&&l(n,u),h(r,n,a,s,u),h(n,r,s,a,u);var d=r[u],p=n&&n[u],f=d.length,g=n&&p.length;a.x=d[f-2],a.y=d[f-1],a.bx=q(d[f-4])||a.x,a.by=q(d[f-3])||a.y,s.bx=n&&(q(p[g-4])||s.x),s.by=n&&(q(p[g-3])||s.y),s.x=n&&p[g-2],s.y=n&&p[g-1]}return n||(i.curve=De(r)),n?[r,n]:r},null,De),Le=(t._parseDots=r(function(e){for(var i=[],r=0,n=e.length;n>r;r++){var a={},s=e[r].match(/^([^:]*):?([\d\.]*)/);if(a.color=t.getRGB(s[1]),a.color.error)return null;a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),i.push(a)}for(r=1,n=i.length-1;n>r;r++)if(!i[r].offset){for(var o=q(i[r-1].offset||0),l=0,h=r+1;n>h;h++)if(i[h].offset){l=i[h].offset;break}l||(l=100,h=n),l=q(l);for(var u=(l-o)/(h-r+1);h>r;r++)o+=u,i[r].offset=o+"%"}return i}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Oe=(t._tofront=function(t,e){e.top!==t&&(Le(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(Le(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,i){Le(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,i){Le(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var i=Ae(t),r={_:{transform:T},getBBox:function(){return i}};return Ee(r,e),r.matrix}),Ee=(t.transformPath=function(t,e){return ge(t,Oe(t,e))},t._extractTransform=function(e,i){if(null==i)return e._.transform;i=J(i).replace(/\.{3}|\u2026/g,e._.transform||T);var r=t.parseTransformString(i),n=0,a=0,s=0,o=1,l=1,h=e._,u=new d;if(h.transform=r||[],r)for(var c=0,p=r.length;p>c;c++){var f,g,m,v,y,b=r[c],w=b.length,_=J(b[0]).toLowerCase(),x=b[0]!=_,S=x?u.invert():0;"t"==_&&3==w?x?(f=S.x(0,0),g=S.y(0,0),m=S.x(b[1],b[2]),v=S.y(b[1],b[2]),u.translate(m-f,v-g)):u.translate(b[1],b[2]):"r"==_?2==w?(y=y||e.getBBox(1),u.rotate(b[1],y.x+y.width/2,y.y+y.height/2),n+=b[1]):4==w&&(x?(m=S.x(b[2],b[3]),v=S.y(b[2],b[3]),u.rotate(b[1],m,v)):u.rotate(b[1],b[2],b[3]),n+=b[1]):"s"==_?2==w||3==w?(y=y||e.getBBox(1),u.scale(b[1],b[w-1],y.x+y.width/2,y.y+y.height/2),o*=b[1],l*=b[w-1]):5==w&&(x?(m=S.x(b[3],b[4]),v=S.y(b[3],b[4]),u.scale(b[1],b[2],m,v)):u.scale(b[1],b[2],b[3],b[4]),o*=b[1],l*=b[2]):"m"==_&&7==w&&u.add(b[1],b[2],b[3],b[4],b[5],b[6]),h.dirtyT=1,e.matrix=u}e.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1}),Fe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Re=t._equaliseTransform=function(e,i){i=J(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var r,n,a,s,o=F(e.length,i.length),l=[],h=[],u=0;o>u;u++){if(a=e[u]||Fe(i[u]),s=i[u]||Fe(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(l[u]=[],h[u]=[],r=0,n=F(a.length,s.length);n>r;r++)r in a&&(l[u][r]=a[r]),r in s&&(h[u][r]=s[r])}return{from:l,to:h}};t._getContainer=function(e,i,r,n){var a;return a=null!=n||t.is(e,"object")?e:k.doc.getElementById(e),null!=a?a.tagName?null==i?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:i,height:r}:{container:1,x:e,y:i,width:r,height:n}:void 0},t.pathToRelative=Me,t._engine={},t.path2curve=Ie,t.matrix=function(t,e,i,r,n,a){return new d(t,e,i,r,n,a)
},function(e){function i(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=E.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,i,r,n,a){var s,o,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,i,n],[e,r,a],[0,0,1]];for(t&&t instanceof d&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(h=0,l=0;3>l;l++)h+=c[s][l]*p[l][o];u[s][o]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,i,r){null==e&&(e=t),(i||r)&&this.add(1,0,0,1,i,r),this.add(t,0,0,e,0,0),(i||r)&&this.add(1,0,0,1,-i,-r)},e.rotate=function(e,i,r){e=t.rad(e),i=i||0,r=r||0;var n=+E.cos(e).toFixed(9),a=+E.sin(e).toFixed(9);this.add(n,a,-a,n,i,r),this.add(1,0,0,1,-i,-r)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[J.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=E.sqrt(i(n[0])),r(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=E.sqrt(i(n[1])),r(n[1]),e.shear/=e.scaley;var a=-n[0][1],s=n[1][1];return 0>s?(e.rotate=t.deg(E.acos(s)),0>a&&(e.rotate=360-e.rotate)):e.rotate=t.deg(E.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this[$]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:T)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:T)+(e.rotate?"r"+[e.rotate,0,0]:T)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);var je=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);b.safari="Apple Computer, Inc."==navigator.vendor&&(je&&4>je[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&je&&8>je[1]?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:ue;for(var Be=function(){this.returnValue=!1},ze=function(){return this.originalEvent.preventDefault()},Ye=function(){this.cancelBubble=!0},He=function(){return this.originalEvent.stopPropagation()},We=function(){return k.doc.addEventListener?function(t,e,i,r){var n=N&&L[e]?L[e]:e,a=function(n){var a=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,s=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,o=n.clientX+s,l=n.clientY+a;if(N&&L[S](e))for(var h=0,u=n.targetTouches&&n.targetTouches.length;u>h;h++)if(n.targetTouches[h].target==t){var c=n;n=n.targetTouches[h],n.originalEvent=c,n.preventDefault=ze,n.stopPropagation=He;break}return i.call(r,n,o,l)};return t.addEventListener(n,a,!1),function(){return t.removeEventListener(n,a,!1),!0}}:k.doc.attachEvent?function(t,e,i,r){var n=function(t){t=t||k.win.event;var e=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,n=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||Be,t.stopPropagation=t.stopPropagation||Ye,i.call(r,t,a,s)};t.attachEvent("on"+e,n);var a=function(){return t.detachEvent("on"+e,n),!0};return a}:void 0}(),Ue=[],Ke=function(t){for(var e,i=t.clientX,r=t.clientY,n=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,a=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,s=Ue.length;s--;){if(e=Ue[s],N){for(var o,l=t.touches.length;l--;)if(o=t.touches[l],o.identifier==e.el._drag.id){i=o.clientX,r=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h,u=e.el.node,c=u.nextSibling,d=u.parentNode,p=u.style.display;k.win.opera&&d.removeChild(u),u.style.display="none",h=e.el.paper.getElementByPoint(i,r),u.style.display=p,k.win.opera&&(c?d.insertBefore(u,c):d.appendChild(u)),h&&eve("raphael.drag.over."+e.el.id,e.el,h),i+=a,r+=n,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,r-e.el._drag.y,i,r,t)}},Ve=function(e){t.unmousemove(Ke).unmouseup(Ve);for(var i,r=Ue.length;r--;)i=Ue[r],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,e);Ue=[]},Qe=t.el={},Xe=I.length;Xe--;)(function(e){t[e]=Qe[e]=function(i,r){return t.is(i,"function")&&(this.events=this.events||[],this.events.push({name:e,f:i,unbind:We(this.shape||this.node||k.doc,e,i,r||this)})),this},t["un"+e]=Qe["un"+e]=function(t){for(var i=this.events||[],r=i.length;r--;)if(i[r].name==e&&i[r].f==t)return i[r].unbind(),i.splice(r,1),!i.length&&delete this.events,this;return this}})(I[Xe]);Qe.data=function(e,i){var r=le[this.id]=le[this.id]||{};if(1==arguments.length){if(t.is(e,"object")){for(var n in e)e[S](n)&&this.data(n,e[n]);return this}return eve("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=i,eve("raphael.data.set."+this.id,this,i,e),this},Qe.removeData=function(t){return null==t?le[this.id]={}:le[this.id]&&delete le[this.id][t],this},Qe.hover=function(t,e,i,r){return this.mouseover(t,i).mouseout(e,r||i)},Qe.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var qe=[];Qe.drag=function(e,i,r,n,a,s){function o(o){(o.originalEvent||o).preventDefault();var l=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,h=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;this._drag.x=o.clientX+h,this._drag.y=o.clientY+l,this._drag.id=o.identifier,!Ue.length&&t.mousemove(Ke).mouseup(Ve),Ue.push({el:this,move_scope:n,start_scope:a,end_scope:s}),i&&eve.on("raphael.drag.start."+this.id,i),e&&eve.on("raphael.drag.move."+this.id,e),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,a||n||this,o.clientX+h,o.clientY+l,o)}return this._drag={},qe.push({el:this,start:o}),this.mousedown(o),this},Qe.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},Qe.undrag=function(){for(var e=qe.length;e--;)qe[e].el==this&&(this.unmousedown(qe[e].start),qe.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!qe.length&&t.unmousemove(Ke).unmouseup(Ve)},b.circle=function(e,i,r){var n=t._engine.circle(this,e||0,i||0,r||0);return this.__set__&&this.__set__.push(n),n},b.rect=function(e,i,r,n,a){var s=t._engine.rect(this,e||0,i||0,r||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(e,i,r,n){var a=t._engine.ellipse(this,e||0,i||0,r||0,n||0);return this.__set__&&this.__set__.push(a),a},b.path=function(e){e&&!t.is(e,H)&&!t.is(e[0],W)&&(e+=T);var i=t._engine.path(t.format[M](t,arguments),this);return this.__set__&&this.__set__.push(i),i},b.image=function(e,i,r,n,a){var s=t._engine.image(this,e||"about:blank",i||0,r||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.text=function(e,i,r){var n=t._engine.text(this,e||0,i||0,J(r));return this.__set__&&this.__set__.push(n),n},b.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var i=new hi(e);return this.__set__&&this.__set__.push(i),i},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(){var t=this.__set__;return delete this.__set__,t},b.setSize=function(e,i){return t._engine.setSize.call(this,e,i)},b.setViewBox=function(e,i,r,n,a){return t._engine.setViewBox.call(this,e,i,r,n,a)},b.top=b.bottom=null,b.raphael=t;var Ge=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,r=i.body,n=i.documentElement,a=n.clientTop||r.clientTop||0,s=n.clientLeft||r.clientLeft||0,o=e.top+(k.win.pageYOffset||n.scrollTop||r.scrollTop)-a,l=e.left+(k.win.pageXOffset||n.scrollLeft||r.scrollLeft)-s;return{y:o,x:l}};b.getElementByPoint=function(t,e){var i=this,r=i.canvas,n=k.doc.elementFromPoint(t,e);if(k.win.opera&&"svg"==n.tagName){var a=Ge(r),s=r.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=r.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=r.parentNode&&!n.raphael;)n=n.parentNode;return n==i.canvas.parentNode&&(n=r),n=n&&n.raphael?i.getById(n.raphaelid):null},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},b.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&i.push(r)}),i},Qe.isPointInside=function(e,i){var r=this.realPath=this.realPath||fe[this.type](this);return t.isPointInsidePath(r,e,i)},Qe.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=fe[this.type](this),e.bboxwt=Ae(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=fe[this.type](this)),e.bbox=Ae(ge(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},Qe.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Qe.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,r=this.paper,n=r.set(),a=this.realPath||fe[this.type](this);a=this.matrix?ge(a,this.matrix):a;for(var s=1;i+1>s;s++)n.push(r.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*s).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};var Ze=function(e,i,r,n,a,s,h,u,c){return null==c?o(e,i,r,n,a,s,h,u):t.findDotsAtSegment(e,i,r,n,a,s,h,u,l(e,i,r,n,a,s,h,u,c))},ti=function(e,i){return function(r,n,a){r=Ie(r);for(var s,o,l,h,u,c="",d={},p=0,f=0,g=r.length;g>f;f++){if(l=r[f],"M"==l[0])s=+l[1],o=+l[2];else{if(h=Ze(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(i&&!d.start){if(u=Ze(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],a)return c;d.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!e&&!i)return u=Ze(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=h,s=+l[5],o=+l[6]}c+=l.shift()+l}return d.end=c,u=e?p:i?d:t.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},ei=ti(1),ii=ti(),ri=ti(0,1);t.getTotalLength=ei,t.getPointAtLength=ii,t.getSubpath=function(t,e,i){if(1e-6>this.getTotalLength(t)-i)return ri(t,e).end;var r=ri(t,i,1);return e?ri(r,e).end:r},Qe.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ei(this.attrs.path):void 0},Qe.getPointAtLength=function(t){return"path"==this.type?ii(this.attrs.path,t):void 0},Qe.getSubpath=function(e,i){return"path"==this.type?t.getSubpath(this.attrs.path,e,i):void 0};var ni=t.easing_formulas={linear:function(t){return t},"<":function(t){return B(t,1.7)},">":function(t){return B(t,.48)},"<>":function(t){var e=.48-t/1.04,i=E.sqrt(.1734+e*e),r=i-e,n=B(j(r),1/3)*(0>r?-1:1),a=-i-e,s=B(j(a),1/3)*(0>a?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:B(2,-10*t)*E.sin((t-.075)*2*z/.3)+1},bounce:function(t){var e,i=7.5625,r=2.75;return 1/r>t?e=i*t*t:2/r>t?(t-=1.5/r,e=i*t*t+.75):2.5/r>t?(t-=2.25/r,e=i*t*t+.9375):(t-=2.625/r,e=i*t*t+.984375),e}};ni.easeIn=ni["ease-in"]=ni["<"],ni.easeOut=ni["ease-out"]=ni[">"],ni.easeInOut=ni["ease-in-out"]=ni["<>"],ni["back-in"]=ni.backIn,ni["back-out"]=ni.backOut;var ai=[],si=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},oi=function(){for(var e=+new Date,i=0;ai.length>i;i++){var r=ai[i];if(!r.el.removed&&!r.paused){var n,a,s=e-r.start,o=r.ms,l=r.easing,h=r.from,u=r.diff,c=r.to,d=(r.t,r.el),p={},f={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*o,r.status=r.initstatus,delete r.initstatus,r.stop&&ai.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/o))/r.anim.top,!(0>s))if(o>s){var g=l(s/o);for(var v in h)if(h[S](v)){switch(ee[v]){case Y:n=+h[v]+g*o*u[v];break;case"colour":n="rgb("+[li(X(h[v].r+g*o*u[v].r)),li(X(h[v].g+g*o*u[v].g)),li(X(h[v].b+g*o*u[v].b))].join(",")+")";break;case"path":n=[];for(var y=0,b=h[v].length;b>y;y++){n[y]=[h[v][y][0]];for(var w=1,_=h[v][y].length;_>w;w++)n[y][w]=+h[v][y][w]+g*o*u[v][y][w];n[y]=n[y].join(P)}n=n.join(P);break;case"transform":if(u[v].real)for(n=[],y=0,b=h[v].length;b>y;y++)for(n[y]=[h[v][y][0]],w=1,_=h[v][y].length;_>w;w++)n[y][w]=h[v][y][w]+g*o*u[v][y][w];else{var x=function(t){return+h[v][t]+g*o*u[v][t]};n=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==v)for(n=[],y=4;y--;)n[y]=+h[v][y]+g*o*u[v][y];break;default:var k=[][C](h[v]);for(n=[],y=d.paper.customAttributes[v].length;y--;)n[y]=+k[y]+g*o*u[v][y]}p[v]=n}d.attr(p),function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+t,e,i)})}(d.id,d,r.anim)}else{if(function(e,i,r){setTimeout(function(){eve("raphael.anim.frame."+i.id,i,r),eve("raphael.anim.finish."+i.id,i,r),t.is(e,"function")&&e.call(i)})}(r.callback,d,r.anim),d.attr(c),ai.splice(i--,1),r.repeat>1&&!r.next){for(a in c)c[S](a)&&(f[a]=r.totalOrigin[a]);r.el.attr(f),m(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&m(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}t.svg&&d&&d.paper&&d.paper.safari(),ai.length&&si(oi)},li=function(t){return t>255?255:0>t?0:t};Qe.animateWith=function(e,i,r,n,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=r instanceof g?r:t.animation(r,n,a,s);m(l,o,l.percents[0],null,o.attr());for(var h=0,u=ai.length;u>h;h++)if(ai[h].anim==i&&ai[h].el==e){ai[u-1].start=ai[h].start;break}return o},Qe.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=E.floor(F(t,0))||1,e},t.animation=function(e,i,r,n){if(e instanceof g)return e;(t.is(r,"function")||!r)&&(n=n||r||null,r=null),e=Object(e),i=+i||0;var a,s,o={};for(s in e)e[S](s)&&q(s)!=s&&q(s)+"%"!=s&&(a=!0,o[s]=e[s]);return a?(r&&(o.easing=r),n&&(o.callback=n),new g({100:o},i)):new g(e,i)},Qe.animate=function(e,i,r,n){var a=this;if(a.removed)return n&&n.call(a),a;var s=e instanceof g?e:t.animation(e,i,r,n);return m(s,a,s.percents[0],null,a.attr()),a},Qe.setTime=function(t,e){return t&&null!=e&&this.status(t,R(e,t.ms)/t.ms),this},Qe.status=function(t,e){var i,r,n=[],a=0;if(null!=e)return m(t,this,-1,R(e,1)),this;for(i=ai.length;i>a;a++)if(r=ai[a],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;n.push({anim:r.anim,status:r.status})}return t?0:n},Qe.pause=function(t){for(var e=0;ai.length>e;e++)ai[e].el.id!=this.id||t&&ai[e].anim!=t||eve("raphael.anim.pause."+this.id,this,ai[e].anim)!==!1&&(ai[e].paused=!0);return this},Qe.resume=function(t){for(var e=0;ai.length>e;e++)if(ai[e].el.id==this.id&&(!t||ai[e].anim==t)){var i=ai[e];eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Qe.stop=function(t){for(var e=0;ai.length>e;e++)ai[e].el.id!=this.id||t&&ai[e].anim!=t||eve("raphael.anim.stop."+this.id,this,ai[e].anim)!==!1&&ai.splice(e--,1);return this},eve.on("raphael.remove",v),eve.on("raphael.clear",v),Qe.toString=function(){return"Rapha\u00ebl\u2019s object"};var hi=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Qe.constructor&&t[e].constructor!=hi||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ui=hi.prototype;ui.push=function(){for(var t,e,i=0,r=arguments.length;r>i;i++)t=arguments[i],!t||t.constructor!=Qe.constructor&&t.constructor!=hi||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ui.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ui.forEach=function(t,e){for(var i=0,r=this.items.length;r>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var ci in Qe)Qe[S](ci)&&(ui[ci]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][M](i,e)})}}(ci));ui.attr=function(e,i){if(e&&t.is(e,W)&&t.is(e[0],"object"))for(var r=0,n=e.length;n>r;r++)this.items[r].attr(e[r]);else for(var a=0,s=this.items.length;s>a;a++)this.items[a].attr(e,i);return this},ui.clear=function(){for(;this.length;)this.pop()},ui.splice=function(t,e){t=0>t?F(this.length+t,0):t,e=F(0,R(this.length-t,e));var i,r=[],n=[],a=[];for(i=2;arguments.length>i;i++)a.push(arguments[i]);for(i=0;e>i;i++)n.push(this[t+i]);for(;this.length-t>i;i++)r.push(this[t+i]);var s=a.length;for(i=0;s+r.length>i;i++)this.items[t+i]=this[t+i]=s>i?a[i]:r[i-s];for(i=this.items.length=this.length-=e-s;this[i];)delete this[i++];return new hi(n)},ui.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},ui.animate=function(e,i,r,n){(t.is(r,"function")||!r)&&(n=r||null);var a,s,o=this.items.length,l=o,h=this;if(!o)return this;n&&(s=function(){!--o&&n.call(h)}),r=t.is(r,H)?r:s;var u=t.animation(e,i,r,s);for(a=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,u,u);return this},ui.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ui.getBBox=function(){for(var t=[],e=[],i=[],r=[],n=this.items.length;n--;)if(!this.items[n].removed){var a=this.items[n].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),r.push(a.y+a.height)}return t=R[M](0,t),e=R[M](0,e),i=F[M](0,i),r=F[M](0,r),{x:t,y:e,x2:i,y2:r,width:i-t,height:r-e}},ui.clone=function(t){t=new hi;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},ui.toString=function(){return"Rapha\u00ebl\u2018s set"},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var r in t.face)t.face[S](r)&&(e.face[r]=t.face[r]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=G(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[S](n)){var a=t.glyphs[n];if(e.glyphs[n]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[S](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},b.getFont=function(e,i,r,n){if(n=n||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,t.fonts){var a=t.fonts[e];if(!a){var s=RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,T)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[S](o)&&s.test(o)){a=t.fonts[o];break}}var l;if(a)for(var h=0,u=a.length;u>h&&(l=a[h],l.face["font-weight"]!=i||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},b.print=function(e,i,r,n,a,s,o){s=s||"middle",o=F(R(o||0,1),-1);var l,h=J(r)[$](T),u=0,c=0,d=T;if(t.is(n,r)&&(n=this.getFont(n)),n){l=(a||16)/n.face["units-per-em"];for(var p=n.face.bbox[$](w),f=+p[0],g=p[3]-p[1],m=0,v=+p[1]+("baseline"==s?g+ +n.face.descent:g/2),y=0,b=h.length;b>y;y++){if("\n"==h[y])u=0,x=0,c=0,m+=g;else{var _=c&&n.glyphs[h[y-1]]||{},x=n.glyphs[h[y]];u+=c?(_.w||n.w)+(_.k&&_.k[h[y]]||0)+n.w*o:0,c=1}x&&x.d&&(d+=t.transformPath(x.d,["t",u*l,m*l,"s",l,l,f,v,"t",(e-f)/l,(i-v)/l]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(t.is(e,"array"))for(var i,r=this.set(),n=0,a=e.length;a>n;n++)i=e[n]||{},_[S](i.type)&&r.push(this[i.type]().attr(i));return r},t.format=function(e,i){var r=t.is(i,W)?[0][C](i):arguments;return e&&t.is(e,H)&&r.length-1&&(e=e.replace(x,function(t,e){return null==r[++e]?T:r[e]})),e||T},t.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,r){var n=r;return i.replace(e,function(t,e,i,r,a){e=e||r,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==r?t:n)+""};return function(e,r){return(e+"").replace(t,function(t,e){return i(t,e,r)})}}(),t.ninja=function(){return A.was?k.win.Raphael=A.is:delete Raphael,t},t.st=ui,function(e,i,r){function n(){/in/.test(e.readyState)?setTimeout(n,9):t.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(i,r=function(){e.removeEventListener(i,r,!1),e.readyState="complete"},!1),e.readyState="loading"),n()}(document,"DOMContentLoaded"),A.was?k.win.Raphael=t:Raphael=t,eve.on("raphael.DOMload",function(){y=!0})}(),window.Raphael&&window.Raphael.svg&&function(t){var e="hasOwnProperty",i=String,r=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=t.eve,c="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var m=function(r,n){if(n){"string"==typeof r&&(r=m(r));for(var a in n)n[e](a)&&("xlink:"==a.substring(0,6)?r.setAttributeNS(p,a.substring(6),i(n[a])):r.setAttribute(a,i(n[a])))}else r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(e,n){var h="linear",u=e.id+n,d=.5,p=.5,f=e.node,g=e.paper,v=f.style,y=t._g.doc.getElementById(u);if(!y){if(n=i(n).replace(t._radial_gradient,function(t,e,i){if(h="radial",e&&i){d=r(e),p=r(i);var n=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(d-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){var b=n.shift();if(b=-r(b),isNaN(b))return null;var w=[0,0,a.cos(t.rad(b)),a.sin(t.rad(b))],_=1/(s(o(w[2]),o(w[3]))||1);w[2]*=_,w[3]*=_,0>w[2]&&(w[0]=-w[2],w[2]=0),0>w[3]&&(w[1]=-w[3],w[3]=0)}var x=t._parseDots(n);if(!x)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(h+"Gradient",{id:u}),e.gradient=y,m(y,"radial"==h?{fx:d,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var S=0,k=x.length;k>S;S++)y.appendChild(m("stop",{offset:x[S].offset?x[S].offset:S?"100%":"0%","stop-color":x[S].color||"#fff"}))}}return m(f,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(r,n,a){if("path"==r.type){for(var s,o,l,h,u,d=i(n).toLowerCase().split("-"),p=r.paper,v=a?"end":"start",y=r.node,b=r.attrs,w=b["stroke-width"],_=d.length,x="classic",S=3,k=3,A=5;_--;)switch(d[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=d[_];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":S=5;break;case"short":S=2}if("open"==x?(S+=2,k+=2,A+=2,l=1,h=a?4:1,u={fill:"none",stroke:b.stroke}):(h=l=S/2,u={fill:b.stroke,stroke:"none"}),r._.arrows?a?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=x){var D="raphael-marker-"+x,M="raphael-marker-"+v+x+S+k;t._g.doc.getElementById(D)?g[D]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[x],id:D})),g[D]=1);var C,N=t._g.doc.getElementById(M);N?(g[M]++,C=N.getElementsByTagName("use")[0]):(N=m(m("marker"),{id:M,markerHeight:k,markerWidth:S,orient:"auto",refX:h,refY:k/2}),C=m(m("use"),{"xlink:href":"#"+D,transform:(a?"rotate(180 "+S/2+" "+k/2+") ":c)+"scale("+S/A+","+k/A+")","stroke-width":(1/((S/A+k/A)/2)).toFixed(4)}),N.appendChild(C),p.defs.appendChild(N),g[M]=1),m(C,u);var T=l*("diamond"!=x&&"oval"!=x);a?(s=r._.arrows.startdx*w||0,o=t.getTotalLength(b.path)-T*w):(s=T*w,o=t.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),u={},u["marker-"+v]="url(#"+M+")",(o||s)&&(u.d=Raphael.getSubpath(b.path,s,o)),m(y,u),r._.arrows[v+"Path"]=D,r._.arrows[v+"Marker"]=M,r._.arrows[v+"dx"]=T,r._.arrows[v+"Type"]=x,r._.arrows[v+"String"]=n}else a?(s=r._.arrows.startdx*w||0,o=t.getTotalLength(b.path)-s):(s=0,o=t.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),r._.arrows[v+"Path"]&&m(y,{d:Raphael.getSubpath(b.path,s,o)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(u in g)if(g[e](u)&&!g[u]){var P=t._g.doc.getElementById(u);P&&P.parentNode.removeChild(P)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,r){if(e=w[i(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*n+(o%2?1:-1)*a;m(t.node,{"stroke-dasharray":s.join(",")})}},x=function(r,a){var l=r.node,u=r.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in a)if(a[e](f)){if(!t._availableAttrs[e](f))continue;var g=a[f];switch(u[f]=g,f){case"blur":r.blur(g);break;case"href":case"title":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var x=m("a");w.insertBefore(x,l),x.appendChild(l),w=x}"target"==f?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":b(r,g);break;case"arrow-end":b(r,g,1);break;case"clip-rect":var S=i(g).split(h);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var A=m("clipPath"),D=m("rect");A.id=t.createUUID(),m(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),A.appendChild(D),r.paper.defs.appendChild(A),m(l,{"clip-path":"url(#"+A.id+")"}),r.clip=D}if(!g){var M=l.getAttribute("clip-path");if(M){var C=t._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g,c));C&&C.parentNode.removeChild(C),m(l,{"clip-path":c}),delete r.clip}}break;case"path":"path"==r.type&&(m(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),r._.dirty=1,!u.fx)break;f="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==f&&"rect"==r.type)break;case"cx":l.setAttribute(f,g),r.pattern&&y(r),r._.dirty=1;break;case"height":if(l.setAttribute(f,g),r._.dirty=1,!u.fy)break;f="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==f&&"rect"==r.type)break;case"cy":l.setAttribute(f,g),r.pattern&&y(r),r._.dirty=1;break;case"r":"rect"==r.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(g/=s(o(r._.sx),o(r._.sy))||1),r.paper._vbSize&&(g*=r.paper._vbSize),l.setAttribute(f,g),u["stroke-dasharray"]&&_(r,u["stroke-dasharray"],a),r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"stroke-dasharray":_(r,g,a);break;case"fill":var N=i(g).match(t._ISURL);if(N){A=m("pattern");var T=m("image");A.id=t.createUUID(),m(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(T,{x:0,y:0,"xlink:href":N[1]}),A.appendChild(T),function(e){t._preload(N[1],function(){var t=this.offsetWidth,i=this.offsetHeight;m(e,{width:t,height:i}),m(T,{width:t,height:i}),r.paper.safari()})}(A),r.paper.defs.appendChild(A),m(l,{fill:"url(#"+A.id+")"}),r.pattern=A,r.pattern&&y(r);break}var P=t.getRGB(g);if(P.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=i(g).charAt())&&v(r,g)){if("opacity"in u||"fill-opacity"in u){var J=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(J){var $=J.getElementsByTagName("stop");m($[$.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(a.opacity,"undefined")&&m(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&m(l,{"fill-opacity":u["fill-opacity"]});P[e]("opacity")&&m(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=t.getRGB(g),l.setAttribute(f,P.hex),"stroke"==f&&P[e]("opacity")&&m(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==f&&r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=i(g).charAt())&&v(r,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){J=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),J&&($=J.getElementsByTagName("stop"),m($[$.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=n(g,10)+"px");var I=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[I]=g,r._.dirty=1,l.setAttribute(f,g)}}k(r,a),l.style.visibility=d},S=1.2,k=function(r,a){if("text"==r.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=r.attrs,o=r.node,l=o.firstChild?n(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,u=i(a.text).split("\n"),d=[],p=0,f=u.length;f>p;p++)h=m("tspan"),p&&m(h,{dy:l*S,x:s.x}),h.appendChild(t._g.doc.createTextNode(u[p])),o.appendChild(h),d[p]=h}else for(d=o.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?m(d[p],{dy:l*S,x:s.x}):m(d[0],{dy:0});m(o,{x:s.x,y:s.y}),r._.dirty=1;var g=r._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(d[0],{dy:v})}},A=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},D=t.el;A.prototype=D,D.constructor=A,t._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var r=new A(i,e);return r.type="path",x(r,{fill:"none",stroke:"#000",path:t}),r},D.rotate=function(t,e,n){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=r(t[1]),n=r(t[2])),t=r(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},D.scale=function(t,e,n,a){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=r(t[1]),n=r(t[2]),a=r(t[3])),t=r(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);
return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this},D.translate=function(t,e){return this.removed?this:(t=i(t).split(h),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},D.transform=function(i){var r=this._;if(null==i)return r.transform;if(t._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var n=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},D.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},D.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},D.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},D._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},D.attr=function(i,r){if(this.removed)return this;if(null==i){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==r&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(h),o={},l=0,c=s.length;c>l;l++)i=s[l],o[i]=i in this.attrs?this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?this.paper.customAttributes[i].def:t._availableAttrs[i];return c-1?o:o[s[0]]}if(null==r&&t.is(i,"array")){for(o={},l=0,c=i.length;c>l;l++)o[i[l]]=this.attr(i[l]);return o}if(null!=r){var d={};d[i]=r}else null!=i&&t.is(i,"object")&&(d=i);for(var p in d)u("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var g in f)f[e](g)&&(d[g]=f[g])}return x(this,d),this},D.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&t._tofront(this,e),this},D.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;return"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper),this.paper,this},D.insertAfter=function(e){if(this.removed)return this;var i=e.node||e[e.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this},D.insertBefore=function(e){if(this.removed)return this;var i=e.node||e[0].node;return i.parentNode.insertBefore(this.node,i),t._insertbefore(this,e,this.paper),this},D.blur=function(e){var i=this;if(0!==+e){var r=m("filter"),n=m("feGaussianBlur");i.attrs.blur=e,r.id=t.createUUID(),m(n,{stdDeviation:+e||1.5}),r.appendChild(n),i.paper.defs.appendChild(r),i._blur=r,m(i.node,{filter:"url(#"+r.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},t._engine.circle=function(t,e,i,r){var n=m("circle");t.canvas&&t.canvas.appendChild(n);var a=new A(n,t);return a.attrs={cx:e,cy:i,r:r,fill:"none",stroke:"#000"},a.type="circle",m(n,a.attrs),a},t._engine.rect=function(t,e,i,r,n,a){var s=m("rect");t.canvas&&t.canvas.appendChild(s);var o=new A(s,t);return o.attrs={x:e,y:i,width:r,height:n,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",m(s,o.attrs),o},t._engine.ellipse=function(t,e,i,r,n){var a=m("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new A(a,t);return s.attrs={cx:e,cy:i,rx:r,ry:n,fill:"none",stroke:"#000"},s.type="ellipse",m(a,s.attrs),s},t._engine.image=function(t,e,i,r,n,a){var s=m("image");m(s,{x:i,y:r,width:n,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new A(s,t);return o.attrs={x:i,y:r,width:n,height:a,src:e},o.type="image",o},t._engine.text=function(e,i,r,n){var a=m("text");e.canvas&&e.canvas.appendChild(a);var s=new A(a,e);return s.attrs={x:i,y:r,"text-anchor":"middle",text:n,font:t._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",x(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,r=e.x,n=e.y,a=e.width,s=e.height;if(!i)throw Error("SVG container not found.");var o,l=m("svg"),h="overflow:hidden;";return r=r||0,n=n||0,a=a||512,s=s||342,m(l,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg"}),1==i?(l.style.cssText=h+"position:absolute;left:"+r+"px;top:"+n+"px",t._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),i=new t._Paper,i.width=a,i.height=s,i.canvas=l,i.clear(),i._left=i._top=0,o&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,r,n){u("raphael.setViewBox",this,this._viewBox,[t,e,i,r,n]);var a,o,l=s(i/this.width,r/this.height),h=this.top,c=n?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+d+this.height):(this._vbSize=l,a=t+d+e+d+i+d+r),m(this.canvas,{viewBox:a,preserveAspectRatio:c});l&&h;)o="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":o}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,r,!!n],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(r){t=e.createSVGMatrix()}var n=-t.e%1,a=-t.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),a&&(this._top=(this._top+a)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha\u00ebl "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var M=t.st;for(var C in D)D[e](C)&&!M[e](C)&&(M[C]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(C))}(window.Raphael),window.Raphael&&window.Raphael.vml&&function(t){var e="hasOwnProperty",i=String,r=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=t.eve,d=" progid:DXImageTransform.Microsoft",p=" ",f="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,_={path:1,rect:1,image:1},x={circle:1,ellipse:1},S=function(e){var r=/[ahqstv]/gi,n=t._pathToAbsolute;if(i(e).match(r)&&(n=t._path2curve),r=/[clmz]/g,n==t._pathToAbsolute&&!i(e).match(r)){var s=i(e).replace(m,function(t,e,i){var r=[],n="m"==e.toLowerCase(),s=g[e];return i.replace(y,function(t){n&&2==r.length&&(s+=r+g["m"==e?"l":"L"],r=[]),r.push(a(t*w))}),s+r});return s}var o,l,h=n(e);s=[];for(var u=0,c=h.length;c>u;u++){o=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(var d=1,v=o.length;v>d;d++)l+=a(o[d]*w)+(d!=v-1?",":f);s.push(l)}return s.join(p)},k=function(e,i,r){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(i,r),dy:n.y(i,r)}},A=function(t,e,i,r,n,a){var s=t._,o=t.matrix,u=s.fillpos,c=t.node,d=c.style,f=1,g="",m=w/e,v=w/i;if(d.visibility="hidden",e&&i){if(c.coordsize=l(m)+p+l(v),d.rotation=a*(0>e*i?-1:1),a){var y=k(a,r,n);r=y.dx,n=y.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(f=-1),d.flip=g,c.coordorigin=r*-m+p+n*-v,u||s.fillsize){var b=c.getElementsByTagName(h);b=b&&b[0],c.removeChild(b),u&&(y=k(a,o.x(u[0],u[1]),o.y(u[0],u[1])),b.position=y.dx*f+p+y.dy*f),s.fillsize&&(b.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(i)),c.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var D=function(t,e,r){for(var n=i(e).toLowerCase().split("-"),a=r?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},M=function(n,l){n.attrs=n.attrs||{};var c=n.node,d=n.attrs,g=c.style,m=_[n.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),v=x[n.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),y=n;for(var b in l)l[e](b)&&(d[b]=l[b]);if(m&&(d.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||m)&&(c.path=S(~i(d.path).toLowerCase().indexOf("r")?t._pathToAbsolute(d.path):d.path),"image"==n.type&&(n._.fillpos=[d.x,d.y],n._.fillsize=[d.width,d.height],A(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),v){var k=+d.cx,M=+d.cy,N=+d.rx||+d.r||0,T=+d.ry||+d.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((k-N)*w),a((M-T)*w),a((k+N)*w),a((M+T)*w),a(k*w))}if("clip-rect"in l){var J=i(l["clip-rect"]).split(u);if(4==J.length){J[2]=+J[2]+ +J[0],J[3]=+J[3]+ +J[1];var $=c.clipRect||t._g.doc.createElement("div"),I=$.style;I.clip=t.format("rect({1}px {2}px {3}px {0}px)",J),c.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=n.paper.width+"px",I.height=n.paper.height+"px",c.parentNode.insertBefore($,c),$.appendChild(c),c.clipRect=$)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){var L=n.textpath.style;l.font&&(L.font=l.font),l["font-family"]&&(L.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(L.fontSize=l["font-size"]),l["font-weight"]&&(L.fontWeight=l["font-weight"]),l["font-style"]&&(L.fontStyle=l["font-style"])}if("arrow-start"in l&&D(y,l["arrow-start"]),"arrow-end"in l&&D(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var O=c.getElementsByTagName(h),E=!1;if(O=O&&O[0],!O&&(E=O=P(h)),"image"==n.type&&l.src&&(O.src=l.src),l.fill&&(O.on=!0),(null==O.on||"none"==l.fill||null===l.fill)&&(O.on=!1),O.on&&l.fill){var F=i(l.fill).match(t._ISURL);if(F){O.parentNode==c&&c.removeChild(O),O.rotate=!0,O.src=F[1],O.type="tile";var R=n.getBBox(1);O.position=R.x+p+R.y,n._.fillpos=[R.x,R.y],t._preload(F[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else O.color=t.getRGB(l.fill).hex,O.src=f,O.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&C(y,l.fill,O)&&(d.fill="none",d.gradient=l.fill,O.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);j=o(s(j,0),1),O.opacity=j,O.src&&(O.color="none")}c.appendChild(O);var B=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],z=!1;!B&&(z=B=P("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(B.on=!0),("none"==l.stroke||null===l.stroke||null==B.on||0==l.stroke||0==l["stroke-width"])&&(B.on=!1);var Y=t.getRGB(l.stroke);B.on&&l.stroke&&(B.color=Y.hex),j=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+Y.o+1||2)-1);var H=.75*(r(l["stroke-width"])||1);if(j=o(s(j,0),1),null==l["stroke-width"]&&(H=d["stroke-width"]),l["stroke-width"]&&(B.weight=H),H&&1>H&&(j*=H)&&(B.weight=1),B.opacity=j,l["stroke-linejoin"]&&(B.joinstyle=l["stroke-linejoin"]||"miter"),B.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(B.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};B.dashstyle=W[e](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:f}z&&c.appendChild(B)}if("text"==y.type){y.paper.canvas.style.display=f;var U=y.paper.span,K=100,V=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);g=U.style,d.font&&(g.font=d.font),d["font-family"]&&(g.fontFamily=d["font-family"]),d["font-weight"]&&(g.fontWeight=d["font-weight"]),d["font-style"]&&(g.fontStyle=d["font-style"]),V=r(d["font-size"]||V&&V[0])||10,g.fontSize=V*K+"px",y.textpath.string&&(U.innerHTML=i(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Q=U.getBoundingClientRect();y.W=d.w=(Q.right-Q.left)/K,y.H=d.h=(Q.bottom-Q.top)/K,y.X=d.x,y.Y=d.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",a(d.x*w),a(d.y*w),a(d.x*w)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],q=0,G=X.length;G>q;q++)if(X[q]in l){y._.dirty=1;break}switch(d["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},C=function(e,a,s){e.attrs=e.attrs||{};var o=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=a,a=i(a).replace(t._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=r(e),i=r(i),o(e-.5,2)+o(i-.5,2)>.25&&(i=n.sqrt(.25-o(e-.5,2))*(2*(i>.5)-1)+.5),h=e+p+i),f}),a=a.split(/\s*\-\s*/),"linear"==l){var u=a.shift();if(u=-r(u),isNaN(u))return null}var c=t._parseDots(a);if(!c)return null;if(e=e.shape||e.node,c.length){e.removeChild(s),s.on=!0,s.method="none",s.color=c[0].color,s.color2=c[c.length-1].color;for(var d=[],g=0,m=c.length;m>g;g++)c[g].offset&&d.push(c[g].offset+p+c[g].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},N=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},T=t.el;N.prototype=T,T.constructor=N,T.transform=function(e){if(null==e)return this._.transform;var r,n=this.paper._viewBoxShift,a=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:f;n&&(r=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,a+e);var s,o=this.matrix.clone(),l=this.skew,h=this.node,u=~i(this.attrs.fill).indexOf("-"),c=!i(this.attrs.fill).indexOf("url(");if(o.translate(-.5,-.5),c||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),u&&s.noRotation||!s.isSimple){h.style.filter=o.toFilter();var d=this.getBBox(),g=this.getBBox(1),m=d.x-g.x,v=d.y-g.y;h.coordorigin=m*-w+p+v*-w,A(this,1,1,m,v,0)}else h.style.filter=f,A(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=f,l.matrix=i(o),l.offset=o.offset();return r&&(this._.transform=r),this},T.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=i(t).split(u),t.length-1&&(e=r(t[1]),n=r(t[2])),t=r(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},T.translate=function(t,e){return this.removed?this:(t=i(t).split(u),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},T.scale=function(t,e,n,a){if(this.removed)return this;if(t=i(t).split(u),t.length-1&&(e=r(t[1]),n=r(t[2]),a=r(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=r(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},T.hide=function(){return!this.removed&&(this.node.style.display="none"),this},T.show=function(){return!this.removed&&(this.node.style.display=f),this},T._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},T.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},T.attr=function(i,r){if(this.removed)return this;if(null==i){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==r&&t.is(i,"string")){if(i==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(u),o={},l=0,d=s.length;d>l;l++)i=s[l],o[i]=i in this.attrs?this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?this.paper.customAttributes[i].def:t._availableAttrs[i];return d-1?o:o[s[0]]}if(this.attrs&&null==r&&t.is(i,"array")){for(o={},l=0,d=i.length;d>l;l++)o[i[l]]=this.attr(i[l]);return o}var p;null!=r&&(p={},p[i]=r),null==r&&t.is(i,"object")&&(p=i);for(var f in p)c("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&t.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[e](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),M(this,p)}return this},T.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},T.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},T.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},T.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},T.blur=function(e){var i=this.node.runtimeStyle,r=i.filter;r=r.replace(v,f),0!==+e?(this.attrs.blur=e,i.filter=r+p+d+".Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var i=P("shape");i.style.cssText=b,i.coordsize=w+p+w,i.coordorigin=e.coordorigin;var r=new N(i,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),r.type="path",r.path=[],r.Path=f,M(r,n),e.canvas.appendChild(i);var a=P("skew");return a.on=!0,i.appendChild(a),r.skew=a,r.transform(f),r},t._engine.rect=function(e,i,r,n,a,s){var o=t._rectPath(i,r,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=i,l.Y=h.y=r,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,i,r,n){var a=t.path();return a.attrs,a.X=e-r,a.Y=i-n,a.W=2*r,a.H=2*n,a.type="ellipse",M(a,{cx:e,cy:i,rx:r,ry:n}),a},t._engine.circle=function(t,e,i,r){var n=t.path();return n.attrs,n.X=e-r,n.Y=i-r,n.W=n.H=2*r,n.type="circle",M(n,{cx:e,cy:i,r:r}),n},t._engine.image=function(e,i,r,n,a,s){var o=t._rectPath(r,n,a,s),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,d=c.getElementsByTagName(h)[0];return u.src=i,l.X=u.x=r,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",d.parentNode==c&&c.removeChild(d),d.rotate=!0,d.src=i,d.type="tile",l._.fillpos=[r,n],l._.fillsize=[a,s],c.appendChild(d),A(l,1,1,0,0,0),l},t._engine.text=function(e,r,n,s){var o=P("shape"),l=P("path"),h=P("textpath");r=r||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(r*w),a(n*w),a(r*w)+1),l.textpathok=!0,h.string=i(s),h.on=!0,o.style.cssText=b,o.coordsize=w+p+w,o.coordorigin="0 0";var u=new N(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=i(s),u.attrs.x=r,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,M(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var d=P("skew");return d.on=!0,o.appendChild(d),u.skew=d,u.transform(f),u},t._engine.setSize=function(e,i){var r=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),r.width=e,r.height=i,r.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,r,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,r,n,a]);var o,l,h=this.width,u=this.height,c=1/s(r/h,n/u);return a&&(o=u/n,l=h/r,h>r*o&&(e-=(h-r*o)/2/o),u>n*l&&(i-=(u-n*l)/2/l)),this._viewBox=[e,i,r,n,!!a],this._viewBoxShift={dx:-e,dy:-i,scale:c},this.forEach(function(t){t.transform("...")}),this};var P;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){P=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,r=e.height,n=e.width,a=e.x,s=e.y;if(!i)throw Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),h=l.style;return a=a||0,s=s||0,n=n||512,r=r||342,o.width=n,o.height=r,n==+n&&(n+="px"),r==+r&&(r+="px"),o.coordsize=1e3*w+p+1e3*w,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,r),1==i?(t._g.doc.body.appendChild(l),h.left=a+"px",h.top=s+"px",h.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var J=t.st;for(var $ in T)T[e]($)&&!J[e]($)&&(J[$]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}($))}(window.Raphael),function(t,e){function i(e,i){var n=e.nodeName.toLowerCase();if("area"===n){var a,s=e.parentNode,o=s.name;return e.href&&o&&"map"===s.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&r(a)):!1}return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"==n?e.href||i:i)&&r(e)}function r(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var r=this;setTimeout(function(){t(r).focus(),i&&i.call(r)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var r,n,a=t(this[0]);a.length&&a[0]!==document;){if(r=a.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(n=parseInt(a.css("zIndex"),10),!isNaN(n)&&0!==n))return n;a=a.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,r){function n(e,i,r,n){return t.each(a,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,r&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),n&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var a="Width"===r?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+r]=function(i){return i===e?o["inner"+r].call(this):this.each(function(){t(this).css(s,n(this,i)+"px")})},t.fn["outer"+r]=function(e,i){return"number"!=typeof e?o["outer"+r].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,r){return!!t.data(e,r[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var r=t.attr(e,"tabindex"),n=isNaN(r);return(n||r>=0)&&i(e,!n)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.curCSS||(t.curCSS=t.css),t.extend(t.ui,{plugin:{add:function(e,i,r){var n=t.ui[e].prototype;for(var a in r)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,r[a]])},call:function(t,e,i){var r=t.plugins[e];if(r&&t.element[0].parentNode)for(var n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[r]>0?!0:(e[r]=1,n=e[r]>0,e[r]=0,n)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,r,n,a,s){return t.ui.isOverAxis(e,r,a)&&t.ui.isOverAxis(i,n,s)}}))}(jQuery),function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var r,n=0;null!=(r=e[n]);n++)try{t(r).triggerHandler("remove")}catch(a){}i(e)}}else{var r=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),r.call(t(this),e,i)})}}t.widget=function(e,i,r){var n,a=e.split(".")[0];e=e.split(".")[1],n=a+"-"+e,r||(r=i,i=t.Widget),t.expr[":"][n]=function(i){return!!t.data(i,e)},t[a]=t[a]||{},t[a][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var s=new i;s.options=t.extend(!0,{},s.options),t[a][e].prototype=t.extend(!0,s,{namespace:a,widgetName:e,widgetEventPrefix:t[a][e].prototype.widgetEventPrefix||e,widgetBaseClass:n},r),t.widget.bridge(e,t[a][e])},t.widget.bridge=function(i,r){t.fn[i]=function(n){var a="string"==typeof n,s=Array.prototype.slice.call(arguments,1),o=this;return n=!a&&s.length?t.extend.apply(null,[!0,n].concat(s)):n,a&&"_"===n.charAt(0)?o:(a?this.each(function(){var r=t.data(this,i),a=r&&t.isFunction(r[n])?r[n].apply(r,s):r;return a!==r&&a!==e?(o=a,!1):e}):this.each(function(){var e=t.data(this,i);e?e.option(n||{})._init():t.data(this,i,new r(n,this))}),o)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,r){var n=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(r===e)return this.options[i];n={},n[i]=r}return this._setOptions(n),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,r){var n,a,s=this.options[e];if(r=r||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,r),!(t.isFunction(s)&&s.call(this.element[0],i,r)===!1||i.isDefaultPrevented())}}}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)
}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var r=this,n=1==i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return r._mouseMove(t)},this._mouseUpDelegate=function(t){return r._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):undefined},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(i.iframeFix&&t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",e,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var r=this.element[0],n=!1;r&&(r=r.parentNode);)r==document&&(n=!0);if(!n&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var a=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",e)!==!1&&a._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,r=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),r[0]==this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),r=i[0];if(!r)return;i.offset();var n="hidden"!=t(r).css("overflow");this.containment=[(parseInt(t(r).css("borderLeftWidth"),10)||0)+(parseInt(t(r).css("paddingLeft"),10)||0),(parseInt(t(r).css("borderTopWidth"),10)||0)+(parseInt(t(r).css("paddingTop"),10)||0),(n?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(t(r).css("borderLeftWidth"),10)||0)-(parseInt(t(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(n?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(t(r).css("borderTopWidth"),10)||0)-(parseInt(t(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var r="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(t.browser.safari&&526>t.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*r),left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(t.browser.safari&&526>t.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*r)}},_generatePosition:function(e){var i=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(r[0].tagName),a=e.pageX,s=e.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;e.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(s=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(s=o[3]+this.offset.click.top)}if(i.grid){var h=i.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;s=o?h-this.offset.click.top<o[1]||h-this.offset.click.top>o[3]?h-this.offset.click.top<o[1]?h+i.grid[1]:h-i.grid[1]:h:h;var u=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o?u-this.offset.click.left<o[0]||u-this.offset.click.left>o[2]?u-this.offset.click.left<o[0]?u+i.grid[0]:u-i.grid[0]:u:u}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&526>t.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&526>t.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,r){return r=r||this._uiHash(),t.ui.plugin.call(this,e,[i,r]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.24"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var r=t(this).data("draggable"),n=r.options,a=t.extend({},i,{item:r.element});r.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var r=t(this).data("draggable"),n=t.extend({},i,{item:r.element});t.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var r=t(this).data("draggable"),n=this;t.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",e),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",e),r.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var r=t(i.helper),n=t(this).data("draggable").options;r.css("opacity")&&(n._opacity=r.css("opacity")),r.css("opacity",n.opacity)},stop:function(e,i){var r=t(this).data("draggable").options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("draggable"),r=i.options,n=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(e.pageY-t(document).scrollTop()<r.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(e.pageX-t(document).scrollLeft()<r.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=t(this),r=i.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(e,i){for(var r=t(this).data("draggable"),n=r.options,a=n.snapTolerance,s=i.offset.left,o=s+r.helperProportions.width,l=i.offset.top,h=l+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--){var c=r.snapElements[u].left,d=c+r.snapElements[u].width,p=r.snapElements[u].top,f=p+r.snapElements[u].height;if(s>c-a&&d+a>s&&l>p-a&&f+a>l||s>c-a&&d+a>s&&h>p-a&&f+a>h||o>c-a&&d+a>o&&l>p-a&&f+a>l||o>c-a&&d+a>o&&h>p-a&&f+a>h){if("inner"!=n.snapMode){var g=a>=Math.abs(p-h),m=a>=Math.abs(f-l),v=a>=Math.abs(c-o),y=a>=Math.abs(d-s);g&&(i.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(i.position.top=r._convertPositionTo("relative",{top:f,left:0}).top-r.margins.top),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d}).left-r.margins.left)}var b=g||m||v||y;if("outer"!=n.snapMode){var g=a>=Math.abs(p-l),m=a>=Math.abs(f-h),v=a>=Math.abs(c-s),y=a>=Math.abs(d-o);g&&(i.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(i.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top-r.margins.top),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[u].snapping&&(g||m||v||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=g||m||v||y||b}else r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,i=t.makeArray(t(e.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(i.length){var r=parseInt(i[0].style.zIndex)||0;t(i).each(function(t){this.style.zIndex=r+t}),this[0].style.zIndex=r+i.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var r=t(i.helper),n=t(this).data("draggable").options;r.css("zIndex")&&(n._zIndex=r.css("zIndex")),r.css("zIndex",n.zIndex)},stop:function(e,i){var r=t(this).data("draggable").options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(t){t.widget("ui.sortable",t.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){t.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var r=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var n=null,a=this;if(t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")==a?(n=t(this),!1):undefined}),t.data(e.target,r.widgetName+"-item")==a&&(n=t(e.target)),!n)return!1;if(this.options.handle&&!i){var s=!1;if(t(this.options.handle,n).find("*").andSelf().each(function(){this==e.target&&(s=!0)}),!s)return!1}return this.currentItem=n,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,i,r){var n=this.options,a=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",n.cursor)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,a._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed)),e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var n=this.items.length-1;n>=0;n--){var a=this.items[n],s=a.item[0],o=this._intersectsWithPointer(a);if(o&&a.instance===this.currentContainer&&s!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=s&&!t.ui.contains(this.placeholder[0],s)&&("semi-dynamic"==this.options.type?!t.ui.contains(this.element[0],s):!0)){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(e,a),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var r=this,n=r.placeholder.offset();r.reverting=!0,t(this.helper).animate({left:n.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:n.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){var e=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,e._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,e._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);i&&r.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!r.length&&e.key&&r.push(e.key+"="),r.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},i.each(function(){r.push(t(e.item||this).attr(e.attribute||"id")||"")}),r},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,r=this.positionAbs.top,n=r+this.helperProportions.height,a=t.left,s=a+t.width,o=t.top,l=o+t.height,h=this.offset.click.top,u=this.offset.click.left,c=r+h>o&&l>r+h&&e+u>a&&s>e+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?c:e+this.helperProportions.width/2>a&&s>i-this.helperProportions.width/2&&r+this.helperProportions.height/2>o&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=i&&r,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"==s||"down"==a?2:1:a&&("down"==a?2:1):!1},_intersectsWithSides:function(e){var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&r||"left"==a&&!r:n&&("down"==n&&i||"up"==n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i=[],r=[],n=this._connectWith();if(n&&e)for(var a=n.length-1;a>=0;a--)for(var s=t(n[a]),o=s.length-1;o>=0;o--){var l=t.data(s[o],this.widgetName);l&&l!=this&&!l.options.disabled&&r.push([t.isFunction(l.options.items)?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=r.length-1;a>=0;a--)r[a][0].each(function(){i.push(this)});return t(i)},_removeCurrentsFromItems:function(){for(var t=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;this.items.length>e;e++)for(var i=0;t.length>i;i++)t[i]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(e){this.items=[],this.containers=[this];var i=this.items,r=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],n=this._connectWith();if(n&&this.ready)for(var a=n.length-1;a>=0;a--)for(var s=t(n[a]),o=s.length-1;o>=0;o--){var l=t.data(s[o],this.widgetName);l&&l!=this&&!l.options.disabled&&(r.push([t.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l))}for(var a=r.length-1;a>=0;a--)for(var h=r[a][1],u=r[a][0],o=0,c=u.length;c>o;o++){var d=t(u[o]);d.data(this.widgetName+"-item",h),i.push({item:d,instance:h,width:0,height:0,left:0,top:0})
}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var r=this.items[i];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var n=this.options.toleranceElement?t(this.options.toleranceElement,r.item):r.item;e||(r.width=n.outerWidth(),r.height=n.outerHeight());var a=n.offset();r.left=a.left,r.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var a=this.containers[i].element.offset();this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(e){var i=e||this,r=i.options;if(!r.placeholder||r.placeholder.constructor==String){var n=r.placeholder;r.placeholder={element:function(){var e=t(document.createElement(i.currentItem[0].nodeName)).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(e.style.visibility="hidden"),e},update:function(t,e){(!n||r.forcePlaceholderSize)&&(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=t(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_contactContainers:function(e){for(var i=null,r=null,n=this.containers.length-1;n>=0;n--)if(!t.ui.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(i&&t.ui.contains(this.containers[n].element[0],i.element[0]))continue;i=this.containers[n],r=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[r]._trigger("over",e,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(var a=1e4,s=null,o=this.positionAbs[this.containers[r].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(t.ui.contains(this.containers[r].element[0],this.items[l].item[0])){var h=this.containers[r].floating?this.items[l].item.offset().left:this.items[l].item.offset().top;a>Math.abs(h-o)&&(a=Math.abs(h-o),s=this.items[l],this.direction=h-o>0?"down":"up")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[r].element,!0),this._trigger("change",e,this._uiHash()),this.containers[r]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",e,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(e){var i=this.options,r=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||t("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||i.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||i.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var i=t(e.containment)[0],r=t(e.containment).offset(),n="hidden"!=t(i).css("overflow");this.containment=[r.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0)-this.margins.top,r.left+(n?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(n?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){i||(i=this.position);var r="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*r),left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*r)}},_generatePosition:function(e){var i=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=e.pageX,s=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1];s=this.containment?o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3]?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o:o;var l=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0];a=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l:l}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:r.scrollLeft())}},_rearrange:function(t,e,i,r){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this,a=this.counter;window.setTimeout(function(){a==n.counter&&n.refreshPositions(!r)},0)},_clear:function(e,i){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)("auto"==this._storedCSS[n]||"static"==this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))));for(var n=this.containers.length-1;n>=0;n--)i||r.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",e,this._uiHash());for(var n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.extend(t.ui.sortable,{version:"1.8.24"})}(jQuery);