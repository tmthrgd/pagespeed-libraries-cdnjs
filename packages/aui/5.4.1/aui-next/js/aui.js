jQuery.os={};var jQueryOSplatform=navigator.platform.toLowerCase();jQuery.os.windows=jQueryOSplatform.indexOf("win")!=-1,jQuery.os.mac=jQueryOSplatform.indexOf("mac")!=-1,jQuery.os.linux=jQueryOSplatform.indexOf("linux")!=-1,jQuery.fn.moveTo=function(e){var t={transition:!1,scrollOffset:35},n=jQuery.extend(t,e),r=this,i=r.offset().top,s;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<i||jQuery(window).scrollTop()+n.scrollOffset>i)&&jQuery(window).height()>n.scrollOffset){jQuery(window).scrollTop()+n.scrollOffset>i?s=i-(jQuery(window).height()-this.outerHeight())+n.scrollOffset:s=i-n.scrollOffset;if(!jQuery.fn.moveTo.animating&&n.transition)return jQuery(document).trigger("moveToStarted",this),jQuery.fn.moveTo.animating=!0,jQuery("html,body").animate({scrollTop:s},1e3,function(){jQuery(document).trigger("moveToFinished",r),delete jQuery.fn.moveTo.animating}),this;var o=jQuery("html, body");return o.is(":animated")&&(o.stop(),delete jQuery.fn.moveTo.animating),jQuery(document).trigger("moveToStarted"),jQuery(window).scrollTop(s),setTimeout(function(){jQuery(document).trigger("moveToFinished",r)},100),this}return jQuery(document).trigger("moveToFinished",this),this},function(){if(typeof jQuery=="undefined")throw new Error("jQuery is required for AJS to function.");typeof window.console=="undefined"?window.console={messages:[],log:function(e){this.messages.push(e)},show:function(){alert(this.messages.join("\n")),this.messages=[]}}:console.show=function(){},window.AJS=function(){function i(e){var t={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return typeof t[e]=="string"?t[e]:"&quot;"}var e=[],t,n,r=0,s=/[&"'<>`]/g,o={version:"${project.version}",params:{},$:jQuery,log:function(){typeof console!="undefined"&&console.log&&Function.prototype.apply.apply(console.log,[console,arguments])},warn:function(){typeof console!="undefined"&&console.warn&&Function.prototype.apply.apply(console.warn,[console,arguments])},error:function(){typeof console!="undefined"&&console.error&&Function.prototype.apply.apply(console.error,[console,arguments])},preventDefault:function(e){e.preventDefault()},stopEvent:function(e){return e.stopPropagation(),!1},include:function(t){if(!this.contains(e,t)){e.push(t);var n=document.createElement("script");n.src=t,this.$("body").append(n)}},toggleClassName:function(e,t){if(!(e=this.$(e)))return;e.toggleClass(t)},setVisible:function(e,t){if(!(e=this.$(e)))return;var n=this.$;n(e).each(function(){var e=n(this).hasClass("hidden");e&&t?n(this).removeClass("hidden"):!e&&!t&&n(this).addClass("hidden")})},setCurrent:function(e,t){if(!(e=this.$(e)))return;t?e.addClass("current"):e.removeClass("current")},isVisible:function(e){return!this.$(e).hasClass("hidden")},isClipped:function(e){return e=AJS.$(e),e.prop("scrollWidth")>e.prop("clientWidth")},populateParameters:function(e){e||(e=this.params);var t=this;this.$(".parameters input").each(function(){var n=this.value,r=this.title||this.id;t.$(this).hasClass("list")?e[r]?e[r].push(n):e[r]=[n]:e[r]=n.match(/^(tru|fals)e$/i)?n.toLowerCase()==="true":n})},toInit:function(e){var t=this;return this.$(function(){try{e.apply(this,arguments)}catch(n){t.log("Failed to run init function: "+n+"\n"+e.toString())}}),this},indexOf:function(e,t,n){var r=e.length;n===null?n=0:n<0&&(n=Math.max(0,r+n));for(var i=n;i<r;i++)if(e[i]===t)return i;return-1},contains:function(e,t){return this.indexOf(e,t)>-1},firebug:function(){AJS.log("DEPRECATED: AJS.firebug should no longer be used.");var e=this.$(document.createElement("script"));e.attr("src","https://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js"),this.$("head").append(e),function(){window.firebug?firebug.init():setTimeout(AJS.firebug,0)}()},clone:function(e){return AJS.$(e).clone().removeAttr("id")},alphanum:function(e,t){e=(e+"").toLowerCase(),t=(t+"").toLowerCase();var n=/(\d+|\D+)/g,r=e.match(n),i=t.match(n),s=Math.max(r.length,i.length);for(var o=0;o<s;o++){if(o===r.length)return-1;if(o===i.length)return 1;var u=parseInt(r[o],10)+"",a=parseInt(i[o],10)+"";if(u===r[o]&&a===i[o]&&u!==a)return(u-a)/Math.abs(u-a);if((u!==r[o]||a!==i[o])&&r[o]!==i[o])return r[o]<i[o]?-1:1}return 0},onTextResize:function(e){if(typeof e=="function")if(AJS.onTextResize["on-text-resize"])AJS.onTextResize["on-text-resize"].push(function(t){e(t)});else{var t=AJS("div");t.css({width:"1em",height:"1em",position:"absolute",top:"-9999em",left:"-9999em"}),this.$("body").append(t),t.size=t.width(),setInterval(function(){if(t.size!==t.width()){t.size=t.width();for(var e=0,n=AJS.onTextResize["on-text-resize"].length;e<n;e++)AJS.onTextResize["on-text-resize"][e](t.size)}},0),AJS.onTextResize.em=t,AJS.onTextResize["on-text-resize"]=[function(t){e(t)}]}},unbindTextResize:function(e){for(var t=0,n=AJS.onTextResize["on-text-resize"].length;t<n;t++)if(AJS.onTextResize["on-text-resize"][t]===e)return AJS.onTextResize["on-text-resize"].splice(t,1)},escape:function(e){return escape(e).replace(/%u\w{4}/gi,function(e){return unescape(e)})},escapeHtml:function(e){return e.replace(s,i)},filterBySearch:function(e,t,n){if(!t)return[];var r=this.$,i=n&&n.keywordsField||"keywords",s=n&&n.ignoreForCamelCase?"i":"",o=n&&n.matchBoundary?"\\b":"",u=n&&n.splitRegex||/\s+/,a=t.split(u),f=[];r.each(a,function(){var e=[new RegExp(o+this,"i")];if(/^([A-Z][a-z]*) {2,}$/.test(this)){var t=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");e.push(new RegExp(t,s))}f.push(e)});var l=[];return r.each(e,function(){for(var e=0;e<f.length;e++){var t=!1;for(var n=0;n<f[e].length;n++)if(f[e][n].test(this[i])){t=!0;break}if(!t)return}l.push(this)}),l},drawLogo:function(e){AJS.log("DEPRECATED: AJS.drawLogo should no longer be used.");var t=e.scaleFactor||1,n=e.fill||"#fff",r=e.stroke||"#000",i=400*t,s=40*t,o=e.strokeWidth||1,u=e.containerID||".aui-logo";AJS.$(".aui-logo").length||AJS.$("body").append('<div id="aui-logo" class="aui-logo"><div>');var a=Raphael(u,i+50*t,s+100*t),f=a.path("M 0,0 c 3.5433333,-4.7243333 7.0866667,-9.4486667 10.63,-14.173 -14.173,0 -28.346,0 -42.519,0 C -35.432667,-9.4486667 -38.976333,-4.7243333 -42.52,0 -28.346667,0 -14.173333,0 0,0 z m 277.031,28.346 c -14.17367,0 -28.34733,0 -42.521,0 C 245.14,14.173 255.77,0 266.4,-14.173 c -14.17267,0 -28.34533,0 -42.518,0 C 213.25167,0 202.62133,14.173 191.991,28.346 c -14.17333,0 -28.34667,0 -42.52,0 14.17333,-18.8976667 28.34667,-37.7953333 42.52,-56.693 -7.08667,-9.448667 -14.17333,-18.897333 -21.26,-28.346 -14.173,0 -28.346,0 -42.519,0 7.08667,9.448667 14.17333,18.897333 21.26,28.346 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 -14.173333,0 -28.346667,0 -42.52,0 10.63,-14.173 21.26,-28.346 31.89,-42.519 -14.390333,0 -28.780667,0 -43.171,0 C 42.520733,1.330715e-4 31.889933,14.174867 21.26,28.347 c -42.520624,6.24e-4 -85.039187,-8.13e-4 -127.559,-0.001 11.220667,-14.961 22.441333,-29.922 33.662,-44.883 -6.496,-8.661 -12.992,-17.322 -19.488,-25.983 5.905333,0 11.810667,0 17.716,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.173333,0 28.346667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.173333,0 28.3466667,0 42.52,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.1733333,0 28.3466667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.390333,0 28.780667,0 43.171,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 42.51967,0 85.03933,0 127.559,0 10.63033,14.173333 21.26067,28.346667 31.891,42.52 14.17267,0 28.34533,0 42.518,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.17367,0 28.34733,0 42.521,0 14.17333,18.897667 28.34667,37.795333 42.52,56.693 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 z");f.scale(t,-t,0,0),f.translate(120*t,s),f.attr("fill",n),f.attr("stroke",r),f.attr("stroke-width",o)},debounce:function(e,t){var n,r;return function(){var i=arguments,s=this,o=function(){r=e.apply(s,i)};return clearTimeout(n),n=setTimeout(o,t),r}},id:function(e){t=r++ +"",n=e?e+t:"aui-uid-"+t;if(!document.getElementById(n))return n;n=n+"-"+(new Date).getTime();if(!document.getElementById(n))return n;throw new Error("ERROR: timestamped fallback ID "+n+" exists. AJS.id stopped.")},_addID:function(e,t){var n=AJS.$(e),r=t||!1;n.each(function(){var e=AJS.$(this);e.attr("id")||e.attr("id",AJS.id(r))})},enable:function(e,t){var n=AJS.$(e);return typeof t=="undefined"&&(t=!0),n.each(function(){this.disabled=!t})}};if(typeof AJS!="undefined")for(var u in AJS)o[u]=AJS[u];var a=function(){var e=null;return arguments.length&&typeof arguments[0]=="string"&&(e=AJS.$(document.createElement(arguments[0])),arguments.length===2&&e.html(arguments[1])),e};for(var f in o)a[f]=o[f];return a}(),AJS.$(function(){var e=AJS.$("body");e.data("auiVersion")||e.attr("data-aui-version",AJS.version),AJS.populateParameters()}),AJS.$.ajaxSettings.traditional=!0}(),AJS.format=function(e){var t=/'(?!')/g,n=/^\d+$/,r=/^(\d+),number$/,i=/^(\d+)\,choice\,(.+)/,s=/^(\d+)([#<])(.+)/,o=function(e,t){var o="",u;if(u=e.match(n))o=t.length>++e?t[e]:"";else if(u=e.match(r))o=t.length>++u[1]?t[u[1]]:"";else if(u=e.match(i)){var a=t.length>++u[1]?t[u[1]]:null;if(a!==null){var f=u[2].split("|"),l=null;for(var c=0;c<f.length;c++){var h=f[c].match(s),p=parseInt(h[1],10);if(a<p){if(l){o=l;break}o=h[3];break}if(a==p&&h[2]=="#"){o=h[3];break}c==f.length-1&&(o=h[3]),l=h[3]}var d=[o].concat(Array.prototype.slice.call(t,1));o=AJS.format.apply(AJS,d)}}return o},u=function(e){var t=!1,n=-1,r=0;for(var i=0;i<e.length;i++){var s=e.charAt(i);s=="'"&&(t=!t);if(t)continue;if(s==="{")r===0&&(n=i),r++;else if(s==="}"&&r>0){r--;if(r===0){var o=[];return o.push(e.substring(0,i+1)),o.push(e.substring(0,n)),o.push(e.substring(n+1,i)),o}}}return null},a=function(e){var n=arguments,r="",i=u(e);while(i)e=e.substring(i[0].length),r+=i[1].replace(t,""),r+=o(i[2],n),i=u(e);return r+=e.replace(t,""),r};return a.apply(AJS,arguments)},AJS.I18n={getText:function(e){var t=Array.prototype.slice.call(arguments,1);return AJS.I18n.keys&&Object.prototype.hasOwnProperty.call(AJS.I18n.keys,e)?AJS.format.apply(null,[AJS.I18n.keys[e]].concat(t)):e}},function(e){AJS._internal=AJS._internal||{},AJS._internal.widget=function(t,n){var r="_aui-widget-"+t;return function(t,i){var s,o;e.isPlainObject(t)?o=t:(s=t,o=i);var u=s&&e(s),a;return!u||!u.data(r)?(a=new n(u,o||{}),u=a.$el,u.data(r,a)):a=u.data(r),a}}}(AJS.$),AJS._internal||(AJS._internal={}),function(e){AJS._internal.browser={};var t=null;AJS._internal.browser.supportsCalc=function(){if(t===null){var n=e('<div style="height: 10px; height: -webkit-calc(20px + 0); height: calc(20px);"></div>');t=20===n.appendTo(document.documentElement).height(),n.remove()}return t}}(AJS.$),AJS.I18n.keys={},AJS.I18n.keys["aui.words.add"]="Add",AJS.I18n.keys["aui.words.update"]="Update",AJS.I18n.keys["aui.words.delete"]="Delete",AJS.I18n.keys["aui.words.remove"]="Remove",AJS.I18n.keys["aui.words.cancel"]="Cancel",AJS.I18n.keys["aui.words.loading"]="Loading",AJS.I18n.keys["aui.words.close"]="Close",AJS.I18n.keys["aui.enter.value"]="Enter value",AJS.I18n.keys["aui.keyboard.shortcut.type.x"]="Type ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.then.x"]="then ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.or.x"]="OR ''{0}''",AJS.I18n.keys["aui.words.more"]="More",function(e){var t;AJS.dim=function(n,r){return t||(t=e.browser.msie&&parseInt(e.browser.version,10)<8?e("html"):e(document.body)),AJS.dim.$dim||(AJS.dim.$dim=AJS("div").addClass("aui-blanket"),r&&AJS.dim.$dim.css({zIndex:r}),e.browser.msie&&AJS.dim.$dim.css({width:"200%",height:Math.max(e(document).height(),e(window).height())+"px"}),e("body").append(AJS.dim.$dim),e.browser.msie&&n!==!1&&(AJS.dim.$shim=e('<iframe frameBorder="0" class="aui-blanket-shim" src="about:blank"/>'),AJS.dim.$shim.css({height:Math.max(e(document).height(),e(window).height())+"px"}),r&&AJS.dim.$shim.css({zIndex:r-1}),e("body").append(AJS.dim.$shim),AJS.dim.shim=AJS.dim.$shim),AJS.dim.cachedOverflow=t.css("overflow"),t.css("overflow","hidden")),AJS.dim.$dim},AJS.undim=function(){if(AJS.dim.$dim){AJS.dim.$dim.remove(),AJS.dim.$dim=null,AJS.dim.$shim&&(AJS.dim.$shim.remove(),AJS.dim.$shim=null),t&&t.css("overflow",AJS.dim.cachedOverflow);if(e.browser.safari){var n=e(window).scrollTop();e(window).scrollTop(10+5*(n==10)).scrollTop(n)}}}}(AJS.$),AJS.FocusManager=function(e){function t(){}return t.defaultFocusSelector=":input:visible:enabled",t.prototype.enter=function(e){var n=e.attr("data-aui-focus-selector"),r=n||t.defaultFocusSelector,i=e.is(r)?e:e.find(r);i.first().focus()},t.prototype.exit=function(t){var n=document.activeElement;(t[0]===n||t.has(n).length)&&e(n).blur()},t.global=new t,t}(AJS.$),function(e){function r(t){this.$el=e(t||'<div class="aui-layer" aria-hidden="true"></div>')}var t="_aui-internal-layer-",n="_aui-internal-layer-global-";r.prototype.changeSize=function(e,t){return this.$el.css("width",e),this.$el.css("height",t==="content"?"":t),this},r.prototype.on=function(e,n){return this.$el.on(t+e,n),this},r.prototype.show=function(){return this.$el.is(":visible")?this:(AJS.LayerManager.global.push(this.$el),this)},r.prototype.hide=function(){return this.$el.is(":visible")?(AJS.LayerManager.global.popUntil(this.$el),this):this},r.prototype.remove=function(){this.hide(),this.$el.remove(),this.$el=null},r.prototype._showLayer=function(r){this.$el.parent().is("body")||this.$el.appendTo(document.body),this.$el.data("_aui-layer-cached-z-index",this.$el.css("z-index")),this.$el.css("z-index",r),this.$el.attr("aria-hidden","false"),AJS.FocusManager.global.enter(this.$el),this.$el.trigger(t+"show"),e(document).trigger(n+"show",[this.$el])},r.prototype._hideLayer=function(){AJS.FocusManager.global.exit(this.$el),this.$el.attr("aria-hidden","true"),this.$el.css("z-index",this.$el.data("_aui-layer-cached-z-index")||""),this.$el.data("_aui-layer-cached-z-index",""),this.$el.trigger(t+"hide"),e(document).trigger(n+"hide",[this.$el])},r.prototype.isBlanketed=function(){return this.$el.attr("data-aui-blanketed")==="true"},r.prototype.isModal=function(){return this.$el.attr("data-aui-modal")==="true"},AJS.layer=AJS._internal.widget("layer",r),AJS.layer.on=function(t,r){return e(document).on(n+t,r),this}}(AJS.$),function(e){function t(e,t){var n=e.length;while(n--)if(t(e[n]))return n;return-1}function n(e,n){return t(e,function(e){return e[0]===n[0]})}function r(e){return t(e,function(e){return AJS.layer(e).isBlanketed()})}function i(e){var t;if(e.length){var n=e[e.length-1],r=parseInt(n.css("z-index"),10);t=(isNaN(r)?0:r)+100}else t=0;return Math.max(3e3,t)}function s(){this._stack=[]}s.prototype.push=function(e){if(n(this._stack,e)>=0)throw new Error("The given element is already an active layer");var t=AJS.layer(e),s=i(this._stack);t._showLayer(s),t.isBlanketed()&&(r(this._stack)>=0&&AJS.undim(),AJS.dim(!1,s-20)),this._stack.push(e)},s.prototype.popUntil=function(e){var t=n(this._stack,e);if(t<0)return null;var i=this._stack.slice(t);this._stack=this._stack.slice(0,t);var s=r(i);if(s>=0){AJS.undim();var o=r(this._stack);o>=0&&AJS.dim(!1,this._stack[o].css("z-index")-20)}var u;while(i.length)u=i.pop(),AJS.layer(u)._hideLayer();return u},s.prototype.popTop=function(){if(!this._stack.length)return null;var e=this._stack[this._stack.length-1];return AJS.layer(e).isModal()?null:this.popUntil(e)},s.prototype.popUntilTopBlanketed=function(){var e=r(this._stack);if(e<0)return null;var t=this._stack[e];return AJS.layer(t).isModal()?null:this.popUntil(t)},AJS.LayerManager=s}(AJS.$),function(e){AJS.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}(AJS.$),function(e){AJS.LayerManager.global=new AJS.LayerManager,e(document).on("keydown",function(e){if(e.keyCode===AJS.keyCode.ESCAPE){var t=AJS.LayerManager.global.popTop();t&&e.preventDefault()}}).on("click",".aui-blanket",function(e){var t=AJS.LayerManager.global.popUntilTopBlanketed();t&&e.preventDefault()})}(AJS.$),function(e){function t(){var t=[],n=e(window),r,i,s=function(e){function n(e){return t.indexOf(" "+e+" ")>=0}var t=" "+e.$el[0].className+" ",s=n("aui-dialog2-small")?"small":n("aui-dialog2-medium")?"medium":n("aui-dialog2-large")?"large":n("aui-dialog2-xlarge")?"xlarge":"custom",o,u;switch(s){case"small":o=i>420,u=r>500;break;case"medium":o=i>620,u=r>500;break;case"large":o=i>820,u=r>700;break;case"xlarge":o=i>1e3,u=r>700;break;default:o=!0,u=!0}e.$el.toggleClass("aui-dialog2-fullscreen",!o).css("height",r-107-(o?200:0)),e.$el.find(".aui-dialog2-content").css("min-height",u?"":r>500?"193px":"93px")},o=function(){r=n.height(),i=n.width();for(var e=0,o=t.length;e<o;e++)s(t[e])},u=function(e){t.length||(r=n.height(),i=n.width(),n.on("resize",o)),s(e),t.push(e)},a=function(r){t=e.grep(t,function(e){return r!==e}),t.length||n.off("resize",o)};return{show:u,hide:a}}function r(e,r){n||(n=AJS._internal.browser.supportsCalc()?{}:t()),n[r]&&n[r](e)}function s(e){jQuery.each(i,function(t,n){var r="data-"+t;e[0].hasAttribute(r)||e.attr(r,n)})}function o(t){t?this.$el=e(t):this.$el=e(AJS.parseHtml(e(aui.dialog.dialog2({})))),s(this.$el)}var n,i={"aui-focus-selector":".aui-dialog2-content :input:visible:enabled","aui-blanketed":"true"};o.prototype.on=function(e,t){return AJS.layer(this.$el).on(e,t),this},o.prototype.show=function(){return r(this,"show"),AJS.layer(this.$el).show(),this},o.prototype.hide=function(){return r(this,"hide"),AJS.layer(this.$el).hide(),this.$el.data("aui-remove-on-hide")&&AJS.layer(this.$el).remove(),this},o.prototype.remove=function(){return r(this,"hide"),AJS.layer(this.$el).remove(),this},AJS.dialog2=AJS._internal.widget("dialog2",o),AJS.dialog2.on=function(e,t){AJS.layer.on(e,function(e,n){n.is(".aui-dialog2")&&t.apply(this,arguments)})},e(document).on("click",".aui-dialog2-header-close",function(t){t.preventDefault(),AJS.dialog2(e(this).closest(".aui-dialog2")).hide()})}(AJS.$),function(){function s(e,t){t=t||"";var n=new RegExp(l(e)+"=([^|]+)"),r=t.match(n);return r&&r[1]}function o(e,t,r){var i=new RegExp("(\\s|\\|)*\\b"+l(e)+"=[^|]*[|]*");r=r||"",r=r.replace(i,"|");if(t!==""){var s=e+"="+t;r.length+s.length<4020&&(r+="|"+s)}return r.replace(n,"|")}function u(e){return e.replace(t,"")}function a(e){var t=new RegExp("\\b"+l(e)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),n=document.cookie.match(t);return n&&u(n[1])}function f(e,t,n){var i="",s,o='"'+t.replace(r,'\\"')+'"';n&&(s=new Date,s.setTime(+s+n*24*60*60*1e3),i="; expires="+s.toGMTString()),document.cookie=e+"="+o+i+";path=/"}function l(e){return e.replace(i,"\\$&")}var e="AJS.conglomerate.cookie",t=/(\\|^"|"$)/g,n=/\|\|+/g,r=/"/g,i=/[.*+?|^$()[\]{\\]/g;AJS.Cookie={save:function(t,n,r){var i=a(e);i=o(t,n,i),f(e,i,r||365)},read:function(t,n){var r=a(e),i=s(t,r);return i!=null?i:n},erase:function(e){this.save(e,"")}}}(),AJS.bind=function(e,t,n){try{return typeof n=="function"?AJS.$(window).bind(e,t,n):AJS.$(window).bind(e,t)}catch(r){AJS.log("error while binding: "+r.message)}},AJS.unbind=function(e,t){try{return AJS.$(window).unbind(e,t)}catch(n){AJS.log("error while unbinding: "+n.message)}},AJS.trigger=function(e,t){try{return AJS.$(window).trigger(e,t)}catch(n){AJS.log("error while triggering: "+n.message)}},AJS.popup=function(e){var t={width:800,height:600,closeOnOutsideClick:!1,keypressListener:function(e){e.keyCode===27&&n.is(":visible")&&a.hide()}};typeof e!="object"&&(e={width:arguments[0],height:arguments[1],id:arguments[2]},e=AJS.$.extend({},e,arguments[3])),e=AJS.$.extend({},t,e);var n=AJS("div").addClass("aui-popup");e.id&&n.attr("id",e.id);var r=3e3;AJS.$(".aui-dialog").each(function(){var e=AJS.$(this);r=e.css("z-index")>r?e.css("z-index"):r});var i=function(t,i){return e.width=t=t||e.width,e.height=i=i||e.height,n.css({marginTop:-Math.round(i/2)+"px",marginLeft:-Math.round(t/2)+"px",width:t,height:i,"z-index":parseInt(r,10)+2}),arguments.callee}(e.width,e.height);AJS.$("body").append(n),n.hide(),AJS.enable(n);var s=AJS.$(".aui-blanket"),o=function(e,t){var n=AJS.$(e,t);return n.length?(n.focus(),!0):!1},u=function(t){if(AJS.$(".dialog-page-body",t).find(":focus").length!==0)return;if(e.focusSelector)return o(e.focusSelector,t);var n=":input:visible:enabled:first";if(o(n,AJS.$(".dialog-page-body",t)))return;if(o(n,AJS.$(".dialog-button-panel",t)))return;o(n,AJS.$(".dialog-page-menu",t))},a={changeSize:function(t,n){(t&&t!=e.width||n&&n!=e.height)&&i(t,n),this.show()},show:function(){var t=function(){AJS.$(document).off("keydown",e.keypressListener).on("keydown",e.keypressListener),AJS.dim(),s=AJS.$(".aui-blanket"),s.size()!=0&&e.closeOnOutsideClick&&s.click(function(){n.is(":visible")&&a.hide()}),n.show(),AJS.popup.current=this,u(n),AJS.$(document).trigger("showLayer",["popup",this])};t.call(this),this.show=t},hide:function(){AJS.$(document).unbind("keydown",e.keypressListener),s.unbind(),this.element.hide(),AJS.$(".aui-dialog:visible").size()==0&&AJS.undim();var t=document.activeElement;this.element.has(t).length&&t.blur(),AJS.$(document).trigger("hideLayer",["popup",this]),AJS.popup.current=null,this.enable()},element:n,remove:function(){n.remove(),this.element=null},disable:function(){this.disabled||(this.popupBlanket=AJS.$("<div class='dialog-blanket'> </div>").css({height:n.height(),width:n.width()}),n.append(this.popupBlanket),this.disabled=!0)},enable:function(){this.disabled&&(this.disabled=!1,this.popupBlanket.remove(),this.popupBlanket=null)}};return a},function(){function e(e,t,n,r){e.buttonpanel||e.addButtonPanel(),this.page=e,this.onclick=n,this._onclick=function(){return n.call(this,e.dialog,e)===!0},this.item=AJS("button",t).addClass("button-panel-button"),r&&this.item.addClass(r),typeof n=="function"&&this.item.click(this._onclick),e.buttonpanel.append(this.item),this.id=e.button.length,e.button[this.id]=this}function t(e,t,n,r,i){e.buttonpanel||e.addButtonPanel(),i||(i="#"),this.page=e,this.onclick=n,this._onclick=function(){return n.call(this,e.dialog,e)===!0},this.item=AJS("a",t).attr("href",i).addClass("button-panel-link"),r&&this.item.addClass(r),typeof n=="function"&&this.item.click(this._onclick),e.buttonpanel.append(this.item),this.id=e.button.length,e.button[this.id]=this}function n(e,t){var n=e=="left"?-1:1;return function(e){var r=this.page[t];if(this.id!=(n==1?r.length-1:0)){n*=e||1,r[this.id+n].item[n<0?"before":"after"](this.item),r.splice(this.id,1),r.splice(this.id+n,0,this);for(var i=0,s=r.length;i<s;i++)t=="panel"&&this.page.curtab==r[i].id&&(this.page.curtab=i),r[i].id=i}return this}}function r(e){return function(){this.page[e].splice(this.id,1);for(var t=0,n=this.page[e].length;t<n;t++)this.page[e][t].id=t;this.item.remove()}}e.prototype.moveUp=e.prototype.moveLeft=n("left","button"),e.prototype.moveDown=e.prototype.moveRight=n("right","button"),e.prototype.remove=r("button"),e.prototype.html=function(e){return this.item.html(e)},e.prototype.onclick=function(e){if(typeof e=="undefined")return this.onclick;this.item.unbind("click",this._onclick),this._onclick=function(){return e.call(this,page.dialog,page)===!0},typeof e=="function"&&this.item.click(this._onclick)};var i=20,s=function(e,t,n,r,s){n instanceof AJS.$||(n=AJS.$(n)),this.dialog=e.dialog,this.page=e,this.id=e.panel.length,this.button=AJS("button").html(t).addClass("item-button"),s&&(this.button[0].id=s),this.item=AJS("li").append(this.button).addClass("page-menu-item"),this.body=AJS("div").append(n).addClass("dialog-panel-body").css("height",e.dialog.height+"px"),this.padding=i,r&&this.body.addClass(r);var o=e.panel.length,u=this;e.menu.append(this.item),e.body.append(this.body),e.panel[o]=this;var a=function(){var t;e.curtab+1&&(t=e.panel[e.curtab],t.body.hide(),t.item.removeClass("selected"),typeof t.onblur=="function"&&t.onblur()),e.curtab=u.id,u.body.show(),u.item.addClass("selected"),typeof u.onselect=="function"&&u.onselect(),typeof e.ontabchange=="function"&&e.ontabchange(u,t)};this.button.click?this.button.click(a):(AJS.log("atlassian-dialog:Panel:constructor - this.button.click false"),this.button.onclick=a),a(),o==0?e.menu.css("display","none"):e.menu.show()};s.prototype.select=function(){this.button.click()},s.prototype.moveUp=s.prototype.moveLeft=n("left","panel"),s.prototype.moveDown=s.prototype.moveRight=n("right","panel"),s.prototype.remove=r("panel"),s.prototype.html=function(e){return e?(this.body.html(e),this):this.body.html()},s.prototype.setPadding=function(e){return isNaN(+e)||(this.body.css("padding",+e),this.padding=+e,this.page.recalcSize()),this};var o=56,u=51,a=50,f=function(e,t){this.dialog=e,this.id=e.page.length,this.element=AJS("div").addClass("dialog-components"),this.body=AJS("div").addClass("dialog-page-body"),this.menu=AJS("ul").addClass("dialog-page-menu").css("height",e.height+"px"),this.body.append(this.menu),this.curtab,this.panel=[],this.button=[],t&&this.body.addClass(t),e.popup.element.append(this.element.append(this.menu).append(this.body)),e.page[e.page.length]=this};f.prototype.recalcSize=function(){var e=this.header?o:0,t=this.buttonpanel?u:0;for(var n=this.panel.length;n--;){var r=this.dialog.height-e-t;this.panel[n].body.css("height",r),this.menu.css("height",r)}},f.prototype.addButtonPanel=function(){this.buttonpanel=AJS("div").addClass("dialog-button-panel"),this.element.append(this.buttonpanel)},f.prototype.addPanel=function(e,t,n,r){return new s(this,e,t,n,r),this.recalcSize(),this},f.prototype.addHeader=function(e,t){return this.header&&this.header.remove(),this.header=AJS("h2").text(e||"").addClass("dialog-title"),t&&this.header.addClass(t),this.element.prepend(this.header),this.recalcSize(),this},f.prototype.addButton=function(t,n,r){return new e(this,t,n,r),this.recalcSize(),this},f.prototype.addLink=function(e,n,r,i){return new t(this,e,n,r,i),this.recalcSize(),this},f.prototype.gotoPanel=function(e){this.panel[e.id||e].select()},f.prototype.getCurrentPanel=function(){return this.panel[this.curtab]},f.prototype.hide=function(){this.element.hide()},f.prototype.show=function(){this.element.show()},f.prototype.remove=function(){this.element.remove()},AJS.Dialog=function(e,t,n){var r={};+e||(r=Object(e),e=r.width,t=r.height,n=r.id),this.height=t||480,this.width=e||640,this.id=n,r=AJS.$.extend({},r,{width:this.width,height:this.height,id:this.id}),this.popup=AJS.popup(r),this.popup.element.addClass("aui-dialog"),this.page=[],this.curpage=0,new f(this)},AJS.Dialog.prototype.addHeader=function(e,t){return this.page[this.curpage].addHeader(e,t),this},AJS.Dialog.prototype.addButton=function(e,t,n){return this.page[this.curpage].addButton(e,t,n),this},AJS.Dialog.prototype.addLink=function(e,t,n,r){return this.page[this.curpage].addLink(e,t,n,r),this},AJS.Dialog.prototype.addSubmit=function(e,t){return this.page[this.curpage].addButton(e,t,"button-panel-submit-button"),this},AJS.Dialog.prototype.addCancel=function(e,t){return this.page[this.curpage].addLink(e,t,"button-panel-cancel-link"),this},AJS.Dialog.prototype.addButtonPanel=function(){return this.page[this.curpage].addButtonPanel(),this},AJS.Dialog.prototype.addPanel=function(e,t,n,r){return this.page[this.curpage].addPanel(e,t,n,r),this},AJS.Dialog.prototype.addPage=function(e){return new f(this,e),this.page[this.curpage].hide(),this.curpage=this.page.length-1,this},AJS.Dialog.prototype.nextPage=function(){return this.page[this.curpage++].hide(),this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.prevPage=function(){return this.page[this.curpage--].hide(),this.curpage<0&&(this.curpage=this.page.length-1),this.page[this.curpage].show(),this},AJS.Dialog.prototype.gotoPage=function(e){return this.page[this.curpage].hide(),this.curpage=e,this.curpage<0?this.curpage=this.page.length-1:this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.getPanel=function(e,t){var n=t==null?this.curpage:e;return t==null&&(t=e),this.page[n].panel[t]},AJS.Dialog.prototype.getPage=function(e){return this.page[e]},AJS.Dialog.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()},AJS.Dialog.prototype.gotoPanel=function(e,t){if(t!=null){var n=e.id||e;this.gotoPage(n)}this.page[this.curpage].gotoPanel(typeof t=="undefined"?e:t)},AJS.Dialog.prototype.show=function(){return this.popup.show(),AJS.trigger("show.dialog",{dialog:this}),this},AJS.Dialog.prototype.hide=function(){return this.popup.hide(),AJS.trigger("hide.dialog",{dialog:this}),this},AJS.Dialog.prototype.remove=function(){this.popup.hide(),this.popup.remove(),AJS.trigger("remove.dialog",{dialog:this})},AJS.Dialog.prototype.disable=function(){return this.popup.disable(),this},AJS.Dialog.prototype.enable=function(){return this.popup.enable(),this},AJS.Dialog.prototype.get=function(e){var t=[],n=this,r='#([^"][^ ]*|"[^"]*")',i=":(\\d+)",s="page|panel|button|header",o="(?:("+s+")(?:"+r+"|"+i+")?"+"|"+r+")",u=new RegExp("(?:^|,)\\s*"+o+"(?:\\s+"+o+")?"+"\\s*(?=,|$)","ig");(e+"").replace(u,function(e,r,i,s,o,u,a,f,l){r=r&&r.toLowerCase();var c=[];r=="page"&&n.page[s]?(c.push(n.page[s]),r=u,r=r&&r.toLowerCase(),i=a,s=f,o=l):c=n.page,i=i&&(i+"").replace(/"/g,""),a=a&&(a+"").replace(/"/g,""),o=o&&(o+"").replace(/"/g,""),l=l&&(l+"").replace(/"/g,"");if(r||o)for(var h=c.length;h--;){if(o||r=="panel"&&(i||!i&&s==null))for(var p=c[h].panel.length;p--;)(c[h].panel[p].button.html()==o||c[h].panel[p].button.html()==i||r=="panel"&&!i&&s==null)&&t.push(c[h].panel[p]);if(o||r=="button"&&(i||!i&&s==null))for(var p=c[h].button.length;p--;)(c[h].button[p].item.html()==o||c[h].button[p].item.html()==i||r=="button"&&!i&&s==null)&&t.push(c[h].button[p]);c[h][r]&&c[h][r][s]&&t.push(c[h][r][s]),r=="header"&&c[h].header&&t.push(c[h].header)}else t=t.concat(c)});var a={length:t.length};for(var f=t.length;f--;){a[f]=t[f];for(var l in t[f])l in a||function(e){a[e]=function(){for(var t=this.length;t--;)typeof this[t][e]=="function"&&this[t][e].apply(this[t],arguments)}}(l)}return a},AJS.Dialog.prototype.updateHeight=function(){var e=0,t=AJS.$(window).height()-o-u-a*2;for(var n=0;this.getPanel(n);n++)this.getPanel(n).body.css({height:"auto",display:"block"}).outerHeight()>e&&(e=Math.min(t,this.getPanel(n).body.outerHeight())),n!==this.page[this.curpage].curtab&&this.getPanel(n).body.css({display:"none"});for(n=0;this.getPanel(n);n++)this.getPanel(n).body.css({height:e||this.height});this.page[0].menu.height(e),this.height=e+o+u+1,this.popup.changeSize(undefined,this.height)},AJS.Dialog.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=AJS.$(window).height()-a*2},AJS.Dialog.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)},AJS.Dialog.prototype.getCurPanelButton=function(){return this.getCurPanel().button}}(),function(e){function i(e){e.preventDefault()}function f(e){if(e.click)e.click();else{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}function l(t,n){return t===n||e.contains(n,t)}function c(t){t instanceof AJS.$||(t=e(t));var n=t.attr("aria-owns"),r=t.attr("aria-haspopup"),i=document.getElementById(n);if(i)return e(i);throw n?r?i?new Error("Dropdown 2 trigger unknown error. I don't know what you did, but there's smoke everywhere. Consult the documentation."):new Error("Dropdown 2 trigger aria-owns attr set to nonexistent id: "+n):new Error("Dropdown 2 trigger required attribute not set: aria-haspopup"):new Error("Dropdown 2 trigger required attribute not set: aria-owns")}var t=e(document),n=AJS.$.browser.msie&&parseInt(AJS.$.browser.version,10)==8,r=null,s=function(){function r(r){!n&&r.which===1&&(n=!0,t.bind("mouseup mouseleave",s),e(this).trigger("aui-button-invoke"))}function s(){t.unbind("mouseup mouseleave",s),setTimeout(function(){n=!1},0)}function o(){n||e(this).trigger("aui-button-invoke")}var n=!1;return typeof document.addEventListener=="undefined"?{click:o,"click selectstart":i,mousedown:function(e){function i(e){switch(e.toElement){case null:case t:case document.body:case document.documentElement:e.returnValue=!1}}var t=this,n=document.activeElement;r.call(this,e),n!==null&&(n.attachEvent("onbeforedeactivate",i),setTimeout(function(){n.detachEvent("onbeforedeactivate",i)},0))}}:{click:o,"click mousedown":i,mousedown:r}}(),o={"aui-button-invoke":function(s,o){function E(t,n){t.each(function(){var t=e(this);t.attr("role",n),t.hasClass("checked")?(t.attr("aria-checked","true"),n=="radio"&&t.closest("ul").attr("role","radiogroup")):t.attr("aria-checked","false")})}function S(){var t=a.offset(),r=a.outerWidth();u.css({left:0,top:0});var i=u.outerWidth(),s=e("body").outerWidth(!0),o=Math.max(parseInt(u.css("min-width"),10),r),f=a.data("container")||!1,l="left",c;n&&(c=parseInt(u.css("border-left-width"),10)+parseInt(u.css("border-right-width"),10),i-=c,o-=c),h||u.css("min-width",o+"px");var p=t.left,d=t.top+a.outerHeight();if(h){var v=3;p=t.left+y.outerWidth()-v,d=t.top}s<p+i&&i<=p+r&&(p=t.left+r-i,h&&(p=t.left-i),l="right");if(f){var m=a.closest(f),g=a.offset().left+a.outerWidth(),b=g+i;o>=i&&(i=o),b>g&&(p=g-i,l="right"),n&&(p-=c)}u.attr({"data-dropdown2-alignment":l,"aria-hidden":"false"}).css({display:"block",left:p+"px",top:d+"px"}),u.appendTo(document.body)}function x(){F(),q("off"),setTimeout(function(){u.css("display","none").css("min-width","").insertAfter(a).attr("aria-hidden","true"),h||a.removeClass("active"),A().removeClass("active"),u.removeClass("aui-dropdown2-in-toolbar"),u.removeClass("aui-dropdown2-in-buttons"),d?u.insertBefore(d):u.appendTo(p),u.trigger("aui-dropdown2-hide")},0)}function T(){x(),h&&y.trigger("aui-dropdown2-hide-all")}function N(e){h&&e.target===y[0]&&x()}function C(e){return!e.is(".disabled, [aria-disabled=true]")}function k(e){return e.hasClass("aui-dropdown2-sub-trigger")}function L(t,n){if(!k(t))return;n=e.extend({},n,{$menu:g});var r=c(t);r.is(":visible")?r.trigger("aui-dropdown2-select-first"):t.trigger("aui-button-invoke",n)}function A(){return u.find("a.active")}function M(e){return O&&O[0]===e[0]?!1:(O=e,A().removeClass("active"),C(e)&&e.addClass("active"),u.trigger("aui-dropdown2-item-selected"),I(),!0)}function _(){M(u.find("a:not(.disabled)").first())}function D(e){var t=u.find("> ul > li > a, > .aui-dropdown2-section > ul > li > a").not(".disabled");M(B(t,e,!0))}function P(e){e.length>0&&(T(),e.trigger("aui-button-invoke"))}function H(e){P(B(g.find(".aui-dropdown2-trigger").not(".disabled, [aria-disabled=true], .aui-dropdown2-sub-trigger"),e,!1))}function B(e,t,n){var r=e.index(e.filter(".active"));return r+=r<0&&t<0?1:0,r+=t,n?r%=e.length:r<0&&(r=e.length),e.eq(r)}function j(){P(e(this))}function F(){r===w&&(t.unbind(w),r=null)}function I(){if(r===w)return;t.unbind(r),t.bind(w),r=w}function q(e){var t="bind",n="delegate";e!=="on"&&(t="unbind",n="undelegate"),h?y[t]("aui-dropdown2-hide aui-dropdown2-item-selected aui-dropdown2-step-out",N):(g[n](".aui-dropdown2-trigger:not(.active)","mousemove",j),a[t]("aui-button-invoke",x)),u[t]("aui-dropdown2-hide-all",T),u[n]("a",b),u[t]("aui-dropdown2-hide",I),u[t]("aui-dropdown2-select-first",_)}o=e.extend({selectFirst:!0},o);var u=c(this),a=e(this).addClass("active"),h=a.hasClass("aui-dropdown2-sub-trigger"),p=u.parent()[0],d=u.next()[0],v=e(this).attr("data-dropdown2-hide-location");if(v){var m=document.getElementById(v);if(!m)throw new Error("The specified data-dropdown2-hide-location id doesn't exist");p=e(m),d=undefined}var g=o.$menu||a.closest(".aui-dropdown2-trigger-group");if(h){var y=a.closest(".aui-dropdown2");u.addClass(y.attr("class")).addClass("aui-dropdown2-sub-menu")}var b={click:function(t){var n=e(this);if(!C(n))return;n.hasClass("interactive")||T(),k(n)&&(L(n,{selectFirst:!1}),i(t))},mousemove:function(){var t=e(this),n=M(t);n&&L(t,{selectFirst:!1})}},w={"click focusin mousedown":function(e){var t=e.target;if(document===t&&e.type==="focusin")return;!l(t,u[0])&&!l(t,a[0])&&T()},keydown:function(e){var t;if(e.shiftKey&&e.keyCode==9)D(-1);else switch(e.keyCode){case 13:t=A(),k(t)?L(t):f(t[0]);break;case 27:x();break;case 37:t=A();if(k(t)){var n=c(t);if(n.is(":visible")){u.trigger("aui-dropdown2-step-out");return}}h?x():H(-1);break;case 38:D(-1);break;case 39:t=A(),k(t)?L(t):H(1);break;case 40:D(1);break;case 9:D(1);break;default:return}i(e)}};a.attr("aria-controls",a.attr("aria-owns")),n&&u.removeClass("aui-dropdown2-tailed"),u.find(".disabled").attr("aria-disabled","true"),u.find("li.hidden > a").addClass("disabled").attr("aria-disabled","true"),E(u.find(".aui-dropdown2-checkbox"),"checkbox"),E(u.find(".aui-dropdown2-radio"),"radio"),S(),a.hasClass("toolbar-trigger")&&u.addClass("aui-dropdown2-in-toolbar"),a.parent().hasClass("aui-buttons")&&u.addClass("aui-dropdown2-in-buttons"),a.parents().hasClass("aui-header")&&u.addClass("aui-dropdown2-in-header"),u.trigger("aui-dropdown2-show",o),o.selectFirst&&_(),q("on");var O=null},mousedown:function(t){t.which===1&&e(this).bind(u)}},u={mouseleave:function(){t.bind(a)},"mouseup mouseleave":function(){e(this).unbind(u)}},a={mouseup:function(t){var n=e(t.target).closest(".aui-dropdown2 a, .aui-dropdown2-trigger")[0];n&&setTimeout(function(){f(n)},0)},"mouseup mouseleave":function(){e(this).unbind(a)}};t.delegate(".aui-dropdown2-trigger",s),t.delegate(".aui-dropdown2-trigger:not(.active):not([aria-disabled=true]),.aui-dropdown2-sub-trigger:not([aria-disabled=true])",o),t.delegate(".aui-dropdown2-checkbox:not(.disabled)","click",function(){var t=e(this);t.hasClass("checked")?(t.removeClass("checked").attr("aria-checked","false"),t.trigger("aui-dropdown2-item-uncheck")):(t.addClass("checked").attr("aria-checked","true"),t.trigger("aui-dropdown2-item-check"))}),t.delegate(".aui-dropdown2-radio:not(.checked):not(.disabled)","click",function(){var t=e(this),n=t.closest("ul").find(".checked");n.removeClass("checked").attr("aria-checked","false").trigger("aui-dropdown2-item-uncheck"),t.addClass("checked").attr("aria-checked","true").trigger("aui-dropdown2-item-check")}),t.delegate(".aui-dropdown2 a.disabled","click",function(e){i(e)})}(AJS.$),AJS.inlineHelp=function(){AJS.$(".icon-inline-help").click(function(){var e=AJS.$(this).siblings(".field-help");e.hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")})},function(e){function t(t){var n=e(t),r=e.extend({left:0,top:0},n.offset());return{left:r.left,top:r.top,width:n.outerWidth(),height:n.outerHeight()}}AJS.InlineDialog=function(t,n,r,i){i&&i.getArrowAttributes&&AJS.log("DEPRECATED: getArrowAttributes - See https://ecosystem.atlassian.net/browse/AUI-1362"),i&&i.getArrowPath&&AJS.log("DEPRECATED: getArrowPath - See https://ecosystem.atlassian.net/browse/AUI-1362");if(typeof n=="undefined"){n=String(Math.random()).replace(".","");if(e("#inline-dialog-"+n+", #arrow-"+n+", #inline-dialog-shim-"+n).length)throw"GENERATED_IDENTIFIER_NOT_UNIQUE"}var s=e.extend(!1,AJS.InlineDialog.opts,i),o=function(){return window.Raphael&&i&&(i.getArrowPath||i.getArrowAttributes)},u,a,f,l=!1,c=!1,h=!1,p,d,v=e('<div id="inline-dialog-'+n+'" class="aui-inline-dialog"><div class="contents"></div><div id="arrow-'+n+'" class="arrow"></div></div>'),m=e("#arrow-"+n,v),g=v.find(".contents");o()||v.find(".arrow").addClass("aui-css-arrow"),g.css("width",s.width+"px"),g.mouseover(function(e){clearTimeout(a),v.unbind("mouseover")}).mouseout(function(){w()});var y=function(){return u||(u={popup:v,hide:function(){w(0)},id:n,show:function(){b()},persistent:s.persistent?!0:!1,reset:function(){function t(t,r){t.css(r.popupCss);if(o()){r.displayAbove&&(r.arrowCss.top-=e.browser.msie?10:9),t.arrowCanvas||(t.arrowCanvas=Raphael("arrow-"+n,16,16));var i=s.getArrowPath,u=e.isFunction(i)?i(r):i;t.arrowCanvas.path(u).attr(s.getArrowAttributes())}else r.displayAbove&&!m.hasClass("aui-bottom-arrow")?m.addClass("aui-bottom-arrow"):r.displayAbove||m.removeClass("aui-bottom-arrow");m.css(r.arrowCss)}var r=s.calculatePositions(v,d,p,s);t(v,r),v.fadeIn(s.fadeTime,function(){});if(e.browser.msie&&~~e.browser.version<10){var i=e("#inline-dialog-shim-"+n);i.length||e(v).prepend(e('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+n+'" frameBorder="0" src="javascript:false;"></iframe>')),i.css({width:g.outerWidth(),height:g.outerHeight()})}}}),u},b=function(){if(v.is(":visible"))return;f=setTimeout(function(){if(!h||!c)return;s.addActiveClass&&e(t).addClass("active"),l=!0,s.persistent||C(),AJS.InlineDialog.current=y(),e(document).trigger("showLayer",["inlineDialog",y()]),y().reset()},s.showDelay)},w=function(n){if(typeof n=="undefined"&&s.persistent)return;c=!1,l&&s.preHideCallback.call(v[0].popup)&&(n=n==null?s.hideDelay:n,clearTimeout(a),clearTimeout(f),n!=null&&(a=setTimeout(function(){k(),s.addActiveClass&&e(t).removeClass("active"),v.fadeOut(s.fadeTime,function(){s.hideCallback.call(v[0].popup)}),v.arrowCanvas&&(v.arrowCanvas.remove(),v.arrowCanvas=null),l=!1,c=!1,e(document).trigger("hideLayer",["inlineDialog",y()]),AJS.InlineDialog.current=null,s.cacheContent||(h=!1,S=!1)},n)))},E=function(t,i){var o=e(i);s.upfrontCallback.call({popup:v,hide:function(){w(0)},id:n,show:function(){b()}}),v.each(function(){typeof this.popup!="undefined"&&this.popup.hide()}),s.closeOthers&&e(".aui-inline-dialog").each(function(){!this.popup.persistent&&this.popup.hide()}),d={target:o},t?p={x:t.pageX,y:t.pageY}:p={x:o.offset().left,y:o.offset().top},l||clearTimeout(f),c=!0;var u=function(){S=!1,h=!0,s.initCallback.call({popup:v,hide:function(){w(0)},id:n,show:function(){b()}}),b()};return S||(S=!0,e.isFunction(r)?r(g,i,u):e.get(r,function(e,t,r){g.html(s.responseHandler(e,t,r)),h=!0,s.initCallback.call({popup:v,hide:function(){w(0)},id:n,show:function(){b()}}),b()})),clearTimeout(a),l||b(),!1};v[0].popup=y();var S=!1,x=!1,T=function(){x||(e(s.container).append(v),x=!0)},N=e(t);s.onHover?s.useLiveEvents?N.selector?e(document).on("mousemove",N.selector,function(e){T(),E(e,this)}).on("mouseout",N.selector,function(){w()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):N.mousemove(function(e){T(),E(e,this)}).mouseout(function(){w()}):s.noBind||(s.useLiveEvents?N.selector?e(document).on("click",N.selector,function(e){return T(),E(e,this),!1}).on("mouseout",N.selector,function(){w()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):N.click(function(e){return T(),E(e,this),!1}).mouseout(function(){w()}));var C=function(){O(),D()},k=function(){M(),P()},L=!1,A=n+".inline-dialog-check",O=function(){L||(e("body").bind("click."+A,function(t){var r=e(t.target);r.closest("#inline-dialog-"+n+" .contents").length===0&&w(0)}),L=!0)},M=function(){L&&e("body").unbind("click."+A),L=!1},_=function(e){e.keyCode===27&&w(0)},D=function(){e(document).on("keydown",_)},P=function(){e(document).off("keydown",_)};return v.show=function(e){e&&e.stopPropagation(),T(),E(null,t)},v.hide=function(){w(0)},v.refresh=function(){l&&y().reset()},v.getOptions=function(){return s},v},AJS.InlineDialog.opts={onTop:!1,responseHandler:function(e,t,n){return e},closeOthers:!0,isRelativeToMouse:!1,addActiveClass:!0,onHover:!1,useLiveEvents:!1,noBind:!1,fadeTime:100,persistent:!1,hideDelay:1e4,showDelay:0,width:300,offsetX:0,offsetY:10,arrowOffsetX:0,container:"body",cacheContent:!0,displayShadow:!0,preHideCallback:function(){return!0},hideCallback:function(){},initCallback:function(){},upfrontCallback:function(){},calculatePositions:function(e,n,r,i){i=i||{};var s=t(window),o=t(n.target),u=t(e),a=t(e.find(".arrow")),f=o.left+o.width/2,l=(window.pageYOffset||document.documentElement.scrollTop)+s.height,c=10;u.top=o.top+o.height+~~i.offsetY,u.left=o.left+~~i.offsetX;var h=s.width-(u.left+u.width+c);a.left=f-u.left+~~i.arrowOffsetX,a.top=-(a.height/2);var p=o.top>u.height,d=u.top+u.height<l,v=!d&&p||p&&i.onTop;v&&(u.top=o.top-u.height-a.height/2,a.top=u.height);if(i.isRelativeToMouse)h<0?(u.right=c,u.left="auto",a.left=r.x-(s.width-u.width)):(u.left=r.x-20,a.left=r.x-u.left);else if(h<0){u.right=c,u.left="auto";var m=s.width-u.right,g=m-u.width;a.right="auto",a.left=f-g-a.width/2}else u.width<=o.width/2&&(a.left=u.width/2,u.left=f-u.width/2);return{displayAbove:v,popupCss:{left:u.left,top:u.top,right:u.right},arrowCss:{left:a.left,top:a.top,right:a.right}}},getArrowPath:function(e){return e.displayAbove?"M0,8L8,16,16,8":"M0,8L8,0,16,8"},getArrowAttributes:function(){return{fill:"#fff",stroke:"#ccc"}}}}(AJS.$),AJS.template=function(e){var t=/\{([^\}]+)\}/g,n=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=/([^\\])'/g,i=function(e,t,r,i){var s=r;t.replace(n,function(e,t,n,r,o){t=t||r,s&&(t+":html"in s?(s=s[t+":html"],i=!0):t in s&&(s=s[t]),o&&typeof s=="function"&&(s=s()))});if(s==null||s==r)s=e;return s=String(s),i||(s=a.escape(s)),s},s=function(e){return this.template=this.template.replace(t,function(t,n){return i(t,n,e,!0)}),this},o=function(e){return this.template=this.template.replace(t,function(t,n){return i(t,n,e)}),this},u=function(){return this.template},a=function(e){function t(){return t.template}return t.template=String(e),t.toString=t.valueOf=u,t.fill=o,t.fillHtml=s,t},f={},l=[];return a.load=function(t){return t=String(t),f.hasOwnProperty(t)||(l.length>=1e3&&delete f[l.shift()],l.push(t),f[t]=e("script[title='"+t.replace(r,"$1\\'")+"']")[0].text),this(f[t])},a.escape=AJS.escapeHtml,a}(AJS.$),function(){var e=500,t=5e3,n=100;AJS.messages={setup:function(){AJS.messages.createMessage("generic"),AJS.messages.createMessage("error"),AJS.messages.createMessage("warning"),AJS.messages.createMessage("info"),AJS.messages.createMessage("success"),AJS.messages.createMessage("hint"),AJS.messages.makeCloseable(),AJS.messages.makeFadeout()},makeCloseable:function(e){AJS.$(e||"div.aui-message.closeable").each(function(){var e=AJS.$(this),t=AJS.$('<span class="aui-icon icon-close" role="button" tabindex="0"></span>').click(function(){e.closeMessage()}).keypress(function(t){if(t.which===AJS.keyCode.ENTER||t.which===AJS.keyCode.SPACE)e.closeMessage(),t.preventDefault()});e.append(t)})},makeFadeout:function(r,i,s){i=typeof i!="undefined"?i:t,s=typeof s!="undefined"?s:e,AJS.$(r||"div.aui-message.fadeout").each(function(){function o(){e.stop(!0,!1).delay(i).fadeOut(s,function(){e.closeMessage()})}function u(){e.stop(!0,!1).fadeTo(n,1)}function a(){return!t&&!r}var e=AJS.$(this),t=!1,r=!1;e.focusin(function(){t=!0,u()}).focusout(function(){t=!1,a()&&o()}).hover(function(){r=!0,u()},function(){r=!1,a()&&o()}),o()})},template:'<div class="aui-message {type} {closeable} {shadowed} {fadeout}"><p class="title"><span class="aui-icon icon-{type}"></span><strong>{title}</strong></p>{body}<!-- .aui-message --></div>',createMessage:function(e){AJS.messages[e]=function(t,n){var r=this.template,i,s;return n||(n=t,t="#aui-message-bar"),n.closeable=n.closeable!==!1,n.shadowed=n.shadowed!==!1,i=AJS.$(AJS.template(r).fill({type:e,closeable:n.closeable?"closeable":"",shadowed:n.shadowed?"shadowed":"",fadeout:n.fadeout?"fadeout":"",title:n.title||"","body:html":n.body||""}).toString()),n.id&&(/[#\'\"\.\s]/g.test(n.id)?AJS.log("AJS.Messages error: ID rejected, must not include spaces, hashes, dots or quotes."):i.attr("id",n.id)),s=n.insert||"append",s==="prepend"?i.prependTo(t):i.appendTo(t),n.closeable&&AJS.messages.makeCloseable(i),n.fadeout&&AJS.messages.makeFadeout(i,n.delay,n.duration),i}}},AJS.$.fn.closeMessage=function(){var e=AJS.$(this);e.hasClass("aui-message","closeable")&&(e.stop(!0),e.trigger("messageClose",[this]).remove(),AJS.$(document).trigger("aui-message-close",[this]))},AJS.$(function(){AJS.messages.setup()})}(),function(){function s(){var e=AJS.$(this);AJS._addID(e),e.attr("role","tab");var n=e.attr("href");AJS.$(n).attr("aria-labelledby",e.attr("id")),e.parent().hasClass(t)?e.attr(r,"true"):e.attr(r,"false")}function o(e){AJS.tabs.change(AJS.$(this),e),e&&e.preventDefault()}var e=/#.*/,t="active-tab",n="active-pane",r="aria-selected",i="aria-hidden";AJS.tabs={setup:function(){var e=AJS.$(".aui-tabs:not(.aui-tabs-disabled)");e.attr("role","application"),e.find(".tabs-pane").each(function(){var e=AJS.$(this);e.attr("role","tabpanel"),e.hasClass(n)?e.attr(i,"false"):e.attr(i,"true")});for(var t=0,r=e.length;t<r;t++){var u=e.eq(t);if(!u.data("aui-tab-events-bound")){var a=u.children("ul.tabs-menu");a.attr("role","tablist"),a.children("li").attr("role","presentation"),a.find("> .menu-item a").each(s),a.delegate("a","click",o),u.data("aui-tab-events-bound",!0)}}AJS.$(".aui-tabs.vertical-tabs").find("a").each(function(){var e=AJS.$(this);if(!e.attr("title")){var t=e.children("strong:first");AJS.isClipped(t)&&e.attr("title",e.text())}})},change:function(s,o){var u=AJS.$(s.attr("href").match(e)[0]);u.addClass(n).attr(i,"false").siblings(".tabs-pane").removeClass(n).attr(i,"true"),s.parent("li.menu-item").addClass(t).siblings(".menu-item").removeClass(t),s.closest(".tabs-menu").find("a").attr(r,"false"),s.attr(r,"true"),s.trigger("tabSelect",{tab:s,pane:u})}},AJS.$(AJS.tabs.setup)}(),function(){var _after=1,_afterThrow=2,_afterFinally=3,_before=4,_around=5,_intro=6,_regexEnabled=!0,_arguments="arguments",_undef="undefined",getType=function(){var e=Object.prototype.toString,t={},n={1:"element",3:"textnode",9:"document",11:"fragment"},r="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" ");for(var i=r.length;i--;){var s=r[i],o=window[s];if(o)try{t[e.call(new o)]=s.toLowerCase()}catch(u){}}return function(r){return r==null&&(r===undefined?_undef:"null")||r.nodeType&&n[r.nodeType]||typeof r.length=="number"&&(r.callee&&_arguments||r.alert&&"window"||r.item&&"nodelist")||t[e.call(r)]}}(),isFunc=function(e){return getType(e)=="function"},weaveOne=function(source,method,advice){var old=source[method];if(advice.type!=_intro&&!isFunc(old)){var oldObject=old;old=function(){var code=arguments.length>0?_arguments+"[0]":"";for(var i=1;i<arguments.length;i++)code+=","+_arguments+"["+i+"]";return eval("oldObject("+code+");")}}var aspect;return advice.type==_after||advice.type==_afterThrow||advice.type==_afterFinally?aspect=function(){var e,t=null;try{e=old.apply(this,arguments)}catch(n){t=n}if(advice.type==_after){if(t!=null)throw t;e=advice.value.apply(this,[e,method])}else advice.type==_afterThrow&&t!=null?e=advice.value.apply(this,[t,method]):advice.type==_afterFinally&&(e=advice.value.apply(this,[e,t,method]));return e}:advice.type==_before?aspect=function(){return advice.value.apply(this,[arguments,method]),old.apply(this,arguments)}:advice.type==_intro?aspect=function(){return advice.value.apply(this,arguments)}:advice.type==_around&&(aspect=function(){var e={object:this,args:Array.prototype.slice.call(arguments)};return advice.value.apply(e.object,[{arguments:e.args,method:method,proceed:function(){return old.apply(e.object,e.args)}}])}),aspect.unweave=function(){source[method]=old,pointcut=source=aspect=old=null},source[method]=aspect,aspect},search=function(e,t,n){var r=[];for(var i in e){var s=null;try{s=e[i]}catch(o){}s!=null&&i.match(t.method)&&isFunc(s)&&(r[r.length]={source:e,method:i,advice:n})}return r},weave=function(e,t){var n=typeof e.target.prototype!=_undef?e.target.prototype:e.target,r=[];if(t.type!=_intro&&typeof n[e.method]==_undef){var i=search(e.target,e,t);i.length==0&&(i=search(n,e,t));for(var s in i)r[r.length]=weaveOne(i[s].source,i[s].method,i[s].advice)}else r[0]=weaveOne(n,e.method,t);return _regexEnabled?r:r[0]};jQuery.aop={after:function(e,t){return weave(e,{type:_after,value:t})},afterThrow:function(e,t){return weave(e,{type:_afterThrow,value:t})},afterFinally:function(e,t){return weave(e,{type:_afterFinally,value:t})},before:function(e,t){return weave(e,{type:_before,value:t})},around:function(e,t){return weave(e,{type:_around,value:t})},introduction:function(e,t){return weave(e,{type:_intro,value:t})},setup:function(e){_regexEnabled=e.regexMatch}}}(),AJS.dropDown=function(e,t){var n=null,r=[],i=!1,s=AJS.$(document),o={item:"li:has(a)",activeClass:"active",alignment:"right",displayHandler:function(e){return e.name},escapeHandler:function(){return this.hide("escape"),!1},hideHandler:function(){},moveHandler:function(e,t){},useDisabled:!1};AJS.$.extend(o,t),o.alignment={left:"left",right:"right"}[o.alignment.toLowerCase()]||"left";if(e&&e.jquery)n=e;else if(typeof e=="string")n=AJS.$(e);else{if(!e||e.constructor!=Array)throw new Error("AJS.dropDown function was called with illegal parameter. Should be AJS.$ object, AJS.$ selector or array.");n=AJS("div").addClass("aui-dropdown").toggleClass("hidden",!!o.isHiddenByDefault);for(var u=0,a=e.length;u<a;u++){var f=AJS("ol");for(var l=0,c=e[u].length;l<c;l++){var h=AJS("li"),p=e[u][l];p.href?(h.append(AJS("a").html("<span>"+o.displayHandler(p)+"</span>").attr({href:p.href}).addClass(p.className)),AJS.$.data(AJS.$("a > span",h)[0],"properties",p)):h.html(p.html).addClass(p.className),p.icon&&h.prepend(AJS("img").attr("src",p.icon)),p.insideSpanIcon&&h.children("a").prepend(AJS("span").attr("class","icon")),AJS.$.data(h[0],"properties",p),f.append(h)}u==a-1&&f.addClass("last"),n.append(f)}AJS.$("body").append(n)}var d=function(){m(1)},v=function(){m(-1)},m=function(e){var t=!i,n=AJS.dropDown.current.$[0],r=AJS.dropDown.current.links,s=n.focused;i=!0;if(r.length===0)return;n.focused=typeof s=="number"?s:-1;if(!AJS.dropDown.current)return AJS.log("move - not current, aborting"),!0;n.focused+=e,n.focused<0?n.focused=r.length-1:n.focused>=r.length&&(n.focused=0),o.moveHandler(AJS.$(r[n.focused]),e<0?"up":"down"),t&&r.length?(AJS.$(r[n.focused]).addClass(o.activeClass),i=!1):r.length||(i=!1)},g=function(e){if(!AJS.dropDown.current)return!0;var t=e.which,n=AJS.dropDown.current.$[0],r=AJS.dropDown.current.links;AJS.dropDown.current.cleanActive();switch(t){case 40:d();break;case 38:v();break;case 27:return o.escapeHandler.call(AJS.dropDown.current,e);case 13:if(n.focused>=0)return o.selectionHandler?o.selectionHandler.call(AJS.dropDown.current,e,AJS.$(r[n.focused])):AJS.$(r[n.focused]).attr("nodeName")!="a"?AJS.$("a",r[n.focused]).trigger("focus"):AJS.$(r[n.focused]).trigger("focus");return!0;default:return r.length&&AJS.$(r[n.focused]).addClass(o.activeClass),!0}return e.stopPropagation(),e.preventDefault(),!1},y=function(e){e&&e.which&&e.which==3||e&&e.button&&e.button==2||!1||AJS.dropDown.current&&AJS.dropDown.current.hide("click")},b=function(e){return function(){if(!AJS.dropDown.current)return;AJS.dropDown.current.cleanFocus(),this.originalClass=this.className,AJS.$(this).addClass(o.activeClass),AJS.dropDown.current.$[0].focused=e}},w=function(e){if(e.button||e.metaKey||e.ctrlKey||e.shiftKey)return!0;AJS.dropDown.current&&o.selectionHandler&&o.selectionHandler.call(AJS.dropDown.current,e,AJS.$(this))},E=function(e){var t=!1;return e.data("events")&&AJS.$.each(e.data("events"),function(e,n){AJS.$.each(n,function(e,n){if(w===n)return t=!0,!1})}),t};return n.each(function(){var e=this,t=AJS.$(this),n={},i={reset:function(){n=AJS.$.extend(n,{$:t,links:AJS.$(o.item||"li:has(a)",e),cleanActive:function(){e.focused+1&&n.links.length&&AJS.$(n.links[e.focused]).removeClass(o.activeClass)},cleanFocus:function(){n.cleanActive(),e.focused=-1},moveDown:d,moveUp:v,moveFocus:g,getFocusIndex:function(){return typeof e.focused=="number"?e.focused:-1}}),n.links.each(function(e){var t=AJS.$(this);E(t)||(t.hover(b(e),n.cleanFocus),t.click(w))})},appear:function(e){e?(t.removeClass("hidden"),t.addClass("aui-dropdown-"+o.alignment)):t.addClass("hidden")},fade:function(e){e?t.fadeIn("fast"):t.fadeOut("fast")},scroll:function(e){e?t.slideDown("fast"):t.slideUp("fast")}};n.reset=i.reset,n.reset(),n.addControlProcess=function(e,t){AJS.$.aop.around({target:this,method:e},t)},n.addCallback=function(e,t){return AJS.$.aop.after({target:this,method:e},t)},n.show=function(t){if(o.useDisabled&&this.$.closest(".aui-dd-parent").hasClass("disabled"))return;this.alignment=o.alignment,y(),AJS.dropDown.current=this,this.method=t||this.method||"appear",this.timer=setTimeout(function(){s.click(y)},0),s.keydown(g),o.firstSelected&&this.links[0]&&b(0).call(this.links[0]),AJS.$(e.offsetParent).css({zIndex:2e3}),i[this.method](!0),AJS.$(document).trigger("showLayer",["dropdown",AJS.dropDown.current])},n.hide=function(e){return this.method=this.method||"appear",AJS.$(t.get(0).offsetParent).css({zIndex:""}),this.cleanFocus(),i[this.method](!1),s.unbind("click",y).unbind("keydown",g),AJS.$(document).trigger("hideLayer",["dropdown",AJS.dropDown.current]),AJS.dropDown.current=null,e},n.addCallback("reset",function(){o.firstSelected&&this.links[0]&&b(0).call(this.links[0])}),AJS.dropDown.iframes||(AJS.dropDown.iframes=[]),AJS.dropDown.createShims=function(){return AJS.$("iframe").each(function(e){var t=this;t.shim||(t.shim=AJS.$("<div />").addClass("shim hidden").appendTo("body"),AJS.dropDown.iframes.push(t))}),arguments.callee}(),n.addCallback("show",function(){AJS.$(AJS.dropDown.iframes).each(function(){var e=AJS.$(this);if(e.is(":visible")){var t=e.offset();t.height=e.height(),t.width=e.width(),this.shim.css({left:t.left+"px",top:t.top+"px",height:t.height+"px",width:t.width+"px"}).removeClass("hidden")}})}),n.addCallback("hide",function(){AJS.$(AJS.dropDown.iframes).each(function(){this.shim.addClass("hidden")}),o.hideHandler()}),AJS.$.browser.msie&&~~AJS.$.browser.version<9&&function(){var e=function(){this.$.is(":visible")&&(this.iframeShim||(this.iframeShim=AJS.$('<iframe class="dropdown-shim" src="javascript:false;" frameBorder="0" />').insertBefore(this.$)),this.iframeShim.css({display:"block",top:this.$.css("top"),width:this.$.outerWidth()+"px",height:this.$.outerHeight()+"px"}),o.alignment=="left"?this.iframeShim.css({left:"0px"}):this.iframeShim.css({right:"0px"}))};n.addCallback("reset",e),n.addCallback("show",e),n.addCallback("hide",function(){this.iframeShim&&this.iframeShim.css({display:"none"})})}(),r.push(n)}),r},AJS.dropDown.getAdditionalPropertyValue=function(e,t){var n=e[0];(!n||typeof n.tagName!="string"||n.tagName.toLowerCase()!="li")&&AJS.log("AJS.dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery");var r=AJS.$.data(n,"properties");return r?r[t]:null},AJS.dropDown.removeAllAdditionalProperties=function(e){},AJS.dropDown.Standard=function(e){var t=[],n,r={selector:".aui-dd-parent",dropDown:".aui-dropdown",trigger:".aui-dd-trigger"};AJS.$.extend(r,e);var i=function(e,t,n,i){AJS.$.extend(i,{trigger:e}),t.addClass("dd-allocated"),n.addClass("hidden"),r.isHiddenByDefault==0&&i.show(),i.addCallback("show",function(){t.addClass("active")}),i.addCallback("hide",function(){t.removeClass("active")})},s=function(e,t,n,r){r!=AJS.dropDown.current&&(n.css({top:t.outerHeight()}),r.show(),e.stopImmediatePropagation()),e.preventDefault()};if(r.useLiveEvents){var o=[],u=[];AJS.$(r.trigger).live("click",function(e){var t=AJS.$(this),n,a,f,l;if((l=AJS.$.inArray(this,o))>=0){var c=u[l];n=c.parent,a=c.dropdown,f=c.ddcontrol}else{n=t.closest(r.selector),a=n.find(r.dropDown);if(a.length===0)return;f=AJS.dropDown(a,r)[0];if(!f)return;o.push(this),c={parent:n,dropdown:a,ddcontrol:f},i(t,n,a,f),u.push(c)}s(e,t,a,f)})}else this instanceof AJS.$?n=this:n=AJS.$(r.selector),n=n.not(".dd-allocated").filter(":has("+r.dropDown+")").filter(":has("+r.trigger+")"),n.each(function(){var e=AJS.$(this),n=AJS.$(r.dropDown,this),o=AJS.$(r.trigger,this),u=AJS.dropDown(n,r)[0];AJS.$.extend(u,{trigger:o}),i(o,e,n,u),o.click(function(e){s(e,o,n,u)}),t.push(u)});return t},AJS.dropDown.Ajax=function(e){var t,n={cache:!0};return AJS.$.extend(n,e||{}),t=AJS.dropDown.Standard.call(this,n),AJS.$(t).each(function(){var e=this;AJS.$.extend(e,{getAjaxOptions:function(t){var r=function(t){n.formatResults&&(t=n.formatResults(t)),n.cache&&e.cache.set(e.getAjaxOptions(),t),e.refreshSuccess(t)};return n.ajaxOptions?AJS.$.isFunction(n.ajaxOptions)?AJS.$.extend(n.ajaxOptions.call(e),{success:r}):AJS.$.extend(n.ajaxOptions,{success:r}):AJS.$.extend(t,{success:r})},refreshSuccess:function(e){this.$.html(e)},cache:function(){var e={};return{get:function(t){var n=t.data||"";return e[(t.url+n).replace(/[\?\&]/gi,"")]},set:function(t,n){var r=t.data||"";e[(t.url+r).replace(/[\?\&]/gi,"")]=n},reset:function(){e={}}}}(),show:function(t){return function(r){n.cache&&!!e.cache.get(e.getAjaxOptions())?(e.refreshSuccess(e.cache.get(e.getAjaxOptions())),t.call(e)):(AJS.$(AJS.$.ajax(e.getAjaxOptions())).throbber({target:e.$,end:function(){e.reset()}}),t.call(e),e.iframeShim&&e.iframeShim.hide())}}(e.show),resetCache:function(){e.cache.reset()}}),e.addCallback("refreshSuccess",function(){e.reset()})}),t},AJS.$.fn.dropDown=function(e,t){return e=(e||"Standard").replace(/^([a-z])/,function(e){return e.toUpperCase()}),AJS.dropDown[e].call(this,t)},function(e){function t(e){this.num=0,this.timer=e>0?e:!1}function n(n){if(!e.isPlainObject(n.data)&&!e.isArray(n.data)&&typeof n.data!="string")return;var i=n.handler,s={timer:700};(function(t){typeof t=="string"?s.combo=[t]:e.isArray(t)?s.combo=t:e.extend(s,t),s.combo=e.map(s.combo,function(e){return e.toLowerCase()})})(n.data),n.index=new t(s.timer),n.handler=function(t){if(this!==t.target&&/textarea|select|input/i.test(t.target.nodeName))return;var o=t.type!=="keypress"?e.hotkeys.specialKeys[t.which]:null,u=String.fromCharCode(t.which).toLowerCase(),a,f="",l={};t.altKey&&o!=="alt"&&(f+="alt+"),t.ctrlKey&&o!=="ctrl"&&(f+="ctrl+"),t.metaKey&&!t.ctrlKey&&o!=="meta"&&(f+="meta+"),t.shiftKey&&o!=="shift"&&(f+="shift+"),o&&(l[f+o]=!0),u&&(l[f+u]=!0),/shift+/.test(f)&&(l[f.replace("shift+","")+e.hotkeys.shiftNums[o||u]]=!0);var c=n.index,h=s.combo;if(r(h[c.val()],l)){if(c.val()===h.length-1)return c.reset(),i.apply(this,arguments);c.inc()}else c.reset(),r(h[0],l)&&c.inc()}}function r(e,t){var n=e.split(" ");for(var r=0,i=n.length;r<i;r++)if(t[n[r]])return!0;return!1}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(e.hotkeys.keypressKeys,function(t,n){e.hotkeys.shiftNums[n]=n}),t.prototype.val=function(){return this.num},t.prototype.inc=function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(e.proxy(t.prototype.reset,this),this.timer)),this.num++},t.prototype.reset=function(){this.timer&&clearTimeout(this.timeout),this.num=0},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:n}})}(jQuery),function(e,t){var n=navigator.platform.indexOf("Mac")!==-1,r=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i;e.whenIType=function(i){function u(e){!AJS.popup.current&&o&&o.fire(e)}function a(e){e.preventDefault()}function f(e){var n=e&&e.split?t.trim(e).split(" "):[e];t.each(n,function(){c(this)})}function l(e){var t=e.length;while(t--)if(e[t].length>1&&e[t]!=="space")return!0;return!1}function c(e){var n=e instanceof Array?e:h(e.toString()),r=l(n)?"keydown":"keypress";s.push(n),t(document).bind(r,n,u),t(document).bind(r+" keyup",n,a)}function h(e){var t=[],n="",i,s;while(e.length)(i=e.match(/^(ctrl|meta|shift|alt)\+/i))?(n+=i[0],e=e.substring(i[0].length)):(s=e.match(r))?(t.push(n+s[0]),e=e.substring(s[0].length),n=""):(t.push(n+e[0]),e=e.substring(1),n="");return t}function p(e){var r=t(e),i=r.attr("title")||"",o=s.slice(),u=r.data("kbShortcutAppended")||"",a=!u,f=a?i:i.substring(0,i.length-u.length);while(o.length)u=v(o.shift().slice(),u,a),a=!1;n&&(u=u.replace(/Meta/ig,"\u2318").replace(/Shift/ig,"\u21e7")),r.attr("title",f+u),r.data("kbShortcutAppended",u)}function d(e){var n=t(e),r=n.data("kbShortcutAppended");if(!r)return;var i=n.attr("title");n.attr("title",i.replace(r,"")),n.removeData("kbShortcutAppended")}function v(e,n,r){return r?n+=" ("+AJS.I18n.getText("aui.keyboard.shortcut.type.x",e.shift()):(n=n.replace(/\)$/,""),n+=AJS.I18n.getText("aui.keyboard.shortcut.or.x",e.shift())),t.each(e,function(){n+=" "+AJS.I18n.getText("aui.keyboard.shortcut.then.x",this)}),n+=")",n}var s=[],o=t.Callbacks();return f(i),e.whenIType.makeShortcut({executor:o,bindKeys:f,addShortcutsToTitle:p,removeShortcutsFromTitle:d,keypressHandler:u,defaultPreventionHandler:a})},e.whenIType.makeShortcut=function(e){function f(e){return function(r,i){i=i||{};var s=i.focusedClass||"focused",o=i.hasOwnProperty("wrapAround")?i.wrapAround:!0,u=i.hasOwnProperty("escToCancel")?i.escToCancel:!0;return n.add(function(){var n=t(r),i=n.filter("."+s),a=i.length===0?undefined:{transition:!0};u&&t(document).one("keydown",function(e){e.keyCode===AJS.keyCode.ESCAPE&&i&&i.removeClass(s)}),i.length&&i.removeClass(s),i=e(i,n,o),i&&i.length>0&&(i.addClass(s),i.moveTo(a),i.is("a")?i.focus():i.find("a:first").focus())}),this}}var n=e.executor,r=e.bindKeys,i=e.addShortcutsToTitle,s=e.removeShortcutsFromTitle,o=e.keypressHandler,u=e.defaultPreventionHandler,a=[];return{moveToNextItem:f(function(e,n,r){var i;return r&&e.length===0?n.eq(0):(i=t.inArray(e.get(0),n),i<n.length-1?(i+=1,n.eq(i)):r?n.eq(0):e)}),moveToPrevItem:f(function(e,n,r){var i;return r&&e.length===0?n.filter(":last"):(i=t.inArray(e.get(0),n),i>0?(i-=1,n.eq(i)):r?n.filter(":last"):e)}),click:function(e){return a.push(e),i(e),n.add(function(){var n=t(e);n.length>0&&n.click()}),this},goTo:function(e){return n.add(function(){window.location.href=e}),this},followLink:function(e){return a.push(e),i(e),n.add(function(){var n=t(e)[0];n&&{a:!0,link:!0}[n.nodeName.toLowerCase()]&&(window.location.href=n.href)}),this},execute:function(e){var t=this;return n.add(function(){e.apply(t,arguments)}),this},evaluate:function(e){e.call(this)},moveToAndClick:function(e){return a.push(e),i(e),n.add(function(){var n=t(e);n.length>0&&(n.click(),n.moveTo())}),this},moveToAndFocus:function(e){return a.push(e),i(e),n.add(function(t){var n=AJS.$(e);n.length>0&&(n.focus(),n.moveTo&&n.moveTo(),n.is(":input")&&t.preventDefault())}),this},or:function(e){return r(e),this},unbind:function(){t(document).unbind("keydown keypress",o).unbind("keydown keypress keyup",u);for(var e=0,n=a.length;e<n;e++)s(a[e]);a=[]}}},e.whenIType.fromJSON=function(e,r){var i=[];return e&&t.each(e,function(e,s){var o=s.op,u=s.param,a;if(o==="execute"||o==="evaluate")a=[new Function(u)];else if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(u)){try{a=JSON.parse(u)}catch(f){AJS.error("When using a parameter array, array must be in strict JSON format: "+u)}t.isArray(a)||AJS.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+u)}else a=[u];t.each(s.keys,function(){var e=this;r&&n&&(e=t.map(this,function(e){return e.replace(/ctrl/i,"meta")}));var s=AJS.whenIType(e);s[o].apply(s,a),i.push(s)})}),i},t(document).bind("iframeAppended",function(e,n){t(n).load(function(){var e=t(n).contents();e.bind("keyup keydown keypress",function(e){if(t.browser.safari&&e.type==="keypress")return;t(e.target).is(":input")||t.event.trigger(e,arguments,document,!0)})})})}(AJS,AJS.$),function(e){AJS.responsiveheader={},AJS.responsiveheader.setup=function(){function n(t,n){function r(e){var t;i();if(!(c>h)){p.show(),t=c-m;for(var n=0;t>=0;n++)t-=l[n].itemWidth;return n-=1,u(n,e),o(n,d,e),n}a(e)}function i(){var t=f.length!==0?f.position().left:e(window).width(),n=v.position().left+v.outerWidth(!0)+y;c=t-n}function s(t){var n=e("<li>"+aui.dropdown2.trigger({menu:{id:"aui-responsive-header-dropdown-content-"+t},text:AJS.I18n.getText("aui.words.more"),extraAttributes:{href:"#"},id:"aui-responsive-header-dropdown-trigger-"+t})+"</li>");n.append(aui.dropdown2.contents({id:"aui-responsive-header-dropdown-content-"+t,extraClasses:"aui-style-default",content:aui.dropdown2.section({content:"<ul id='aui-responsive-header-dropdown-list-"+t+"'></ul>"})})),y===0?n.appendTo(g(".aui-nav")):n.insertBefore(g(".aui-nav > li > .aui-button").first().parent()),p=n,m=p.outerWidth(!0)}function o(t,n,r){if(t<0||n<0||t===n)return;var i=e("#aui-responsive-header-dropdown-trigger-"+r),s=i.parent(),o,u;i.hasClass("active")&&i.trigger("aui-button-invoke");var a=g(".aui-nav > li > a:not(.aui-button):not(#aui-responsive-header-dropdown-trigger-"+r+")").length;while(t>n)o=l[n],o&&o.itemElement&&(u=o.itemElement,a===0?u.prependTo(g(".aui-nav")):u.insertBefore(s),u.children("a").removeClass("aui-dropdown2-sub-trigger active"),n+=1,a+=1)}function u(t,n){if(t<0)return;var r=e("#aui-responsive-header-dropdown-list-"+n);for(var i=t;i<l.length;i++){l[i].itemElement.appendTo(r);var s=l[i].itemElement.children("a");s.hasClass("aui-dropdown2-trigger")&&s.addClass("aui-dropdown2-sub-trigger")}}function a(e){p.hide(),o(l.length,d,e)}var f=t.find(".aui-header-secondary .aui-nav").first();e(".aui-header").attr("data-aui-responsive","true");var l=[],c=0,h=0,p,d,v=t.find("#logo"),m=0,g=function(){var e=t.find(".aui-header-primary").first();return function(t){return e.find(t)}}(),y=0;g(".aui-button").parent().each(function(t,n){y+=e(n).outerWidth(!0)}),g(".aui-nav > li > a:not(.aui-button)").each(function(t,n){var r=e(n).parent(),i=r.outerWidth(!0);l.push({itemElement:r,itemWidth:i}),h+=i}),d=l.length,e(window).resize(function(){d=r(n)}),s(n);var b=v.find("img");b.length!==0&&(b.attr("data-aui-responsive-header-index",n),b.load(function(e){d=r(n)})),d=r(n),g(".aui-nav").css("width","auto")}var t=e(".aui-header");if(!t.length)return;t.each(function(t,r){n(e(r),t)})}}(AJS.$),AJS.$(AJS.responsiveheader.setup);