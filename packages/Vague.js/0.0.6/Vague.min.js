!function(t,e,i){"use strict";var r={filterId:0},n=i("body"),s=function(s,o){var u,l,f,a={intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},c=i.extend(a,o),d=" -webkit- -moz- -o- -ms- ".split(" "),h={},m=function(t){if(h[t]||""===h[t])return h[t]+t;var i=e.createElement("div"),r=["","Moz","Webkit","O","ms","Khtml"];for(var n in r)if("undefined"!=typeof i.style[r[n]+t])return h[t]=r[n],r[n]+t;return t.toLowerCase()},p={cssfilters:function(){var t=e.createElement("div");return t.style.cssText=d.join("filter:blur(2px); "),!!t.style.length&&(void 0===e.documentMode||e.documentMode>9)}(),svgfilters:function(){var t=!1;try{t=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return t}()},b=!1,v=m("Filter"),y=function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},g=function(){var t=y("svg"),e=y("filter");u=y("feGaussianBlur"),t.setAttribute("style","position:absolute"),t.setAttribute("width","0"),t.setAttribute("height","0"),e.setAttribute("id","blur-effect-id-"+r.filterId),e.appendChild(u),t.appendChild(e),n.append(t)};return this.$elm=s instanceof i?s:i(s),this.init=function(){return p.svgfilters&&g(),l=r.filterId,r.filterId++,this},this.blur=function(){var e,i=t.location,r=c.forceSVGUrl?i.protocol+"//"+i.host+i.pathname+i.search:"";return p.cssfilters?e="blur("+c.intensity+"px)":p.svgfilters?(u.setAttribute("stdDeviation",c.intensity),e="url("+r+"#blur-effect-id-"+l+")"):e="progid:DXImageTransform.Microsoft.Blur(pixelradius="+c.intensity+")",this.$elm[0].style[v]=e,b=!0,this},this.animate=function(t,e){if("number"!=typeof t)throw typeof t+" is not a valid number to animate the blur";if(0>t)throw"I can animate only positive numbers";var r=new i.Deferred;return f&&f.stop(!0,!0),f=new i.Animation(c,{intensity:t},i.extend(c.animationOptions,e)).progress(i.proxy(this.blur,this)).done(r.resolve),r.promise()},this.unblur=function(){return this.$elm.css(v,"none"),b=!1,this},this.toggleblur=function(){return b?this.unblur():this.blur(),this},this.destroy=function(){p.svgfilters&&i("filter#blur-effect-id-"+l).parent().remove(),this.unblur();for(var t in this)delete this[t];return this},this.init()};i.fn.Vague=function(t){return new s(this,t)}}(window,document,jQuery);