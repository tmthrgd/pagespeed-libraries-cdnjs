angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),r=t.storage();r?r.get(e)?t.uses(r.get(e)):angular.isString(t.preferredLanguage())?t.uses(t.preferredLanguage()):r.set(e,t.uses()):angular.isString(t.preferredLanguage())&&t.uses(t.preferredLanguage())}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,r,a,n,s,o,i,u={},l=t,g=".",c=function(t,e){if(!t&&!e)return u;if(t&&!e){if(angular.isString(t))return u[t];angular.extend(u,f(t))}else angular.isObject(u[t])||(u[t]={}),angular.extend(u[t],f(e))},f=function(t,e,r){var a,n,s;e||(e=[]),r||(r={});for(a in t)t.hasOwnProperty(a)&&(s=t[a],angular.isObject(s)?f(s,e.concat(a),r):(n=e.length?""+e.join(g)+g+a:a,r[n]=s));return r};this.translations=c,this.preferredLanguage=function(t){return t?(e=t,void 0):e},this.uses=function(t){if(!t)return r;if(!u[t]&&!o)throw Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");r=t};var d=function(t){return t?(l=t,void 0):n?n+l:l};this.storageKey=d,this.useUrlLoader=function(t){this.useLoader("$translateUrlLoader",{url:t})},this.useStaticFilesLoader=function(t){this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){o=t,i=e},this.useLocalStorage=function(){this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){this.useStorage("$translateCookieStorage")},this.useStorage=function(t){a=t},this.storagePrefix=function(t){return t?(n=t,void 0):t},this.useMissingTranslationHandlerLog=function(){this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){s=t},this.$get=["$interpolate","$log","$injector","$rootScope","$q",function(t,n,l,g,f){var h;if(a&&(h=l.get(a),!h.get||!h.set))throw Error("Couldn't use storage '"+a+"', missing get() or set() method!");var p=function(e,a){var n=r?u[r]?u[r][e]:e:u[e];return n?t(n)(a):(s&&l.get(s)(e),e)};return p.preferredLanguage=function(){return e},p.storage=function(){return h},p.uses=function(t){if(!t)return r;var e=f.defer();return u[t]?(r=t,a&&h.set(p.storageKey(),r),e.resolve(r),g.$broadcast("translationChangeSuccess"),e.promise):(l.get(o)(angular.extend(i,{key:t})).then(function(n){r=t,c(t,n),a&&h.set(p.storageKey(),r),g.$broadcast("translationChangeSuccess"),e.resolve(r)},function(t){g.$broadcast("translationChangeError"),e.reject(t)}),e.promise)},p.storageKey=function(){return d()},o&&angular.equals(u,{})&&p.uses(p.uses()),p}]}]),angular.module("pascalprecht.translate").directive("translate",["$filter","$interpolate",function(t,e){var r=t("translate");return{restrict:"A",scope:!0,link:function(t,a,n){n.$observe("translate",function(r){t.translationId=angular.equals(r,"")?e(a.text().replace(/^\s+|\s+$/g,""))(t.$parent):r}),n.$observe("values",function(e){t.interpolateParams=e}),t.$on("translationChangeSuccess",function(){a.html(r(t.translationId,t.interpolateParams))}),t.$watch("translationId + interpolateParams",function(e){e&&a.html(r(t.translationId,t.interpolateParams))})}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){return function(r,a){return angular.isObject(a)||(a=t(a)()),e(r,a)}}]);