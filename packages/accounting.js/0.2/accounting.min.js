/*!
 * accounting.js javascript library v0.2 | https://josscrowcroft.github.com/accounting.js/
 * Copyright 2011 | Joss Crowcroft | License: http://www.gnu.org/licenses/gpl-3.0.txt
 */
var accounting=(function(){var h={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var o=Array.prototype.map,k=Array.isArray,g=Object.prototype.toString;function d(q){return !!(q===""||(q&&q.charCodeAt&&q.substr));}function l(q){return k?k(q):g.call(q)==="[object Array]";}function p(q){return g.call(q)==="[object Object]";}function i(r,q){var s;for(s in q){if(q.hasOwnProperty(s)){if(r[s]==null){r[s]=q[s];}}}return r;}function a(v,u,t){var s=[],r,q;if(!v){return s;}if(o&&v.map===o){return v.map(u,t);}for(r=0,q=v.length;r<q;r++){s[r]=u.call(t,v[r],r,v);}return s;}function m(r,q){r=Math.round(Math.abs(r));return isNaN(r)?q:r;}function f(r){var q=h.currency.format;if(typeof r==="function"){r=r();}if(d(r)&&r.match("%v")){return{pos:r,neg:r.replace("-","").replace("%v","-%v"),zero:r};}else{if(!r||!r.pos||!r.pos.match("%v")){return(!d(q))?q:h.currency.format={pos:q,neg:q.replace("%v","-%v"),zero:q};}}return r;}function j(t,q){if(l(t)){return a(t,function(u){return j(u,q);});}t=t||0;q=q||".";var s=new RegExp("[^0-9-"+q+"]",["g"]),r=parseFloat((""+t).replace(s,"").replace(q,"."));return !isNaN(r)?r:0;}function c(s,q){q=m(q,h.number.precision);var r=Math.pow(10,q);return(Math.round(s*r)/r).toFixed(q);}function e(s,v,x,u){if(l(s)){return a(s,function(z){return e(z,v,x,u);});}var y,q;q=p(v)?v:{precision:v,thousand:x,decimal:u};q=i(q,h.number);s=j(s);q.precision=m(q.precision);var t=s<0?"-":"",r=parseInt(c(Math.abs(s||0),q.precision),10)+"",w=r.length>3?r.length%3:0;return t+(w?r.substr(0,w)+q.thousand:"")+r.substr(w).replace(/(\d{3})(?=\d)/g,"$1"+q.thousand)+(q.precision?q.decimal+c(Math.abs(s),q.precision).split(".")[1]:"");}function n(t,u,r,w,q,v){if(l(t)){return a(t,function(x){return n(x,u,r,w,q,v);});}var s=i((p(u)?u:{symbol:u,precision:r,thousand:w,decimal:q,format:v}),h.currency);t=j(t);s.precision=m(s.precision);s.format=f(s.format);s.format=t>0?s.format.pos:t<0?s.format.neg:s.format.zero;return s.format.replace("%s",s.symbol).replace("%v",e(Math.abs(t),s.precision,s.thousand,s.decimal));}function b(x,s,v,z,u,y){if(!x){return[];}var q=i((p(s)?s:{symbol:s,precision:v,thousand:z,decimal:u,format:y}),h.currency);q.format=f(q.format);q.precision=m(q.precision);var r=0,w=q.format.pos.indexOf("%s")<q.format.pos.indexOf("%v")?true:false,t=a(x,function(D,A){if(l(D)){return b(D,q);}else{D=j(D);var C=D>0?q.format.pos:D<0?q.format.neg:q.format.zero,B=C.replace("%s",q.symbol).replace("%v",e(Math.abs(D),q.precision,q.thousand,q.decimal));if(B.length>r){r=B.length;}return B;}});return a(t,function(B,A){if(d(B)&&B.length<r){return w?B.replace(q.symbol,q.symbol+(new Array(r-B.length+1).join(" "))):(new Array(r-B.length+1).join(" "))+B;}return B;});}return{settings:h,formatMoney:n,formatNumber:e,formatColumn:b,toFixed:c,unformat:j};}());