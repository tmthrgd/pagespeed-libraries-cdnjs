(function(c,d){var a=c.document,b;b=function(){var f={},e={},l=false,n={ENTER:13,ESC:27,SPACE:32},k=[],i,h,m,g,j;e={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok" />{{ok}}</button>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'};i=function(o){return a.getElementById(o)};f={labels:{ok:"OK",cancel:"Cancel"},delay:5000,addListeners:function(w){var q=i("alertify-resetFocus"),r=i("alertify-ok")||d,s=i("alertify-cancel")||d,x=i("alertify-text")||d,o=i("alertify-form")||d,A=(typeof r!=="undefined"),D=(typeof s!=="undefined"),z=(typeof x!=="undefined"),p="",C=this,v,B,u,y,t;v=function(E){if(typeof E.preventDefault!=="undefined"){E.preventDefault()}u(E);if(typeof x!=="undefined"){p=x.value}if(typeof w==="function"){w(true,p)}};B=function(E){if(typeof E.preventDefault!=="undefined"){E.preventDefault()}u(E);if(typeof w==="function"){w(false)}};u=function(E){C.hide();C.unbind(a.body,"keyup",y);C.unbind(q,"focus",t);if(z){C.unbind(o,"submit",v)}if(A){C.unbind(r,"click",v)}if(D){C.unbind(s,"click",B)}};y=function(E){var F=E.keyCode;if(F===n.SPACE&&!z){v(E)}if(F===n.ESC&&D){B(E)}};t=function(E){if(z){x.focus()}else{if(D){s.focus()}else{r.focus()}}};this.bind(q,"focus",t);if(A){this.bind(r,"click",v)}if(D){this.bind(s,"click",B)}this.bind(a.body,"keyup",y);if(z){this.bind(o,"submit",v)}c.setTimeout(function(){if(x){x.focus();x.select()}else{r.focus()}},50)},bind:function(p,q,o){if(typeof p.addEventListener==="function"){p.addEventListener(q,o,false)}else{if(p.attachEvent){p.attachEvent("on"+q,o)}}},build:function(s){var p="",q=s.type,r=s.message,o=s.cssClass||"";p+='<div class="alertify-dialog">';if(q==="prompt"){p+='<form id="alertify-form">'}p+='<article class="alertify-inner">';p+=e.message.replace("{{message}}",r);if(q==="prompt"){p+=e.input}p+=e.buttons.holder;p+="</article>";if(q==="prompt"){p+="</form>"}p+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>';p+="</div>";switch(q){case"confirm":p=p.replace("{{buttons}}",e.buttons.cancel+e.buttons.ok);p=p.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":p=p.replace("{{buttons}}",e.buttons.cancel+e.buttons.submit);p=p.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":p=p.replace("{{buttons}}",e.buttons.ok);p=p.replace("{{ok}}",this.labels.ok);break;default:break}g.className="alertify alertify-show alertify-"+q+" "+o;m.className="alertify-cover";return p},close:function(o,p){var q=(p&&!isNaN(p))?+p:this.delay;this.bind(o,"click",function(){j.removeChild(o)});setTimeout(function(){if(typeof o!=="undefined"&&o.parentNode===j){j.removeChild(o)}},q)},dialog:function(s,r,q,t,p){h=a.activeElement;var o=function(){if(g&&g.scrollTop!==null){return}else{o()}};if(typeof s!=="string"){throw new Error("message must be a string")}if(typeof r!=="string"){throw new Error("type must be a string")}if(typeof q!=="undefined"&&typeof q!=="function"){throw new Error("fn must be a function")}if(typeof this.init==="function"){this.init();o()}k.push({type:r,message:s,callback:q,placeholder:t,cssClass:p});if(!l){this.setup()}return this},extend:function(o){if(typeof o!=="string"){throw new Error("extend method must have exactly one paramter")}return function(p,q){this.log(p,o,q);return this}},hide:function(){k.splice(0,1);if(k.length>0){this.setup()}else{l=false;g.className="alertify alertify-hide alertify-hidden";m.className="alertify-cover alertify-hidden";h.focus()}},init:function(){a.createElement("nav");a.createElement("article");a.createElement("section");m=a.createElement("div");m.setAttribute("id","alertify-cover");m.className="alertify-cover alertify-hidden";a.body.appendChild(m);g=a.createElement("section");g.setAttribute("id","alertify");g.className="alertify alertify-hidden";a.body.appendChild(g);j=a.createElement("section");j.setAttribute("id","alertify-logs");j.className="alertify-logs";a.body.appendChild(j);a.body.setAttribute("tabindex","0");delete this.init},log:function(q,p,r){var o=function(){if(j&&j.scrollTop!==null){return}else{o()}};if(typeof this.init==="function"){this.init();o()}this.notify(q,p,r);return this},notify:function(q,p,r){var o=a.createElement("article");o.className="alertify-log"+((typeof p==="string"&&p!=="")?" alertify-log-"+p:"");o.innerHTML=q;j.insertBefore(o,j.firstChild);setTimeout(function(){o.className=o.className+" alertify-log-show"},50);this.close(o,r)},set:function(p){var o;if(typeof p!=="object"&&p instanceof Array){throw new Error("args must be an object")}for(o in p){if(p.hasOwnProperty(o)){this[o]=p[o]}}},setup:function(){var o=k[0];l=true;g.innerHTML=this.build(o);if(typeof o.placeholder==="string"&&o.placeholder!==""){i("alertify-text").value=o.placeholder}this.addListeners(o.callback)},unbind:function(p,q,o){if(typeof p.removeEventListener==="function"){p.removeEventListener(q,o,false)}else{if(p.detachEvent){p.detachEvent("on"+q,o)}}}};return{alert:function(q,p,o){f.dialog(q,"alert",p,"",o);return this},confirm:function(q,p,o){f.dialog(q,"confirm",p,"",o);return this},extend:f.extend,init:f.init,log:function(p,o,q){f.log(p,o,q);return this},prompt:function(q,p,r,o){f.dialog(q,"prompt",p,r,o);return this},success:function(o,p){f.log(o,"success",p);return this},error:function(o,p){f.log(o,"error",p);return this},set:function(o){f.set(o)},labels:f.labels}};if(typeof define==="function"){define([],function(){return new b()})}else{if(typeof c.alertify==="undefined"){c.alertify=new b()}}}(this));