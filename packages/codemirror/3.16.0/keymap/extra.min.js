!function(){"use strict";function e(e,n,r,o){if(!o||n>r)return 0;var a=e.clipPos(i(n,0)),t=e.clipPos(i(r)),l=e.getRange(a,t);n<=e.firstLine()?e.replaceRange("",a,i(t.line+1,0)):e.replaceRange("",i(a.line-1),t);var c=a.line+o;if(c<=e.firstLine())return e.replaceRange(l+"\n",i(c,0)),e.firstLine()-a.line;var s=e.clipPos(i(c-1));return e.replaceRange("\n"+l,s),s.line+1-a.line}function n(n,r){var o=n.getCursor("head"),a=n.getCursor("anchor");n.operation(function(){var t=e(n,Math.min(o.line,a.line),Math.max(o.line,a.line),r);n.setSelection(i(a.line+t,a.ch),i(o.line+t,o.ch))})}var i=CodeMirror.Pos;CodeMirror.commands.moveLinesUp=function(e){n(e,-1)},CodeMirror.commands.moveLinesDown=function(e){n(e,1)},CodeMirror.keyMap["default"]["Alt-Up"]="moveLinesUp",CodeMirror.keyMap["default"]["Alt-Down"]="moveLinesDown"}();