CodeMirror.multiplexingMode=function(e){function n(e,n,r){if("string"==typeof n)return e.indexOf(n,r);var t=n.exec(r?e.slice(r):e);return t?t.index+r:-1}var r=Array.prototype.slice.call(arguments,1),t=r.length;return{startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(n){return{outer:CodeMirror.copyState(e,n.outer),innerActive:n.innerActive,inner:n.innerActive&&CodeMirror.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var c=o.innerActive,a=i.string,l=n(a,c.close,i.pos);if(l==i.pos)return i.match(c.close),o.innerActive=o.inner=null,c.delimStyle;l>-1&&(i.string=a.slice(0,l));var u=c.mode.token(i,o.inner);l>-1&&(i.string=a);var v=i.current(),l=v.indexOf(c.close);return l>-1&&i.backUp(v.length-l),c.innerStyle&&(u=u?u+" "+c.innerStyle:c.innerStyle),u}for(var s=1/0,a=i.string,d=0;t>d;++d){var A=r[d],l=n(a,A.open,i.pos);if(l==i.pos)return i.match(A.open),o.innerActive=A,o.inner=CodeMirror.startState(A.mode,e.indent?e.indent(o.outer,""):0),A.delimStyle;-1!=l&&s>l&&(s=l)}1/0!=s&&(i.string=a.slice(0,s));var f=e.token(i,o.outer);return 1/0!=s&&(i.string=a),f},indent:function(n,r){var t=n.innerActive?n.innerActive.mode:e;return t.indent?t.indent(n.innerActive?n.inner:n.outer,r):CodeMirror.Pass},blankLine:function(n){var i=n.innerActive?n.innerActive.mode:e;if(i.blankLine&&i.blankLine(n.innerActive?n.inner:n.outer),n.innerActive)"\n"===n.innerActive.close&&(n.innerActive=n.inner=null);else for(var o=0;t>o;++o){var c=r[o];"\n"===c.open&&(n.innerActive=c,n.inner=CodeMirror.startState(c.mode,i.indent?i.indent(n.outer,""):0))}},electricChars:e.electricChars,innerMode:function(n){return n.inner?{state:n.inner,mode:n.innerActive.mode}:{state:n.outer,mode:e}}}};