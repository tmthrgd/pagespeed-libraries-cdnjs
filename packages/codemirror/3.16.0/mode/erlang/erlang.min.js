CodeMirror.defineMIME("text/x-erlang","erlang"),CodeMirror.defineMode("erlang",function(e){function t(e,t,r){switch(e.in_record="record"==r,r){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"special";case"builtin":return"builtin";case"comment":return"comment";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"operator":return"operator";case"record":return"bracket";case"string":return"string";case"type":return"def";case"variable":return"variable";case"error":return"error";case"separator":return null;case"open_paren":return null;case"close_paren":return null;default:return null}}function r(e,r){if(r.in_string)return r.in_string=!a(e),t(r,e,"string");if(r.in_atom)return r.in_atom=!s(e),t(r,e,"atom");if(e.eatSpace())return t(r,e,"whitespace");if(""==m(r).token&&e.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return u(e.current(),k)?t(r,e,"type"):t(r,e,"attribute");var c=e.next();if("%"==c)return e.skipToEnd(),t(r,e,"comment");if("?"==c)return e.eatWhile(q),t(r,e,"macro");if("#"==c)return e.eatWhile(q),t(r,e,"record");if("$"==c)return"\\"!=e.next()||e.match(E)?t(r,e,"number"):t(r,e,"error");if("'"==c){if(!(r.in_atom=!s(e))){if(e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),d(r),t(r,e,"fun");if(e.match(/\s*\(/,!1)||e.match(/\s*:/,!1))return t(r,e,"function")}return t(r,e,"atom")}if('"'==c)return r.in_string=!a(e),t(r,e,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(c))return e.eatWhile(q),t(r,e,"variable");if(/[a-z_ß-öø-ÿ]/.test(c)){if(e.eatWhile(q),e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),d(r),t(r,e,"fun");var l=e.current();return u(l,y)?(p(r,e),t(r,e,"keyword")):e.match(/\s*\(/,!1)?!u(l,U)||n(e,":")&&!n(e,"erlang:")?u(l,C)?t(r,e,"guard"):t(r,e,"function"):t(r,e,"builtin"):u(l,x)?t(r,e,"operator"):e.match(/\s*:/,!1)?"erlang"==l?t(r,e,"builtin"):t(r,e,"function"):u(l,["true","false"])?t(r,e,"boolean"):t(r,e,"atom")}var _=/[0-9]/,f=/[0-9a-zA-Z]/;return _.test(c)?(e.eatWhile(_),e.eat("#")?e.eatWhile(f):(e.eat(".")&&e.eatWhile(_),e.eat(/[eE]/)&&(e.eat(/[-+]/),e.eatWhile(_))),t(r,e,"number")):i(e,W,M)?(p(r,e),t(r,e,"open_paren")):i(e,A,Z)?(p(r,e),t(r,e,"close_paren")):o(e,v,w)?(r.in_record||p(r,e),t(r,e,"separator")):o(e,z,S)?t(r,e,"operator"):t(r,e,null)}function n(e,t){var r=e.start,n=t.length;if(r>=n){var i=e.string.slice(r-n,r);return i==t}return!1}function i(e,t,r){if(1==e.current().length&&t.test(e.current())){for(e.backUp(1);t.test(e.peek());)if(e.next(),u(e.current(),r))return!0;e.backUp(e.current().length-1)}return!1}function o(e,t,r){if(1==e.current().length&&t.test(e.current())){for(;t.test(e.peek());)e.next();for(;0<e.current().length;){if(u(e.current(),r))return!0;e.backUp(1)}e.next()}return!1}function a(e){return c(e,'"',"\\")}function s(e){return c(e,"'","\\")}function c(e,t,r){for(;!e.eol();){var n=e.next();if(n==t)return!0;n==r&&e.next()}return!1}function u(e,t){return-1<t.indexOf(e)}function l(t,r){var n=e.indentUnit,i=m(t).token,o=_(r,/[^a-z]/);return t.in_string||t.in_atom?CodeMirror.Pass:""==i?0:u(i,M)?m(t).column+i.length:"when"==i?m(t).column+i.length+1:"fun"==i&&""==o?m(t).column+i.length:"->"==i?u(o,["end","after","catch"])?m(t,2).column:"fun"==m(t,2).token?m(t,2).column+n:""==m(t,2).token?n:m(t).indent+n:u(o,["after","catch","of"])?m(t).indent:m(t).column+n}function _(e,t){var r=e.match(t);return r?e.slice(0,r.index):e}function f(e){this.token=e?e.current():"",this.column=e?e.column():0,this.indent=e?e.indentation():0}function d(e){return e.tokenStack.pop()}function m(e,t){var r=e.tokenStack.length,n=t?t:1;return n>r?new f:e.tokenStack[r-n]}function p(e,t){var r=t.current(),n=m(e).token;return"."==r?(e.tokenStack=[],!1):u(r,[",",":","of","cond","let","query"])?!1:b(n,r)?!1:h(n,r)?(d(e),!1):g(n,r)?(d(e),p(e,t)):u(r,["after","catch"])?!1:(e.tokenStack.push(new f(t)),!0)}function b(e,t){switch(e+" "+t){case"when ;":return!0;default:return!1}}function g(e,t){switch(e+" "+t){case"when ->":return!0;case"-> end":return!0;default:return!1}}function h(e,t){switch(e+" "+t){case"( )":return!0;case"[ ]":return!0;case"{ }":return!0;case"<< >>":return!0;case"begin end":return!0;case"case end":return!0;case"fun end":return!0;case"if end":return!0;case"receive end":return!0;case"try end":return!0;case"-> catch":return!0;case"-> after":return!0;case"-> ;":return!0;default:return!1}}var k=["-type","-spec","-export_type","-opaque"],y=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],v=/[\->\.,:;]/,w=["->",";",":",".",","],x=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],z=/[\+\-\*\/<>=\|:!]/,S=["+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],W=/[<\(\[\{]/,M=["<<","(","[","{"],A=/[>\)\]\}]/,Z=["}","]",")",">>"],C=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],U=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],q=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,E=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;return{startState:function(){return{tokenStack:[],in_record:!1,in_string:!1,in_atom:!1}},token:function(e,t){return r(e,t)},indent:function(e,t){return l(e,t)},lineComment:"%"}});