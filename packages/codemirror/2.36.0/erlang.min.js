CodeMirror.defineMIME("text/x-erlang","erlang"),CodeMirror.defineMode("erlang",function(e){function t(e,t,n){switch(e.context="record"==n?"record":!1,"whitespace"!=n&&"comment"!=n&&(e.lastToken=t.current()),n){case"atom":return"atom";case"attribute":return"attribute";case"builtin":return"builtin";case"comment":return"comment";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"operator":return"operator";case"record":return"bracket";case"string":return"string";case"type":return"def";case"variable":return"variable";case"error":return"error";case"separator":return null;case"open_paren":return null;case"close_paren":return null;default:return null}}function n(e,t){return t.indexOf(e)>-1}function i(e,t){var n=e.start,i=t.length;if(n>=i){var a=e.string.slice(n-i,n);return a==t}return!1}function a(e,a){if(e.eatSpace())return t(a,e,"whitespace");if((""==h(a).token||"."==h(a).token)&&"-"==e.peek()){if(e.next(),e.eat(A)&&e.eatWhile(O))return n(e.current(),v)?t(a,e,"type"):t(a,e,"attribute");e.backUp(1)}var c=e.next();if("%"==c)return e.skipToEnd(),t(a,e,"comment");if("?"==c)return e.eatWhile(O),t(a,e,"macro");if("#"==c)return e.eatWhile(O),t(a,e,"record");if("$"==c)return"\\"==e.next()&&(e.eatWhile(D)||e.next()),t(a,e,"string");if("'"==c)return l(e)?t(a,e,"atom"):t(a,e,"error");if('"'==c)return s(e)?t(a,e,"string"):t(a,e,"error");if(R.test(c))return e.eatWhile(O),t(a,e,"variable");if(A.test(c)){if(e.eatWhile(O),"/"==e.peek())return e.next(),e.eatWhile(I)?t(a,e,"fun"):(e.backUp(1),t(a,e,"atom"));var u=e.current();return n(u,y)?(g(a,e),t(a,e,"keyword")):"("==e.peek()?!n(u,x)||i(e,":")&&!i(e,"erlang:")?t(a,e,"function"):t(a,e,"builtin"):n(u,w)?t(a,e,"guard"):n(u,k)?t(a,e,"operator"):":"==e.peek()?"erlang"==u?t(a,e,"builtin"):t(a,e,"function"):t(a,e,"atom")}return I.test(c)?(e.eatWhile(I),e.eat("#")?e.eatWhile(I):(e.eat(".")&&e.eatWhile(I),e.eat(/[eE]/)&&(e.eat(/[-+]/),e.eatWhile(I))),t(a,e,"number")):r(e,N,E)?(g(a,e),t(a,e,"open_paren")):r(e,F,T)?(g(a,e),t(a,e,"close_paren")):o(e,B,_)?(0==a.context&&g(a,e),t(a,e,"separator")):o(e,L,C)?t(a,e,"operator"):t(a,e,null)}function r(e,t,i){if(1==e.current().length&&t.test(e.current())){for(e.backUp(1);t.test(e.peek());)if(e.next(),n(e.current(),i))return!0;e.backUp(e.current().length-1)}return!1}function o(e,t,i){if(1==e.current().length&&t.test(e.current())){for(;t.test(e.peek());)e.next();for(;e.current().length>0;){if(n(e.current(),i))return!0;e.backUp(1)}e.next()}return!1}function s(e){return c(e,'"',"\\")}function l(e){return c(e,"'","\\")}function c(e,t,n){for(;!e.eol();){var i=e.next();if(i==t)return!0;i==n&&e.next()}return!1}function u(e){this.token=e?e.current():"",this.column=e?e.column():0,this.indent=e?e.indentation():0}function d(t,i){var a=e.indentUnit,r=["after","catch"],o=h(t).token,s=p(i,/[^a-z]/);return n(o,E)?h(t).column+o.length:"."==o||""==o?0:"->"==o?"end"==s?h(t,2).column:"fun"==h(t,2).token?h(t,2).column+a:h(t).indent+a:n(s,r)?h(t).indent:h(t).column+a}function p(e,t){var n=e.match(t);return n?e.slice(0,n.index):e}function m(e){return e.tokenStack.pop()}function h(e,t){var n=e.tokenStack.length,i=t?t:1;return i>n?new u:e.tokenStack[n-i]}function g(e,t){var i=t.current(),a=h(e).token;return n(i,S)?!1:b(a,i)?(m(e),!1):f(a,i)?(m(e),g(e,t)):(e.tokenStack.push(new u(t)),!0)}function f(e,t){switch(e+" "+t){case"when ->":return!0;case"-> end":return!0;case"-> .":return!0;case". .":return!0;default:return!1}}function b(e,t){switch(e+" "+t){case"( )":return!0;case"[ ]":return!0;case"{ }":return!0;case"<< >>":return!0;case"begin end":return!0;case"case end":return!0;case"fun end":return!0;case"if end":return!0;case"receive end":return!0;case"try end":return!0;case"-> ;":return!0;default:return!1}}var v=["-type","-spec","-export_type","-opaque"],y=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],_=["->",";",":",".",","],k=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],C=["+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-"],E=["<<","(","[","{"],T=["}","]",")",">>"],w=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],x=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],S=[",",":","catch","after","of","cond","let","query"],A=/[a-z_]/,R=/[A-Z_]/,I=/[0-9]/,D=/[0-7]/,O=/[a-z_A-Z0-9]/,L=/[\+\-\*\/<>=\|:]/,N=/[<\(\[\{]/,F=/[>\)\]\}]/,B=/[\->\.,:;]/;return{startState:function(){return{tokenStack:[],context:!1,lastToken:null}},token:function(e,t){return a(e,t)},indent:function(e,t){return d(e,t)}}});