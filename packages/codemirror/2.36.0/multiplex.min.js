CodeMirror.multiplexingMode=function(e){function t(e,t,n){if("string"==typeof t)return e.indexOf(t,n);var i=t.exec(n?e.slice(n):e);return i?i.index+n:-1}var n=Array.prototype.slice.call(arguments,1),i=n.length;return{startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(t){return{outer:CodeMirror.copyState(e,t.outer),innerActive:t.innerActive,inner:t.innerActive&&CodeMirror.copyState(t.innerActive.mode,t.inner)}},token:function(a,r){if(r.innerActive){var o=r.innerActive,s=a.string,l=t(s,o.close,a.pos);if(l==a.pos)return a.match(o.close),r.innerActive=r.inner=null,o.delimStyle;l>-1&&(a.string=s.slice(0,l));var c=o.mode.token(a,r.inner);l>-1&&(a.string=s);var u=a.current(),l=u.indexOf(o.close);return l>-1&&a.backUp(u.length-l),c}for(var d=1/0,s=a.string,p=0;i>p;++p){var m=n[p],l=t(s,m.open,a.pos);if(l==a.pos)return a.match(m.open),r.innerActive=m,r.inner=CodeMirror.startState(m.mode,e.indent?e.indent(r.outer,""):0),m.delimStyle;-1!=l&&d>l&&(d=l)}1/0!=d&&(a.string=s.slice(0,d));var h=e.token(a,r.outer);return 1/0!=d&&(a.string=s),h},indent:function(t,n){var i=t.innerActive?t.innerActive.mode:e;return i.indent?i.indent(t.innerActive?t.inner:t.outer,n):CodeMirror.Pass},electricChars:e.electricChars,innerMode:function(t){return t.inner?{state:t.inner,mode:t.innerActive.mode}:{state:t.outer,mode:e}}}};