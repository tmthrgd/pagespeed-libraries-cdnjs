CodeMirror.runMode=function(e,t,n,i){function r(e){return e.replace(/[<&]/g,function(e){return"<"==e?"&lt;":"&amp;"})}var a=CodeMirror.getMode(CodeMirror.defaults,t),o=1==n.nodeType,s=i&&i.tabSize||CodeMirror.defaults.tabSize;if(o){var l=n,c=[],u=0;n=function(e,t){if("\n"==e)return c.push("<br>"),u=0,void 0;for(var n="",i=0;;){var a=e.indexOf("	",i);if(-1==a){n+=r(e.slice(i)),u+=e.length-i;break}u+=a-i,n+=r(e.slice(i,a));var o=s-u%s;u+=o;for(var l=0;o>l;++l)n+=" ";i=a+1}t?c.push('<span class="cm-'+r(t)+'">'+n+"</span>"):c.push(n)}}for(var d=CodeMirror.splitLines(e),p=CodeMirror.startState(a),m=0,h=d.length;h>m;++m){m&&n("\n");for(var g=new CodeMirror.StringStream(d[m]);!g.eol();){var f=a.token(g,p);n(g.current(),f,m,g.start),g.start=g.pos}}o&&(l.innerHTML=c.join(""))};