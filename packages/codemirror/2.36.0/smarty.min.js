CodeMirror.defineMode("smarty",function(e){function t(e,t){return o=t,e}function n(e,t){function n(n){return t.tokenize=n,n(e,t)}return e.match(c,!0)?e.eat("*")?n(a("comment","*"+u)):(t.tokenize=i,"tag"):(e.next(),null)}function i(e,i){if(e.match(u,!0))return i.tokenize=n,t("tag",null);var a=e.next();if("$"==a)return e.eatWhile(l.validIdentifier),t("variable-2","variable");if("."==a)return t("operator","property");if(l.stringChar.test(a))return i.tokenize=r(a),t("string","string");if(l.operatorChars.test(a))return e.eatWhile(l.operatorChars),t("operator","operator");if("["==a||"]"==a)return t("bracket","bracket");if(/\d/.test(a))return e.eatWhile(/\d/),t("number","number");if("variable"==i.last){if("@"==a)return e.eatWhile(l.validIdentifier),t("property","property");if("|"==a)return e.eatWhile(l.validIdentifier),t("qualifier","modifier")}else{if("whitespace"==i.last)return e.eatWhile(l.validIdentifier),t("attribute","modifier");if("property"==i.last)return e.eatWhile(l.validIdentifier),t("property",null);if(/\s/.test(a))return o="whitespace",null}var c="";"/"!=a&&(c+=a);for(var d="";d=e.eat(l.validIdentifier);)c+=d;var p,m;for(p=0,m=s.length;m>p;p++)if(s[p]==c)return t("keyword","keyword");return/\s/.test(a)?null:t("tag","tag")}function r(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"}}function a(e,t){return function(i,r){for(;!i.eol();){if(i.match(t)){r.tokenize=n;break}i.next()}return e}}var o,s=["debug","extends","function","include","literal"],l={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9\_]/,stringChar:/[\'\"]/},c=e.mode.leftDelimiter!==void 0?e.mode.leftDelimiter:"{",u=e.mode.rightDelimiter!==void 0?e.mode.rightDelimiter:"}";return{startState:function(){return{tokenize:n,mode:"smarty",last:null}},token:function(e,t){var n=t.tokenize(e,t);return t.last=o,n},electricChars:""}}),CodeMirror.defineMIME("text/x-smarty","smarty");