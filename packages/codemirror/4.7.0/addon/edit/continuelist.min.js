!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var n=/^(\s*)([> ]+|[*+-]|(\d+)\.)(\s+)/,i=/^(\s*)([> ]+|[*+-]|(\d+)\.)(\s*)$/,t="*+-";e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return e.Pass;for(var r=o.listSelections(),d=[],l=0;l<r.length;l++){var c,a=r[l].head,s=o.getStateAfter(a.line),f=s.list!==!1,u=s.quote!==!1;if(!r[l].empty()||!f&&!u||!(c=o.getLine(a.line).match(n)))return void o.execCommand("newlineAndIndent");if(o.getLine(a.line).match(i))o.replaceRange("",{line:a.line,ch:0},{line:a.line,ch:a.ch+1}),d[l]="\n";else{var m=c[1],p=c[4],h=t.indexOf(c[2])>=0||c[2].indexOf(">")>=0?c[2]:parseInt(c[3],10)+1+".";d[l]="\n"+m+h+p}}o.replaceSelections(d)}});