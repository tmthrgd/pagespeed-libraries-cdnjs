CodeMirror.defineMode("markdown",function(e,t){function A(e,t,n){return t.f=t.inline=n,n(e,t)}function O(e,t,n){return t.f=t.block=n,n(e,t)}function M(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.quote=0,!n&&e.f==D&&(e.f=j,e.block=_),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function _(e,n){var r=n.list!==!1;n.list!==!1&&n.indentationDiff>=0?(n.indentationDiff<4&&(n.indentation-=n.indentationDiff),n.list=null):n.list!==!1&&n.indentation>0?(n.list=null,n.listDepth=Math.floor(n.indentation/4)):n.list!==!1&&(n.list=!1,n.listDepth=0);var i=null;if(n.indentationDiff>=4)return n.indentation-=4,e.skipToEnd(),a;if(e.eatSpace())return null;if(i=e.match(C))n.header=i[0].length<=6?i[0].length:6;else if(n.prevLineHasContent&&(i=e.match(k)))n.header=i[0].charAt(0)=="="?1:2;else if(e.eat(">")){n.indentation++,n.quote=1,e.eatSpace();while(e.eat(">"))e.eatSpace(),n.quote++}else{if(e.peek()==="[")return A(e,n,I);if(e.match(S,!0))return d;if((!n.prevLineHasContent||r)&&(e.match(x,!0)||e.match(T,!0)))n.indentation+=4,n.list=!0,n.listDepth++,t.taskLists&&e.match(N,!1)&&(n.taskList=!0);else if(t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0))return n.localMode=s(RegExp.$1),n.localMode&&(n.localState=n.localMode.startState()),O(e,n,P),a}return A(e,n,n.inline)}function D(e,t){var i=r.token(e,t.htmlState);return n&&i==="tag"&&t.htmlState.type!=="openTag"&&!t.htmlState.context&&(t.f=j,t.block=_),t.md_inside&&e.current().indexOf(">")!=-1&&(t.f=j,t.block=_,t.htmlState.context=undefined),i}function P(e,t){return e.sol()&&e.match(/^```/,!0)?(t.localMode=t.localState=null,t.f=j,t.block=_,a):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a)}function H(e){var t=[];if(e.taskOpen)return"meta";if(e.taskClosed)return"property";e.strong&&t.push(E),e.em&&t.push(w),e.linkText&&t.push(y),e.code&&t.push(a),e.header&&(t.push(u),t.push(u+e.header)),e.quote&&t.push(e.quote%2?f:l);if(e.list!==!1){var n=(e.listDepth-1)%3;n?n===1?t.push(h):t.push(p):t.push(c)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function B(e,t){return e.match(L,!0)?H(t):undefined}function j(e,n){var r=n.text(e,n);if(typeof r!="undefined")return r;if(n.list)return n.list=null,H(n);if(n.taskList){var i=e.match(N,!0)[1]!=="x";return i?n.taskOpen=!0:n.taskClosed=!0,n.taskList=!1,H(n)}n.taskOpen=!1,n.taskClosed=!1;var s=e.sol(),u=e.next();if(u==="\\")return e.next(),H(n);if(n.linkTitle){n.linkTitle=!1;var a=u;u==="("&&(a=")"),a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+a+"\\\\]+|\\\\\\\\|\\\\.)"+a;if(e.match(new RegExp(f),!0))return b}if(u==="`"){var l=H(n),c=e.pos;e.eatWhile("`");var h=1+e.pos-c;return n.code?h===o?(n.code=!1,l):H(n):(o=h,n.code=!0,H(n))}if(n.code)return H(n);if(u==="!"&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),n.inline=n.f=F,v;if(u==="["&&e.match(/.*\](\(| ?\[)/,!1))return n.linkText=!0,H(n);if(u==="]"&&n.linkText){var p=H(n);return n.linkText=!1,n.inline=n.f=F,p}if(u==="<"&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return A(e,n,z(m,">"));if(u==="<"&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return A(e,n,z(g,">"));if(u==="<"&&e.match(/^\w/,!1)){if(e.string.indexOf(">")!=-1){var d=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(d)&&(n.md_inside=!0)}return e.backUp(1),O(e,n,D)}if(u==="<"&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var y=!1;if(!t.underscoresBreakWords&&u==="_"&&e.peek()!=="_"&&e.match(/(\w)/,!1)){var w=e.pos-2;if(w>=0){var E=e.string.charAt(w);E!=="_"&&E.match(/(\w)/,!1)&&(y=!0)}}var l=H(n);if(u==="*"||u==="_"&&!y){if(!s||e.peek()!==" "){if(n.strong===u&&e.eat(u))return n.strong=!1,l;if(!n.strong&&e.eat(u))return n.strong=u,H(n);if(n.em===u)return n.em=!1,l;if(!n.em)return n.em=u,H(n)}}else if(u===" ")if(e.eat("*")||e.eat("_")){if(e.peek()===" ")return H(n);e.backUp(1)}return u===" "&&(e.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),H(n)}function F(e,t){if(e.eatSpace())return null;var n=e.next();return n==="("||n==="["?A(e,t,z(b,n==="("?")":"]")):"error"}function I(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=q,y):A(e,t,j)}function q(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=j,b)}function U(e){return R[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),R[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),R[e]}function z(e,t,n){return n=n||j,function(r,i){return r.match(U(t)),i.inline=i.f=n,e}}var n=CodeMirror.modes.hasOwnProperty("xml"),r=CodeMirror.getMode(e,n?{name:"xml",htmlMode:!0}:"text/plain"),i={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},s=function(){var t,n={},r={},s,o=[];for(var u in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(u)&&o.push(u);for(t=0;t<o.length;t++)n[o[t]]=o[t];var a=[];for(var u in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(u)&&a.push({mime:u,mode:CodeMirror.mimeModes[u]});for(t=0;t<a.length;t++)s=a[t].mime,r[s]=a[t].mime;for(var f in i)if(i[f]in n||i[f]in r)n[f]=i[f];return function(t){return n[t]?CodeMirror.getMode(e,n[t]):null}}();t.underscoresBreakWords===undefined&&(t.underscoresBreakWords=!0),t.fencedCodeBlocks===undefined&&(t.fencedCodeBlocks=!1),t.taskLists===undefined&&(t.taskLists=!1);var o=0,u="header",a="comment",f="atom",l="number",c="variable-2",h="variable-3",p="keyword",d="hr",v="tag",m="link",g="link",y="link",b="string",w="em",E="strong",S=/^([*\-=_])(?:\s*\1){2,}\s*$/,x=/^[*\-+]\s+/,T=/^[0-9]+\.\s+/,N=/^\[(x| )\](?=\s)/,C=/^#+/,k=/^(?:\={1,}|-{1,})$/,L=/^[^!\[\]*_\\<>` "'(]+/,R=[];return{startState:function(){return{f:_,prevLineHasContent:!1,thisLineHasContent:!1,block:_,htmlState:CodeMirror.startState(r),indentation:0,inline:j,text:B,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(e){return{f:e.f,prevLineHasContent:e.prevLineHasContent,thisLineHasContent:e.thisLineHasContent,block:e.block,htmlState:CodeMirror.copyState(r,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,linkTitle:e.linkTitle,em:e.em,strong:e.strong,header:e.header,taskList:e.taskList,list:e.list,listDepth:e.listDepth,quote:e.quote,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return t.prevLineHasContent=!1,M(t);t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.header=0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=Math.floor((n-t.indentation)/4)*4;r>4&&(r=4);var i=t.indentation+r;t.indentationDiff=i-t.indentation,t.indentation=i;if(n>0)return null}return t.f(e,t)},blankLine:M,getType:H}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");