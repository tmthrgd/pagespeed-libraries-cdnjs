CodeMirror.defineMode("julia",function(e,t){function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function y(e){var t=b(e);return t=="["||t=="{"?!0:!1}function b(e){return e.scopes.length==0?null:e.scopes[e.scopes.length-1]}function w(e,t){var r=t.leaving_expr;t.leaving_expr=!1;if(r){if(e.match(/^'+/))return"operator";if(e.match("..."))return"operator"}if(e.eatSpace())return null;var u=e.peek();if(u==="#")return e.skipToEnd(),"comment";u==="["&&t.scopes.push("["),u==="{"&&t.scopes.push("{");var a=b(t);a==="["&&u==="]"&&(t.scopes.pop(),t.leaving_expr=!0),a==="{"&&u==="}"&&(t.scopes.pop(),t.leaving_expr=!0);var f;(f=e.match(d,!1))&&t.scopes.push(f),!y(t)&&e.match(v,!1)&&t.scopes.pop();if(y(t)&&e.match("end"))return"number";if(e.match("=>"))return"operator";if(e.match(/^[0-9\.]/,!1)){var l=RegExp(/^im\b/),g=!1;e.match(/^\d*\.\d+([ef][\+\-]?\d+)?/i)&&(g=!0),e.match(/^\d+\.\d*/)&&(g=!0),e.match(/^\.\d+/)&&(g=!0);if(g)return e.match(l),"number";var w=!1;e.match(/^0x[0-9a-f]+/i)&&(w=!0),e.match(/^0b[01]+/i)&&(w=!0),e.match(/^0o[0-7]+/i)&&(w=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),w=!0),e.match(/^0(?![\dx])/i)&&(w=!0);if(w)return e.match(l),"number"}return e.match(c)?(t.tokenize=E(e.current()),t.tokenize(e,t)):e.match(i)?"operator":e.match(s)?null:e.match(h)?"keyword":e.match(p)?"builtin":e.match(m)?"meta":e.match(o)?(t.leaving_expr=!0,"variable"):(e.next(),n)}function E(e){function s(s,o){while(!s.eol()){s.eatWhile(/[^'"\\]/);if(s.eat("\\")){s.next();if(r&&s.eol())return i}else{if(s.match(e))return o.tokenize=w,i;s.eat(/['"]/)}}if(r){if(t.singleLineStringErrors)return n;o.tokenize=w}return i}while("rub".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var r=e.length==1,i="string";return s.isString=!0,s}function S(e,t){g=null;var r=t.tokenize(e,t),i=e.current();return i==="."?(r=e.match(o,!1)?null:n,r===null&&t.lastStyle==="meta"&&(r="meta"),r):r}var n="error",i=t.operators||/^(?:\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|<:|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b|\.{3})/,s=t.delimiters||/^[;,()[\]{}]/,o=t.identifiers||/^[_A-Za-z][_A-Za-z0-9]*!*/,u=["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch"],a=["end","else","elseif","catch","finally"],f=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype","ccall"],l=["true","false","enumerate","open","close","nothing","NaN","Inf","print","println","Int8","Uint8","Int16","Uint16","Int32","Uint32","Int64","Uint64","Int128","Uint128","Bool","Char","Float16","Float32","Float64","Array","Vector","Matrix","String","UTF8String","ASCIIString","error","warn","info","@printf"],c=/^[br]?('|"{3}|")/,h=r(f),p=r(l),d=r(u),v=r(a),m=/@[_A-Za-z][_A-Za-z0-9]*!*/,g=null,x={startState:function(){return{tokenize:w,scopes:[],leaving_expr:!1}},token:function(e,t){var n=S(e,t);return t.lastStyle=n,n},indent:function(e,t){var n=0;if(t=="end"||t=="]"||t=="}"||t=="else"||t=="elseif"||t=="catch"||t=="finally")n=-1;return(e.scopes.length+n)*2},lineComment:"#",fold:"indent",electricChars:"edlsifyh]}"};return x}),CodeMirror.defineMIME("text/x-julia","julia");