CodeMirror.defineMode("rst-base",function(e){function t(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return typeof t[n]!="undefined"?t[n]:e})}function n(e){this.message=e}function r(e,t){if(!e)throw new n(t);return e}function U(e,t){var n=null;if(e.sol()&&e.match(R,!1))K(t,$,{mode:i,local:i.startState()});else if(e.sol()&&e.match(g))K(t,z),n="meta";else if(e.sol()&&e.match(m))K(t,U),n="header";else if(G(t)==L||e.match(L,!1))switch(Q(t)){case 0:K(t,U,J(L,1)),r(e.match(/^:/)),n="meta";break;case 1:K(t,U,J(L,2)),r(e.match(l)),n="keyword",e.current().match(/^(?:math|latex)/)&&(t.tmp_stex=!0);break;case 2:K(t,U,J(L,3)),r(e.match(/^:`/)),n="meta";break;case 3:t.tmp_stex&&(t.tmp_stex=undefined,t.tmp={mode:s,local:s.startState()});if(t.tmp){if(e.peek()=="`"){K(t,U,J(L,4)),t.tmp=undefined;break}n=t.tmp.mode.token(e,t.tmp.local);break}K(t,U,J(L,4)),r(e.match(v)),n="string";break;case 4:K(t,U,J(L,5)),r(e.match(/^`/)),n="meta";break;case 5:K(t,U,J(L,6)),r(e.match(a));break;default:K(t,U),r(e.current()=="")}else if(G(t)==A||e.match(A,!1))switch(Q(t)){case 0:K(t,U,J(A,1)),r(e.match(/^`/)),n="meta";break;case 1:K(t,U,J(A,2)),r(e.match(v)),n="string";break;case 2:K(t,U,J(A,3)),r(e.match(/^`:/)),n="meta";break;case 3:K(t,U,J(A,4)),r(e.match(l)),n="keyword";break;case 4:K(t,U,J(A,5)),r(e.match(/^:/)),n="meta";break;case 5:K(t,U,J(A,6)),r(e.match(a));break;default:K(t,U),r(e.current()=="")}else if(G(t)==O||e.match(O,!1))switch(Q(t)){case 0:K(t,U,J(O,1)),r(e.match(/^:/)),n="meta";break;case 1:K(t,U,J(O,2)),r(e.match(l)),n="keyword";break;case 2:K(t,U,J(O,3)),r(e.match(/^:/)),n="meta";break;case 3:K(t,U,J(O,4)),r(e.match(a));break;default:K(t,U),r(e.current()=="")}else if(G(t)==x||e.match(x,!1))switch(Q(t)){case 0:K(t,U,J(x,1)),r(e.match(D)),n="variable-2";break;case 1:K(t,U,J(x,2)),e.match(/^_?_?/)&&(n="link");break;default:K(t,U),r(e.current()=="")}else if(e.match(T))K(t,U),n="quote";else if(e.match(N))K(t,U),n="quote";else if(e.match(C)){K(t,U);if(!e.peek()||e.peek().match(/^\W$/))n="link"}else if(G(t)==k||e.match(k,!1))switch(Q(t)){case 0:!e.peek()||e.peek().match(/^\W$/)?K(t,U,J(k,1)):e.match(k);break;case 1:K(t,U,J(k,2)),r(e.match(/^`/)),n="link";break;case 2:K(t,U,J(k,3)),r(e.match(v));break;case 3:K(t,U,J(k,4)),r(e.match(/^`_/)),n="link";break;default:K(t,U),r(e.current()=="")}else e.match(q)?K(t,X):e.next()&&K(t,U);return n}function z(e,t){var n=null;if(G(t)==w||e.match(w,!1))switch(Q(t)){case 0:K(t,z,J(w,1)),r(e.match(D)),n="variable-2";break;case 1:K(t,z,J(w,2)),r(e.match(P));break;case 2:K(t,z,J(w,3)),r(e.match(H)),n="keyword";break;case 3:K(t,z,J(w,4)),r(e.match(B)),n="meta";break;default:K(t,U),r(e.current()=="")}else if(G(t)==b||e.match(b,!1))switch(Q(t)){case 0:K(t,z,J(b,1)),r(e.match(M)),n="keyword",e.current().match(/^(?:math|latex)/)?t.tmp_stex=!0:e.current().match(/^python/)&&(t.tmp_py=!0);break;case 1:K(t,z,J(b,2)),r(e.match(_)),n="meta";if(e.match(/^latex\s*$/)||t.tmp_stex)t.tmp_stex=undefined,K(t,$,{mode:s,local:s.startState()});break;case 2:K(t,z,J(b,3));if(e.match(/^python\s*$/)||t.tmp_py)t.tmp_py=undefined,K(t,$,{mode:i,local:i.startState()});break;default:K(t,U),r(e.current()=="")}else if(G(t)==y||e.match(y,!1))switch(Q(t)){case 0:K(t,z,J(y,1)),r(e.match(j)),r(e.match(F)),n="link";break;case 1:K(t,z,J(y,2)),r(e.match(I)),n="meta";break;default:K(t,U),r(e.current()=="")}else e.match(E)?(K(t,U),n="quote"):e.match(S)?(K(t,U),n="quote"):(e.eatSpace(),e.eol()?K(t,U):(e.skipToEnd(),K(t,W),n="comment"));return n}function W(e,t){return V(e,t,"comment")}function X(e,t){return V(e,t,"meta")}function V(e,t,n){return e.eol()||e.eatSpace()?(e.skipToEnd(),n):(K(t,U),null)}function $(e,t){return t.ctx.mode&&t.ctx.local?e.sol()?(e.eatSpace()||K(t,U),null):t.ctx.mode.token(e,t.ctx.local):(K(t,U),null)}function J(e,t,n,r){return{phase:e,stage:t,mode:n,local:r}}function K(e,t,n){e.tok=t,e.ctx=n||{}}function Q(e){return e.ctx.stage||0}function G(e){return e.ctx.phase}n.prototype.toString=function(){return"AssertException: "+this.message};var i=CodeMirror.getMode(e,"python"),s=CodeMirror.getMode(e,"stex"),o="\\s+",u="(?:\\s*|\\W|$)",a=new RegExp(t("^{0}",u)),f="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",l=new RegExp(t("^{0}",f)),c="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",h=t("(?:{0}|`{1}`)",f,c),p="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)",d="(?:[^\\`]+)",v=new RegExp(t("^{0}",d)),m=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$"),g=new RegExp(t("^\\.\\.{0}",o)),y=new RegExp(t("^_{0}:{1}|^__:{1}",h,u)),b=new RegExp(t("^{0}::{1}",h,u)),w=new RegExp(t("^\\|{0}\\|{1}{2}::{3}",p,o,h,u)),E=new RegExp(t("^\\[(?:\\d+|#{0}?|\\*)]{1}",h,u)),S=new RegExp(t("^\\[{0}\\]{1}",h,u)),x=new RegExp(t("^\\|{0}\\|",p)),T=new RegExp(t("^\\[(?:\\d+|#{0}?|\\*)]_",h)),N=new RegExp(t("^\\[{0}\\]_",h)),C=new RegExp(t("^{0}__?",h)),k=new RegExp(t("^`{0}`_",d)),L=new RegExp(t("^:{0}:`{1}`{2}",f,d,u)),A=new RegExp(t("^`{1}`:{0}:{2}",f,d,u)),O=new RegExp(t("^:{0}:{1}",f,u)),M=new RegExp(t("^{0}",h)),_=new RegExp(t("^::{0}",u)),D=new RegExp(t("^\\|{0}\\|",p)),P=new RegExp(t("^{0}",o)),H=new RegExp(t("^{0}",h)),B=new RegExp(t("^::{0}",u)),j=new RegExp("^_"),F=new RegExp(t("^{0}|_",h)),I=new RegExp(t("^:{0}",u)),q=new RegExp("^::\\s*$"),R=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");return{startState:function(){return{tok:U,ctx:J(undefined,0)}},copyState:function(e){return{tok:e.tok,ctx:e.ctx}},innerMode:function(e){return e.tmp?{state:e.tmp.local,mode:e.tmp.mode}:e.ctx?{state:e.ctx.local,mode:e.ctx.mode}:null},token:function(e,t){return t.tok(e,t)}}},"python","stex"),CodeMirror.defineMode("rst",function(e,t){var n=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/,r=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/,i=/^``[^`\s](?:[^`]*[^`\s])``/,s=/^(?:[\d]+(?:[\.,]\d+)*)/,o=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/,u=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/,a="[Hh][Tt][Tt][Pp][Ss]?://",f="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})",l="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*",c=new RegExp("^"+a+f+l),h={token:function(e){if(e.match(n)&&e.match(/\W+|$/,!1))return"strong";if(e.match(r)&&e.match(/\W+|$/,!1))return"em";if(e.match(i)&&e.match(/\W+|$/,!1))return"string-2";if(e.match(s))return"number";if(e.match(o))return"positive";if(e.match(u))return"negative";if(e.match(c))return"link";while(e.next()!=null){if(e.match(n,!1))break;if(e.match(r,!1))break;if(e.match(i,!1))break;if(e.match(s,!1))break;if(e.match(o,!1))break;if(e.match(u,!1))break;if(e.match(c,!1))break}return null}},p=CodeMirror.getMode(e,t.backdrop||"rst-base");return CodeMirror.overlayMode(p,h,!0)},"python","stex"),CodeMirror.defineMIME("text/x-rst","rst");