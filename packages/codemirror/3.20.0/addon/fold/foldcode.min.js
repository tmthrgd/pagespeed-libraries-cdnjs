(function(){"use strict";function e(e,n,r,i){function u(t){var r=s(e,n);if(!r||r.to.line-r.from.line<o)return null;var u=e.findMarksAt(r.from);for(var a=0;a<u.length;++a)if(u[a].__isFold&&i!=="fold"){if(!t)return null;r.cleared=!0,u[a].clear()}return r}var s=r&&(r.call?r:r.rangeFinder);s||(s=e.getHelper(n,"fold"));if(!s)return;typeof n=="number"&&(n=CodeMirror.Pos(n,0));var o=r&&r.minFoldSize||0,a=u(!0);if(r&&r.scanUp)while(!a&&n.line>e.firstLine())n=CodeMirror.Pos(n.line-1,0),a=u(!1);if(!a||a.cleared||i==="unfold")return;var f=t(r);CodeMirror.on(f,"mousedown",function(){l.clear()});var l=e.markText(a.from,a.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});l.on("clear",function(t,n){CodeMirror.signal(e,"unfold",e,t,n)}),CodeMirror.signal(e,"fold",e,a.from,a.to)}function t(e){var t=e&&e.widget||"â†”";if(typeof t=="string"){var n=document.createTextNode(t);t=document.createElement("span"),t.appendChild(n),t.className="CodeMirror-foldmarker"}return t}CodeMirror.newFoldFunction=function(t,n){return function(r,i){e(r,i,{rangeFinder:t,widget:n})}},CodeMirror.defineExtension("foldCode",function(t,n,r){e(this,t,n,r)}),CodeMirror.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}})})();