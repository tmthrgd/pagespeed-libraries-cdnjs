(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerGlobalHelper("fold","comment",function(b){return b.blockCommentStart&&b.blockCommentEnd},function(l,h){var q=l.getModeAt(h),j=q.blockCommentStart,e=q.blockCommentEnd;if(!j||!e){return}var n=h.line,g=l.getLine(n);var m;for(var r=h.ch,c=0;;){var o=r<=0?-1:g.lastIndexOf(j,r-1);if(o==-1){if(c==1){return}c=1;r=g.length;continue}if(c==1&&o<h.ch){return}if(/comment/.test(l.getTokenTypeAt(a.Pos(n,o+1)))){m=o+j.length;break}r=o-1}var v=1,d=l.lastLine(),f,s;outer:for(var u=n;u<=d;++u){var p=l.getLine(u),k=u==n?m:0;for(;;){var b=p.indexOf(j,k),t=p.indexOf(e,k);if(b<0){b=p.length}if(t<0){t=p.length}k=Math.min(b,t);if(k==p.length){break}if(k==b){++v}else{if(!--v){f=u;s=k;break outer}}++k}}if(f==null||n==f&&s==m){return}return{from:a.Pos(n,m),to:a.Pos(f,s)}})});