function splitLines(a){return a.split(/\r?\n|\r/)}function StringStream(a){this.pos=this.start=0;this.string=a;this.lineStart=0}StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||null},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(a){var c=this.string.charAt(this.pos);if(typeof a=="string"){var b=c==a}else{var b=c&&(a.test?a.test(c):a(c))}if(b){++this.pos;return c}},eatWhile:function(a){var b=this.pos;while(this.eat(a)){}return this.pos>b},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1){this.pos=b;return true}},backUp:function(a){this.pos-=a},column:function(){return this.start-this.lineStart},indentation:function(){return 0},match:function(e,b,a){if(typeof e=="string"){var f=function(g){return a?g.toLowerCase():g};var d=this.string.substr(this.pos,e.length);if(f(d)==f(e)){if(b!==false){this.pos+=e.length}return true}}else{var c=this.string.slice(this.pos).match(e);if(c&&c.index>0){return null}if(c&&b!==false){this.pos+=c[0].length}return c}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(b,a){this.lineStart+=b;try{return a()}finally{this.lineStart-=b}}};exports.StringStream=StringStream;exports.startState=function(c,b,a){return c.startState?c.startState(b,a):true};var modes=exports.modes={},mimeModes=exports.mimeModes={};exports.defineMode=function(a,c){if(arguments.length>2){c.dependencies=[];for(var b=2;b<arguments.length;++b){c.dependencies.push(arguments[b])}}modes[a]=c};exports.defineMIME=function(b,a){mimeModes[b]=a};exports.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});exports.defineMIME("text/plain","null");exports.resolveMode=function(a){if(typeof a=="string"&&mimeModes.hasOwnProperty(a)){a=mimeModes[a]}else{if(a&&typeof a.name=="string"&&mimeModes.hasOwnProperty(a.name)){a=mimeModes[a.name]}}if(typeof a=="string"){return{name:a}}else{return a||{name:"null"}}};exports.getMode=function(b,a){a=exports.resolveMode(a);var c=modes[a.name];if(!c){throw new Error("Unknown mode: "+a)}return c(b,a)};exports.registerHelper=exports.registerGlobalHelper=Math.min;exports.runMode=function(g,c,k,l){var f=exports.getMode({indentUnit:2},c);var m=splitLines(g),b=(l&&l.state)||exports.startState(f);for(var d=0,h=m.length;d<h;++d){if(d){k("\n")}var j=new exports.StringStream(m[d]);if(!j.string&&f.blankLine){f.blankLine(b)}while(!j.eol()){var a=f.token(j,b);k(j.current(),a,d,j.start,b);j.start=j.pos}}};require.cache[require.resolve("../../lib/codemirror")]=require.cache[require.resolve("./runmode.node")];