!function(){function o(o,e,n){var r,t=o.getWrapperElement();return r=t.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof e?r.innerHTML=e:r.appendChild(e),r}function e(o,e){o.state.currentNotificationClose&&o.state.currentNotificationClose(),o.state.currentNotificationClose=e}CodeMirror.defineExtension("openDialog",function(n,r,t){function i(){d||(d=!0,a.parentNode.removeChild(a))}e(this,null);var u,a=o(this,n,t&&t.bottom),d=!1,l=this,c=a.getElementsByTagName("input")[0];return c?(t&&t.value&&(c.value=t.value),CodeMirror.on(c,"keydown",function(o){t&&t.onKeyDown&&t.onKeyDown(o,c.value,i)||(13==o.keyCode||27==o.keyCode)&&(c.blur(),CodeMirror.e_stop(o),i(),l.focus(),13==o.keyCode&&r(c.value))}),t&&t.onKeyUp&&CodeMirror.on(c,"keyup",function(o){t.onKeyUp(o,c.value,i)}),t&&t.value&&(c.value=t.value),c.focus(),CodeMirror.on(c,"blur",i)):(u=a.getElementsByTagName("button")[0])&&(CodeMirror.on(u,"click",function(){i(),l.focus()}),u.focus(),CodeMirror.on(u,"blur",i)),i}),CodeMirror.defineExtension("openConfirm",function(n,r,t){function i(){d||(d=!0,u.parentNode.removeChild(u),l.focus())}e(this,null);var u=o(this,n,t&&t.bottom),a=u.getElementsByTagName("button"),d=!1,l=this,c=1;a[0].focus();for(var f=0;f<a.length;++f){var s=a[f];!function(o){CodeMirror.on(s,"click",function(e){CodeMirror.e_preventDefault(e),i(),o&&o(l)})}(r[f]),CodeMirror.on(s,"blur",function(){--c,setTimeout(function(){0>=c&&i()},200)}),CodeMirror.on(s,"focus",function(){++c})}}),CodeMirror.defineExtension("openNotification",function(n,r){function t(){d||(d=!0,clearTimeout(i),u.parentNode.removeChild(u))}e(this,t);var i,u=o(this,n,r&&r.bottom),a=r&&(void 0===r.duration?5e3:r.duration),d=!1;CodeMirror.on(u,"click",function(o){CodeMirror.e_preventDefault(o),t()}),a&&(i=setTimeout(t,r.duration))})}();