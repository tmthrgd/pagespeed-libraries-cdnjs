!function(){"use strict";function t(t,r){var a=r&&r.schemaInfo,n=r&&r.quoteChar||'"';if(a){var s=t.getCursor(),i=t.getTokenAt(s),o=CodeMirror.innerMode(t.getMode(),i.state);if("xml"==o.mode.name){var g,l=[],f=!1,h="<"==i.string.charAt(0);if(!o.state.tagName||h){h&&(g=i.string.slice(1),f=!0);var p=o.state.context,u=p&&a[p.tagName],c=p?u&&u.children:a["!top"];if(c)for(var d=0;d<c.length;++d)g&&0!=c[d].lastIndexOf(g,0)||l.push("<"+c[d]);else for(var m in a)!a.hasOwnProperty(m)||"!top"==m||g&&0!=m.lastIndexOf(g,0)||l.push("<"+m);!p||g&&0!=("/"+p.tagName).lastIndexOf(g,0)||l.push("</"+p.tagName+">")}else{var u=a[o.state.tagName],v=u&&u.attrs;if(!v)return;if("string"==i.type||"="==i.string){var x,y=t.getRange(e(s.line,Math.max(0,s.ch-60)),e(s.line,"string"==i.type?i.start:i.end)),O=y.match(/([^\s\u00a0=<>\"\']+)=$/);if(!O||!v.hasOwnProperty(O[1])||!(x=v[O[1]]))return;"function"==typeof x&&(x=x.call(this,t)),"string"==i.type&&(g=i.string,/['"]/.test(i.string.charAt(0))&&(n=i.string.charAt(0),g=i.string.slice(1)),f=!0);for(var d=0;d<x.length;++d)g&&0!=x[d].lastIndexOf(g,0)||l.push(n+x[d]+n)}else{"attribute"==i.type&&(g=i.string,f=!0);for(var M in v)!v.hasOwnProperty(M)||g&&0!=M.lastIndexOf(g,0)||l.push(M)}}return{list:l,from:f?e(s.line,i.start):s,to:f?e(s.line,i.end):s}}}}var e=CodeMirror.Pos;CodeMirror.xmlHint=t,CodeMirror.registerHelper("hint","xml",t)}();