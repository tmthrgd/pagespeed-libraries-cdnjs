CodeMirror.registerHelper("fold","markdown",function(e,r){function n(r){var n=e.getTokenTypeAt(CodeMirror.Pos(r,0));return n&&/\bheader\b/.test(n)}function t(e,r,t){var o=r&&r.match(/^#+/);return o&&n(e)?o[0].length:(o=t&&t.match(/^[=\-]+\s*$/),o&&n(e+1)?"="==t[0]?1:2:i)}var i=100,o=e.getLine(r.line),l=e.getLine(r.line+1),g=t(r.line,o,l);if(g===i)return void 0;for(var a=e.lastLine(),d=r.line,f=e.getLine(d+2);a>d&&!(t(d+1,l,f)<=g);)++d,l=f,f=e.getLine(d+2);return{from:CodeMirror.Pos(r.line,o.length),to:CodeMirror.Pos(d,e.getLine(d).length)}});