CodeMirror.defineMode("markdown",function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function i(t,e,n){return e.f=e.block=n,n(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,v||t.f!=o||(t.f=g,t.block=a),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.thisLineHasContent=!1,null}function a(t,r){var a=t.sol(),o=r.list!==!1;r.list!==!1&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.list!==!1&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):r.list!==!1&&(r.list=!1,r.listDepth=0);var s=null;if(r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),F;if(t.eatSpace())return null;if(s=t.match(U))return r.header=s[0].length<=6?s[0].length:6,e.highlightFormatting&&(r.formatting="header"),r.f=r.inline,h(r);if(r.prevLineHasContent&&(s=t.match(A)))return r.header="="==s[0].charAt(0)?1:2,e.highlightFormatting&&(r.formatting="header"),r.f=r.inline,h(r);if(t.eat(">"))return r.indentation++,r.quote=a?1:r.quote+1,e.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),h(r);if("["===t.peek())return n(t,r,u);if(t.match(O,!0))return H;if((!r.prevLineHasContent||o)&&(t.match(W,!1)||t.match(I,!1))){var g=null;return t.match(W,!0)?g="ul":(t.match(I,!0),g="ol"),r.indentation+=4,r.list=!0,r.listDepth++,e.taskLists&&t.match(R,!1)&&(r.taskList=!0),r.f=r.inline,e.highlightFormatting&&(r.formatting=["list","list-"+g]),h(r)}return e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0)?(r.localMode=M(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(t,r,l),e.highlightFormatting&&(r.formatting="code-block"),r.code=!0,h(r)):n(t,r,r.inline)}function o(t,e){var n=x.token(t,e.htmlState);return(v&&!e.htmlState.tagName&&!e.htmlState.context||e.md_inside&&t.current().indexOf(">")>-1)&&(e.f=g,e.block=a,e.htmlState=null),n}function l(t,n){if(t.sol()&&t.match(/^```/,!0)){n.localMode=n.localState=null,n.f=g,n.block=a,e.highlightFormatting&&(n.formatting="code-block"),n.code=!0;var i=h(n);return n.code=!1,i}return n.localMode?n.localMode.token(t,n.localState):(t.skipToEnd(),F)}function h(t){var n=[];if(t.formatting){n.push(B),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var i=0;i<t.formatting.length;i++)n.push(B+"-"+t.formatting[i]),"header"===t.formatting[i]&&n.push(B+"-"+t.formatting[i]+"-"+t.header),"quote"===t.formatting[i]&&n.push(!e.maxBlockquoteDepth||e.maxBlockquoteDepth>=t.quote?B+"-"+t.formatting[i]+"-"+t.quote:"error")}if(t.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(t.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(t.linkHref)return n.push($),n.length?n.join(" "):null;if(t.strong&&n.push(N),t.em&&n.push(E),t.linkText&&n.push(j),t.code&&n.push(F),t.header&&(n.push(L),n.push(L+"-"+t.header)),t.quote&&(n.push(w),n.push(!e.maxBlockquoteDepth||e.maxBlockquoteDepth>=t.quote?w+"-"+t.quote:w+"-"+e.maxBlockquoteDepth)),t.list!==!1){var r=(t.listDepth-1)%3;n.push(r?1===r?q:D:b)}return t.trailingSpaceNewLine?n.push("trailing-space-new-line"):t.trailingSpace&&n.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function s(t,e){return t.match(P,!0)?h(e):void 0}function g(t,n){var r=n.text(t,n);if("undefined"!=typeof r)return r;if(n.list)return n.list=null,h(n);if(n.taskList){var a="x"!==t.match(R,!0)[1];return a?n.taskOpen=!0:n.taskClosed=!0,e.highlightFormatting&&(n.formatting="task"),n.taskList=!1,h(n)}if(n.taskOpen=!1,n.taskClosed=!1,n.header&&t.match(/^#+$/,!0))return e.highlightFormatting&&(n.formatting="header"),h(n);var l=t.sol(),s=t.next();if(n.escape)return n.escape=!1,h(n);if("\\"===s)return e.highlightFormatting&&(n.formatting="escape"),n.escape=!0,h(n);if(n.linkTitle){n.linkTitle=!1;var g=s;"("===s&&(g=")"),g=(g+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var m="^\\s*(?:[^"+g+"\\\\]+|\\\\\\\\|\\\\.)"+g;if(t.match(new RegExp(m),!0))return $}if("`"===s){var u=n.formatting;e.highlightFormatting&&(n.formatting="code");var d=h(n),p=t.pos;t.eatWhile("`");var k=1+t.pos-p;return n.code?k===C?(n.code=!1,d):(n.formatting=u,h(n)):(C=k,n.code=!0,h(n))}if(n.code)return h(n);if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),n.inline=n.f=c,T;if("["===s&&t.match(/.*\](\(| ?\[)/,!1))return n.linkText=!0,e.highlightFormatting&&(n.formatting="link"),h(n);if("]"===s&&n.linkText){e.highlightFormatting&&(n.formatting="link");var v=h(n);return n.linkText=!1,n.inline=n.f=c,v}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=f,e.highlightFormatting&&(n.formatting="link");var v=h(n);return v?v+=" ":v="",v+_}if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=f,e.highlightFormatting&&(n.formatting="link");var v=h(n);return v?v+=" ":v="",v+y}if("<"===s&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var S=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(S)&&(n.md_inside=!0)}return t.backUp(1),n.htmlState=CodeMirror.startState(x),i(t,n,o)}if("<"===s&&t.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var M=!1;if(!e.underscoresBreakWords&&"_"===s&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var L=t.pos-2;if(L>=0){var F=t.string.charAt(L);"_"!==F&&F.match(/(\w)/,!1)&&(M=!0)}}if("*"===s||"_"===s&&!M)if(l&&" "===t.peek());else{if(n.strong===s&&t.eat(s)){e.highlightFormatting&&(n.formatting="strong");var d=h(n);return n.strong=!1,d}if(!n.strong&&t.eat(s))return n.strong=s,e.highlightFormatting&&(n.formatting="strong"),h(n);if(n.em===s){e.highlightFormatting&&(n.formatting="em");var d=h(n);return n.em=!1,d}if(!n.em)return n.em=s,e.highlightFormatting&&(n.formatting="em"),h(n)}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(n);t.backUp(1)}return" "===s&&(t.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),h(n)}function f(t,n){var i=t.next();if(">"===i){n.f=n.inline=g,e.highlightFormatting&&(n.formatting="link");var r=h(n);return r?r+=" ":r="",r+_}return t.match(/^[^>]+/,!0),_}function c(t,n){if(t.eatSpace())return null;var i=t.next();return"("===i||"["===i?(n.f=n.inline=m("("===i?")":"]"),e.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,h(n)):"error"}function m(t){return function(n,i){var r=n.next();if(r===t){i.f=i.inline=g,e.highlightFormatting&&(i.formatting="link-string");var a=h(i);return i.linkHref=!1,a}return n.match(k(t),!0)&&n.backUp(1),i.linkHref=!0,h(i)}}function u(t,i){return t.match(/^[^\]]*\]:/,!1)?(i.f=d,t.next(),e.highlightFormatting&&(i.formatting="link"),i.linkText=!0,h(i)):n(t,i,g)}function d(t,n){if(t.match(/^\]:/,!0)){n.f=n.inline=p,e.highlightFormatting&&(n.formatting="link");var i=h(n);return n.linkText=!1,i}return t.match(/^[^\]]+/,!0),j}function p(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=g,$)}function k(t){return z[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),z[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),z[t]}var v=CodeMirror.modes.hasOwnProperty("xml"),x=CodeMirror.getMode(t,v?{name:"xml",htmlMode:!0}:"text/plain"),S={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},M=function(){var e,n,i={},r={},a=[];for(var o in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(o)&&a.push(o);for(e=0;e<a.length;e++)i[a[e]]=a[e];var l=[];for(var o in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(o)&&l.push({mime:o,mode:CodeMirror.mimeModes[o]});for(e=0;e<l.length;e++)n=l[e].mime,r[n]=l[e].mime;for(var h in S)(S[h]in i||S[h]in r)&&(i[h]=S[h]);return function(e){return i[e]?CodeMirror.getMode(t,i[e]):null}}();void 0===e.highlightFormatting&&(e.highlightFormatting=!1),void 0===e.maxBlockquoteDepth&&(e.maxBlockquoteDepth=0),void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var C=0,L="header",F="comment",w="quote",b="variable-2",q="variable-3",D="keyword",H="hr",T="tag",B="formatting",_="link",y="link",j="link",$="string",E="em",N="strong",O=/^([*\-=_])(?:\s*\1){2,}\s*$/,W=/^[*\-+]\s+/,I=/^[0-9]+\.\s+/,R=/^\[(x| )\](?=\s)/,U=/^#+/,A=/^(?:\={1,}|-{1,})$/,P=/^[^#!\[\]*_\\<>` "'(]+/,z=[],G={startState:function(){return{f:a,prevLineHasContent:!1,thisLineHasContent:!1,block:a,htmlState:null,indentation:0,inline:g,text:s,escape:!1,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&CodeMirror.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,escape:!1,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(t,e){if(e.formatting=!1,t.sol()){var n=t.match(/^\s*$/,!0)||e.header;if(e.header=0,n)return e.prevLineHasContent=!1,r(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.escape=!1,e.taskList=!1,e.code=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var i=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,a=4*Math.floor((i-e.indentation)/4);a>4&&(a=4);var o=e.indentation+a;if(e.indentationDiff=o-e.indentation,e.indentation=o,i>0)return null}return e.f(t,e)},innerMode:function(t){return t.block==o?{state:t.htmlState,mode:x}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:G}},blankLine:r,getType:h,fold:"markdown"};return G},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");