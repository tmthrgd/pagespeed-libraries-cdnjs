(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("./runmode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./runmode"],e):e(CodeMirror)})(function(e){"use strict";function n(e,r){if(e.nodeType==3)return r.push(e.nodeValue);for(var i=e.firstChild;i;i=i.nextSibling)n(i,r),t.test(e.nodeType)&&r.push("\n")}var t=/^(p|li|div|h\\d|pre|blockquote|td)$/;e.colorize=function(t,r){t||(t=document.body.getElementsByTagName("pre"));for(var i=0;i<t.length;++i){var s=t[i],o=s.getAttribute("data-lang")||r;if(!o)continue;var u=[];n(s,u),s.innerHTML="",e.runMode(u.join(""),o,s),s.className+=" cm-s-default"}}});