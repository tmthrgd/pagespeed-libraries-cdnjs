CodeMirror.defineMode("gherkin",function(){return{startState:function(){return{lineNumber:0,tableHeaderLine:null,allowFeature:true,allowBackground:false,allowScenario:false,allowSteps:false,allowPlaceholders:false,inMultilineArgument:false,inMultilineString:false,inMultilineTable:false}},token:function(stream,state){if(stream.sol()){state.lineNumber++}stream.eatSpace();if(state.inMultilineArgument){if(state.inMultilineString){if(stream.match('"""')){state.inMultilineString=false;state.inMultilineArgument=false}else{stream.match(/.*/)}return"string"}if(state.inMultilineTable){if(state.tableHeaderLine===null){state.tableHeaderLine=state.lineNumber}if(stream.match(/\|\s*/)){if(stream.eol()){state.inMultilineTable=false}return"bracket"}else{stream.match(/[^\|]*/);return state.tableHeaderLine===state.lineNumber?"property":"string"}}if(stream.match('"""')){state.inMultilineString=true;return"string"}else if(stream.match("|")){state.inMultilineTable=true;return"bracket"}else{state.inMultilineArgument=false;state.tableHeaderLine=null}return null}if(stream.match(/#.*/)){return"comment"}else if(stream.match(/@\S+/)){return"def"}else if(state.allowFeature&&stream.match(/Feature:/)){state.allowScenario=true;state.allowBackground=true;state.allowPlaceholders=false;state.allowSteps=false;return"keyword"}else if(state.allowBackground&&stream.match("Background:")){state.allowPlaceholders=false;state.allowSteps=true;state.allowBackground=false;return"keyword"}else if(state.allowScenario&&stream.match("Scenario Outline:")){state.allowPlaceholders=true;state.allowSteps=true;return"keyword"}else if(state.allowScenario&&stream.match("Examples:")){state.allowPlaceholders=false;state.allowSteps=true;state.allowBackground=false;state.inMultilineArgument=true;return"keyword"}else if(state.allowScenario&&stream.match(/Scenario:/)){state.allowPlaceholders=false;state.allowSteps=true;state.allowBackground=false;return"keyword"}else if(state.allowSteps&&stream.match(/(Given|When|Then|And|But)/)){return"keyword"}else if(!state.inMultilineArgument&&stream.match(/"/)){stream.match(/.*?"/);return"string"}else if(state.allowSteps&&stream.eat(":")){if(stream.match(/\s*$/)){state.inMultilineArgument=true;return"keyword"}else{return null}}else if(state.allowSteps&&stream.match("<")){if(stream.match(/.*?>/)){return"property"}else{return null}}else{stream.eatWhile(/[^":<]/)}return null}}});CodeMirror.defineMIME("text/x-feature","gherkin");