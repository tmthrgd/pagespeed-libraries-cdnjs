/*!
 * Ladda 0.4.1 (2013-06-14, 20:28)
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2013 Hakim El Hattab, http://hakim.se
 */
(function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(["./spin"],e):t.Ladda=e(t.Spinner)})(this,function(t){"use strict";function e(e){if(e===void 0)throw"Button target must be defined.";var n=new t({color:"#fff",lines:12,radius:8,length:5,width:3,zIndex:"initial",top:"auto",left:"auto",className:""}),i=document.createElement("span");i.className="ladda-spinner",e.appendChild(i);var r,s={start:function(){return e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(r),n.spin(i),this.setProgress(0),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(r),r=setTimeout(function(){n.stop()},1e3),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){var n=e.querySelector(".ladda-progress");0===t&&n&&n.parentNode?n.parentNode.removeChild(n):(n||(n=document.createElement("div"),n.className="ladda-progress",e.appendChild(n)),n.style.width=(t||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")}};return o.push(s),s}function n(t,n){n=n||{};var i=[];"string"==typeof t?i=[].slice.call(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(i=[i]);for(var o=0,r=i.length;r>o;o++)(function(){var t=i[o];if("function"==typeof t.addEventListener){var r=e(t),s=-1;t.addEventListener("click",function(){r.start(),"number"==typeof n.timeout&&(clearTimeout(s),s=setTimeout(r.stop,n.timeout)),"function"==typeof n.callback&&n.callback.apply(null,[r])},!1)}})()}function i(){for(var t=0,e=o.length;e>t;t++)o[t].stop()}var o=[];return{bind:n,create:e,stopAll:i}});