// angularsubkit.js - 1.0.1
// https://github.com/subkit
// Copyright 2012 - 2014 http://subkit.io
// MIT License

!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.Subkit=a():"undefined"!=typeof global?global.Subkit=a():"undefined"!=typeof self&&(self.Subkit=a())}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=function(a){"use strict";return{list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/baas";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json())}),c.promise.nodeify(b)},listByAccountId:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/baas/by/accounts/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},get:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/baas/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},set:function(b,c,d,e){var f=a.$q.defer(),g=a.baseUrl+"/baas/"+b,h=JSON.parse(JSON.stringify(a.options));return h.data={username:c,password:d},a.httpRequest.post(g,h,function(a,b){0===a?f.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?f.reject(new Error(b.json().message)):f.resolve(b.json())}),f.promise.nodeify(e)},remove:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/baas/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},start:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/baas/command/"+b;return a.httpRequest.put(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},stop:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/baas/command/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)}}}},{}],2:[function(a,b){b.exports=function(a){"use strict";return{Email:function(){var a=this;a.recipient="",a.templateId="",a.subject="",a.metadata},send:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/email/action/send/"+b.recipient,f=JSON.parse(JSON.stringify(a.options));return f.data=b,a.httpRequest.post(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},setSettings:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/email/settings",f=JSON.parse(JSON.stringify(a.options));return f.data=b,a.httpRequest.put(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},getSettings:function(b){var c=a.$q.defer(),d=a.baseUrl+"/email/settings";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json())}),c.promise.nodeify(b)}}}},{}],3:[function(a,b){b.exports=function(a){"use strict";return{upload:function(b,c){var d=a.$q.defer(),e=JSON.parse(JSON.stringify(a.options));e.headers["Content-Type"]="application/octed-stream",e.data=b;var f=a.baseUrl+"/file/upload/"+b.name;return a.httpRequest.post(f,e,function(a,b){0===a?d.reject(new Error("No network connection.")):201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},download:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/file/download/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.text())}),d.promise.nodeify(c)},"delete":function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/file/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/file";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json())}),c.promise.nodeify(b)},open:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/file/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.text())}),d.promise.nodeify(c)}}}},{}],4:[function(a,b){b.exports=function(a){"use strict";return{list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/processes",e=JSON.parse(JSON.stringify(a.options));return e.data={filter:"{}"},a.httpRequest.get(d,e,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json().map(function(a){return a.value}))}),c.promise.nodeify(b)},get:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/processes/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.json().map(function(a){return a.value}))}),d.promise.nodeify(c)},run:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/processes/actions/run/"+b.rel,f=JSON.parse(JSON.stringify(a.options));return f.data=b,a.httpRequest.post(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)}}}},{}],5:[function(a,b){b.exports=function(){"use strict";return{}}},{}],6:[function(a,b){b.exports=function(a){"use strict";return{set:function(b,c){var d=a.$q.defer(),e=JSON.parse(JSON.stringify(a.options));e.data=b;var f=a.baseUrl+"/task/"+b.Name;return a.httpRequest.put(f,e,function(a,b){0===a?d.reject(new Error("No network connection.")):201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},get:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/task/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},remove:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/task/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/task";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json())}),c.promise.nodeify(b)},run:function(b,c,d,e){var f=a.$q.defer(),g=a.baseUrl+"/task/run/"+b,h=JSON.parse(JSON.stringify(a.options));return h.data=c,a.httpRequest.get(g,h,function(a,b){0===a?f.reject(new Error("No network connection.")):200!==a?f.reject(new Error(b.json().message)):f.resolve(b.json())},e),f.promise.nodeify(d)}}}},{}],7:[function(a,b){b.exports=function(a){"use strict";return{add:function(b,c,d){var e=a.$q.defer(),f=JSON.parse(JSON.stringify(a.options));f.headers["Content-Type"]="application/octed-stream",f.data=c;var g=a.baseUrl+"/template/"+b;return a.httpRequest.post(g,f,function(a,b){0===a?e.reject(new Error("No network connection.")):201!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)},set:function(b,c,d){var e=a.$q.defer(),f=JSON.parse(JSON.stringify(a.options));f.headers["Content-Type"]="application/octed-stream",f.data=c;var g=a.baseUrl+"/template/"+b;return a.httpRequest.put(g,f,function(a,b){0===a?e.reject(new Error("No network connection.")):201!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)},get:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/template/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.text())}),d.promise.nodeify(c)},remove:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/template/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/template";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(new Error(b.json().message)):c.resolve(b.json())}),c.promise.nodeify(b)},open:function(b,c,d){var e=a.$q.defer(),f=a.baseUrl+"/template/"+b+"/actions/render";if(c){a.options.cache=!0;var g=[];for(var h in c)c.hasOwnProperty(h)&&g.push(encodeURIComponent(h)+"="+encodeURIComponent(c[h]));f+="?"+g.join("&")}return a.httpRequest.get(f,a.options,function(a,b){0===a?e.reject(new Error("No network connection.")):200!==a?e.reject(new Error(b.json().message)):e.resolve(b.text())}),e.promise.nodeify(d)}}}},{}],8:[function(a,b){b.exports=function(a){"use strict";return{login:function(b){var c=a.$q.defer(),d=a.baseUrl+"/users/actions/login";return a.httpRequest.authBasic(a.options.username,a.options.password),a.httpRequest.post(d,a.options,function(b,d){0===b?c.reject(new Error("No network connection.")):200!==b?c.reject(new Error("Authentication failed.")):(a.options.apiKey=d.json().apiKey,c.resolve({apiKey:a.options.apiKey,username:a.options.username,password:a.options.password,baseUrl:a.baseUrl}))}),c.promise.nodeify(b)},listAll:function(b){var c=a.$q.defer(),d=a.baseUrl+"/users",e=JSON.parse(JSON.stringify(a.options));return e.data={filter:"{}"},a.httpRequest.get(d,e,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(b.json().message):c.resolve(b.json().map(function(a){return a.value}))}),c.promise.nodeify(b)},list:function(b){var c=a.$q.defer(),d=a.baseUrl+"/users";return a.httpRequest.get(d,a.options,function(a,b){0===a?c.reject(new Error("No network connection.")):200!==a?c.reject(b.json().message):c.resolve(b.json().map(function(a){return a.value}))}),c.promise.nodeify(b)},groups:function(b){var c=a.$q.defer(),d=a.baseUrl+"/users/groups";return a.httpRequest.get(d,a.options,function(a,b){if(0===a)c.reject(new Error("No network connection."));else if(200!==a)c.reject(b.json().message);else{b=b.json();var d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);c.resolve(d)}}),c.promise.nodeify(b)},register:function(b,c,d){var e=a.$q.defer(),f=a.baseUrl+"/users/actions/register",g=JSON.parse(JSON.stringify(a.options));return g.data={username:b,password:c},a.httpRequest.post(f,g,function(a,b){0===a?e.reject(new Error("No network connection.")):201!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)},remove:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/users/"+b;return a.httpRequest.del(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a&&204!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},get:function(b,c){var d=a.$q.defer(),e=a.baseUrl+"/users/"+b;return a.httpRequest.get(e,a.options,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(c)},set:function(b,c,d){var e=a.$q.defer(),f=a.baseUrl+"/users/"+b,g=JSON.parse(JSON.stringify(a.options));return g.data=c,a.httpRequest.put(f,g,function(a,b){0===a?e.reject(new Error("No network connection.")):200!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)}}}},{}],9:[function(a,b){b.exports=function(b){"use strict";var c=this;c.$q=a("q"),c.user=a("./plugins/user")(c),c.file=a("./plugins/file")(c),c.task=a("./plugins/task")(c),c.template=a("./plugins/template")(c),c.email=a("./plugins/email")(c),c.flow=a("./plugins/flow")(c),c.geolocation=a("./plugins/geolocation")(c),c.baas=a("./plugins/baas")(c),c.UUID=function(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d},c.manage={login:function(a){var b=c.$q.defer(),d=c.baseUrl+"/manage/login";return j.authBasic(c.options.username,c.options.password),j.post(d,c.options,function(a,d){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(d.json().message)):(c.options.apiKey=d.json().api.apiKey,b.resolve({apiKey:c.options.apiKey,username:c.options.username,password:c.options.password,baseUrl:c.baseUrl}))}),b.promise.nodeify(a)},"import":function(a,d){var e=c.$q.defer(),f=JSON.parse(JSON.stringify(c.options));f.headers={"Content-Type":"application/octed-stream",apiKey:b.apiKey},f.data=a;var g=c.baseUrl+"/manage/import";return j.post(g,f,function(a,b){0===a?e.reject(new Error("No network connection.")):201!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)},"export":function(a){var b=c.$q.defer(),d=c.baseUrl+"/manage/export";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve("data:application/octet-stream,"+c.text())}),b.promise.nodeify(a)},backup:function(a){a&&a()},restore:function(a,b){b&&b()},acl:{list:function(a,b){var d=c.baseUrl+"/shares/";"function"==typeof a?(d+="identities",b=a):d+=a,j.get(d,c.options,function(a,c){return b?0===a?b({message:"No network connection."}):200!==a?b(c.json()):void b(null,c.json()):void 0})},set:function(a,b){var d=c.baseUrl+"/shares/"+encodeURIComponent(a);j.post(d,c.options,function(a,c){return b?0===a?b({message:"No network connection."}):201!==a?b(c.json()):void b(null,c.json()):void 0})},remove:function(a,b){var d=c.baseUrl+"/shares/"+encodeURIComponent(a);j.del(d,c.options,function(a,c){return b?0===a?b({message:"No network connection."}):202!==a?b(c.json()):void b(null,c.json()):void 0})},grantWrite:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/grantwrite/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})},grantDelete:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/grantdelete/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})},grantRead:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/grantread/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})},revokeWrite:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/revokewrite/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})},revokeDelete:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/revokedelete/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})},revokeRead:function(a,b,d){var e=c.baseUrl+"/shares/"+encodeURIComponent(a)+"/actions/revokeread/"+b;j.put(e,c.options,function(a,b){return d?0===a?d({message:"No network connection."}):202!==a?d(b.json()):void d(null,b.json()):void 0})}},password:{set:function(a,b,d,e){var f=c.$q.defer(),g=c.baseUrl+"/manage/password/actions/reset",h=JSON.parse(JSON.stringify(c.options));return h.data={password:a,newPassword:b,newPasswordValidation:d},j.put(g,h,function(a,b){0===a?f.reject(new Error("No network connection.")):200!==a&&202!==a?f.reject(new Error(b.json().message)):f.resolve(b.json())}),f.promise.nodeify(e)}},user:{set:function(a,b){var d=c.$q.defer(),e=c.baseUrl+"/manage/user",f=JSON.parse(JSON.stringify(c.options));return f.data={username:a},j.put(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(b)}},apikey:{reset:function(a){var b=c.$q.defer(),d=c.baseUrl+"/manage/apikey/actions/reset";return j.put(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a&&202!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)}},certificate:{get:function(a){var b=c.$q.defer(),d=c.baseUrl+"/manage/certificate";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)},set:function(a,b,d){var e=c.$q.defer(),f=c.baseUrl+"/manage/certificate/actions/change",g=JSON.parse(JSON.stringify(c.options));return g.data={certificate:a,key:b},j.put(f,g,function(a,b){0===a?e.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)}},status:{get:function(a){var b=c.$q.defer(),d=c.baseUrl+"/manage/os";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)}},plugin:{list:function(a){var b=c.$q.defer(),d=c.baseUrl+"/plugin";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)}}},c.store=function(a){var d=function(b){return a&&!b?c.baseUrl+"/stores/"+a:a&&b?c.baseUrl+"/stores/"+a+"/"+b:!a&&b&&-1!==b.indexOf("!")?(b=b.replace(/^[a-zA-z0-9]\/\//,"!"),c.baseUrl+"/stores/"+b):!a&&b?c.baseUrl+"/stores/"+b:c.baseUrl+"/stores"},e=function(){var a=this;a.doneResult=function(){},a.errorResult=function(){},a.done=function(b){return a.doneResult=b,a},a.error=function(b){return a.errorResult=b,a}},f=null,g={key:function(){return c.UUID()},"import":function(d,e){var f=JSON.parse(JSON.stringify(c.options));f.headers={"Content-Type":"application/octed-stream",apiKey:b.apiKey},f.data=d;var g=c.baseUrl+"/manage/import/"+a;j.post(g,f,function(a,b){return e?0===a?e({message:"No network connection."}):201!==a?e(b.json()):void e(null,b.json()):void 0})},"export":function(b){var d=c.baseUrl+"/manage/export/"+a;j.get(d,c.options,function(a,c){return b?0===a?b({message:"No network connection."}):200!==a?b(c.json()):void b(null,"data:application/octet-stream,"+c.text()):void 0})},set:function(a,b,f){a=arguments[0],b=arguments[1],1===arguments.length&&a instanceof Object&&(b=a,a=c.UUID());var g=d(a),h=new e,i=JSON.parse(JSON.stringify(c.options));return i.data=b,j.post(g,i,function(a,b){200!==a&&201!==a?(h.errorResult(b.text()),m(b.text()),f&&f(b.text())):(h.doneResult(b.json()),f&&f(null,b.json()))}),h},get:function(a,b){var f=new e;return j.get(d(a),c.options,function(a,c){0===a&&200!==a?(f.errorResult(c.text()),m(c.text()),b&&b(c.text())):(f.doneResult(c.json()),b&&b(null,c.json()))}),f},remove:function(a,b){var f=new e;return j.del(d(a),c.options,function(a,c){200!==a&&202!==a?(f.errorResult(c.text()),m(c.text()),b&&b(c.text())):(f.doneResult(c.json()),b&&b(null,c.json()))}),f},history:function(a){var b=new e,c=[];return b.doneResult(c),a&&a(null,c),g},on:function(b){return c.subscribed[a]&&f&&f().abort(),c.subscribed[a]=!0,f=n(a,c.clientId,b),m("subscribed to "+a),g},off:function(){return delete c.subscribed[a],f&&f().abort(),m("unsubscribed from "+a),g}};return g},c.notify={upload:function(a,d,e,f){var g=c.$q.defer(),h=JSON.parse(JSON.stringify(c.options));h.headers={"Content-Type":"application/octed-stream",apiKey:b.apiKey},h.data=e;var i=c.baseUrl+"/push/upload/"+a+"/"+d;return j.post(i,h,function(a,b){0===a?g.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?g.reject(new Error(b.json().message)):g.resolve(b.json())}),g.promise.nodeify(f)},send:function(a,b){var d=c.$q.defer(),e=c.baseUrl+"/push/send",f=JSON.parse(JSON.stringify(c.options));return f.data=a,j.post(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(b)},settings:{load:function(a){var b=c.$q.defer(),d=c.baseUrl+"/push/settings";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)},save:function(a,b){var d=c.$q.defer(),e=c.baseUrl+"/push/settings",f=JSON.parse(JSON.stringify(c.options));return f.data=a,j.put(e,f,function(a,b){0===a?d.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?d.reject(new Error(b.json().message)):d.resolve(b.json())}),d.promise.nodeify(b)}}},c.pubsub={channels:function(a){var b=c.$q.defer(),d=c.baseUrl+"/pubsub/channels";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)},push:function(a,b,d){var e=c.$q.defer(),f=c.baseUrl+"/pubsub/channel/publish/"+a,g=JSON.parse(JSON.stringify(c.options));return g.data=b,j.post(f,g,function(a,b){0===a?e.reject(new Error("No network connection.")):200!==a&&201!==a&&202!==a?e.reject(new Error(b.json().message)):e.resolve(b.json())}),e.promise.nodeify(d)},on:function(a,b){a=a.replace("/","_"),c.subscribed[a]=!0,m("subscribed to "+a);var d=n(a,c.clientId,b);return{off:function(){delete c.subscribed[a],d&&d().abort(),m("unsubscribed from "+a)},push:function(b,d){c.pubsub.push(a,b,d)}}}},c.statistics={minutes:function(a){var b=c.$q.defer(),d=c.baseUrl+"/statistics/minutes";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)},summary:function(a){var b=c.$q.defer(),d=c.baseUrl+"/statistics/summary";return j.get(d,c.options,function(a,c){0===a?b.reject(new Error("No network connection.")):200!==a?b.reject(new Error(c.json().message)):b.resolve(c.json())}),b.promise.nodeify(a)}};var d=function(a){if(window.XMLHttpRequest)return a(null,new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(new Error)},e=function(a){if("string"==typeof a)return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},f=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},g=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a=f(a);var c,d,e,g,h,i,j,k="",l=0;do c=a.charCodeAt(l++),d=a.charCodeAt(l++),e=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|d>>4,i=(15&d)<<2|e>>6,j=63&e,isNaN(d)?i=j=64:isNaN(e)&&(j=64),k+=b.charAt(g)+b.charAt(h)+b.charAt(i)+b.charAt(j),c=d=e="",g=h=i=j="";while(l<a.length);return k},h=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},i=function(a,b,c,f,g){"function"==typeof c&&(f=c,c={}),c.cache=c.cache||!0,c.headers=c.headers||{},c.jsonp=c.jsonp||!1;var j,k=h({accept:"*/*","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","x-auth-token":c.apiKey},i.headers,c.headers);if(c.data&&(j="GET"===a&&"application/json"===k["Content-Type"]?e(c.data):"application/json"===k["Content-Type"]?JSON.stringify(c.data):-1!==k["Content-Type"].indexOf("application/octed-stream")?c.data:e(c.data)),"GET"===a){var l=[];if(j&&(l.push(j),j=null),c.cache||l.push("_="+(new Date).getTime()),c.jsonp&&(l.push("callback="+c.jsonp),l.push("jsonp="+c.jsonp)),l="?"+l.join("&"),b+="?"!==l?l:"",c.jsonp){var m=document.getElementsByTagName("head")[0],n=document.createElement("script");return n.type="text/javascript",n.src=b,void m.appendChild(n)}}var o=null;return d(function(d,e){if(o=e,d)return f(d);e.open(a,b,c.async||!0);for(var h in k)k.hasOwnProperty(h)&&e.setRequestHeader(h,k[h]);e.onerror=function(){f(e.status,{text:function(){return e.statusText}})},e.onreadystatechange=function(){if(4===e.readyState&&0!==e.status){var a=this.getResponseHeader("subkit-log");if(g&&g(a),!f)return;var b=e.responseText||"";f(e.status,{text:function(){return b},json:function(){return b?JSON.parse(b):{}},headers:function(){return e.getAllResponseHeaders()}})}},e.send(j)}),o},j={authBasic:function(a,b){j.headers({}),i.headers.Authorization="Basic "+g(a+":"+b)},connect:function(a,b,c,d){return i("CONNECT",a,b,c,d)},del:function(a,b,c,d){return i("DELETE",a,b,c,d)},get:function(a,b,c,d){return i("GET",a,b,c,d)},head:function(a,b,c,d){return i("HEAD",a,b,c,d)},headers:function(a){i.headers=a||{}},isAllowed:function(a,b,c,d){this.options(a,function(a,d){c(-1!==d.text().indexOf(b))},d)},options:function(a,b,c,d){return i("OPTIONS",a,b,c,d)},patch:function(a,b,c,d){return i("PATCH",a,b,c,d)},post:function(a,b,c,d){return i("POST",a,b,c,d)},put:function(a,b,c,d){return i("PUT",a,b,c,d)},trace:function(a,b,c,d){return i("TRACE",a,b,c,d)}},k=function(){var a=window.sessionStorage.getItem("clientId");return a||(a=c.UUID(),window.sessionStorage.setItem("clientId",a)),a};c.clientId=b.clientId||k(),c.baseUrl=b.baseUrl||(-1!==window.location.origin.indexOf("http")?window.location.origin:"https://localhost:8080"),c.options={apiKey:b.apiKey||"",username:b.username||"",password:b.password||"",headers:{"Content-Type":"application/json"}};var l=[];c.subscribed={};var m=function(a){a.json&&(a=a.json()),l.forEach(function(b){b(a)})};c.httpRequest=j;var n=function(a,b,d){var e=c.baseUrl+"/pubsub/subscribe/"+a+"/"+b,f=null,g=1;return function h(){f=j.get(e,c.options,function(e,f){200!==e?c.subscribed[a]&&(d({message:"subscription error - retry"}),setTimeout(function(){h(a,b,d)},300*g++)):(g=1,f.json().forEach(function(a){d(null,a.value)}),c.subscribed[a]&&h(a,b,d))})}(),function(){return f}}}},{"./plugins/baas":1,"./plugins/email":2,"./plugins/file":3,"./plugins/flow":4,"./plugins/geolocation":5,"./plugins/task":6,"./plugins/template":7,"./plugins/user":8,q:11}],10:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],11:[function(b,c,d){var e=b("__browserify_process");!function(b){if("function"==typeof bootstrap)bootstrap("promise",b);else if("object"==typeof d)c.exports=b();else if("function"==typeof a&&a.amd)a(b);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=b}else Q=b()}(function(){"use strict";function a(a){return function(){return W.apply(a,arguments)}}function b(a){return a===Object(a)}function c(a){return"[object StopIteration]"===cb(a)||a instanceof S}function d(a,b){if(P&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(db)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+db+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===R&&d>=T&&hb>=d}function j(){if(P)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return R=d[0],d[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return s(a)?a:t(a)?C(a):B(a)}function m(){function a(a){b=a,f.source=a,Y(c,function(b,c){V(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=_(m.prototype),f=_(p.prototype);if(f.promiseDispatch=function(a,e,f){var g=X(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):V(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=r(b);return s(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&P)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(l(c))},e.fulfill=function(c){b||a(B(c))},e.reject=function(c){b||a(A(c))},e.notify=function(a){b||Y(d,function(b,c){V(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function o(a){return n(function(b,c){for(var d=0,e=a.length;e>d;d++)l(a[d]).then(b,c)})}function p(a,b,c){void 0===b&&(b=function(a){return A(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=_(p.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=A(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function q(a,b,c,d){return l(a).then(b,c,d)}function r(a){if(s(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function s(a){return b(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function t(a){return b(a)&&"function"==typeof a.then}function u(a){return s(a)&&"pending"===a.inspect().state}function v(a){return!s(a)||"fulfilled"===a.inspect().state}function w(a){return s(a)&&"rejected"===a.inspect().state}function x(){eb.length=0,fb.length=0,gb||(gb=!0)}function y(a,b){gb&&(fb.push(a),eb.push(b&&"undefined"!=typeof b.stack?b.stack:"(no stack) "+b))}function z(a){if(gb){var b=Z(fb,a);-1!==b&&(fb.splice(b,1),eb.splice(b,1))}}function A(a){var b=p({when:function(b){return b&&z(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return y(b,a),b}function B(a){return p({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)
},apply:function(b,c){return a.apply(b,c)},keys:function(){return bb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function C(a){var b=m();return V(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function D(a){return p({isDef:function(){}},function(b,c){return J(a,b,c)},function(){return l(a).inspect()})}function E(a,b,c){return l(a).spread(b,c)}function F(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=d[a](b)}catch(h){return A(h)}return g.done?g.value:q(g.value,e,f)}try{g=d[a](b)}catch(h){return c(h)?h.value:A(h)}return q(g,e,f)}var d=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function G(a){l.done(l.async(a)())}function H(a){throw new S(a)}function I(a){return function(){return E([this,K(arguments)],function(b,c){return a.apply(b,c)})}}function J(a,b,c){return l(a).dispatch(b,c)}function K(a){return q(a,function(a){var b=0,c=m();return Y(a,function(d,e,f){var g;s(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,q(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function L(a){return q(a,function(a){return a=$(a,l),q(K($(a,function(a){return q(a,U,U)})),function(){return a})})}function M(a){return l(a).allSettled()}function N(a,b){return l(a).then(void 0,void 0,b)}function O(a,b){return l(a).nodeify(b)}var P=!1;try{throw new Error}catch(Q){P=!!Q.stack}var R,S,T=j(),U=function(){},V=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var e=b.domain;e&&(b.domain=void 0,e.enter());try{c()}catch(f){if(g)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),f;setTimeout(function(){throw f},0)}e&&e.exit()}d=!1}var b={task:void 0,next:null},c=b,d=!1,f=void 0,g=!1;if(V=function(a){c=c.next={task:a,domain:g&&e.domain,next:null},d||(d=!0,f())},"undefined"!=typeof e&&e.nextTick)g=!0,f=function(){e.nextTick(a)};else if("function"==typeof setImmediate)f="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=function(){f=i,h.port1.onmessage=a,a()};var i=function(){h.port2.postMessage(0)};f=function(){setTimeout(a,0),i()}}else f=function(){setTimeout(a,0)};return V}(),W=Function.call,X=a(Array.prototype.slice),Y=a(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),Z=a(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),$=a(Array.prototype.map||function(a,b){var c=this,d=[];return Y(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),_=Object.create||function(a){function b(){}return b.prototype=a,new b},ab=a(Object.prototype.hasOwnProperty),bb=Object.keys||function(a){var b=[];for(var c in a)ab(a,c)&&b.push(c);return b},cb=a(Object.prototype.toString);S="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var db="From previous event:";l.resolve=l,l.nextTick=V,l.longStackSupport=!1,l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):a.resolve(arguments.length>2?X(arguments,1):c)}},l.Promise=n,l.promise=n,n.race=o,n.all=K,n.reject=A,n.resolve=l,l.passByCopy=function(a){return a},p.prototype.passByCopy=function(){return this},l.join=function(a,b){return l(a).join(b)},p.prototype.join=function(a){return l([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},l.race=o,p.prototype.race=function(){return this.then(l.race)},l.makePromise=p,p.prototype.toString=function(){return"[object Promise]"},p.prototype.then=function(a,b,c){function e(b){try{return"function"==typeof a?a(b):b}catch(c){return A(c)}}function f(a){if("function"==typeof b){d(a,h);try{return b(a)}catch(c){return A(c)}}return A(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return V(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(e(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!l.onerror)throw d;l.onerror(d)}c||i.notify(b)}]),i.promise},l.when=q,p.prototype.thenResolve=function(a){return this.then(function(){return a})},l.thenResolve=function(a,b){return l(a).thenResolve(b)},p.prototype.thenReject=function(a){return this.then(function(){throw a})},l.thenReject=function(a,b){return l(a).thenReject(b)},l.nearer=r,l.isPromise=s,l.isPromiseAlike=t,l.isPending=u,p.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=v,p.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=w,p.prototype.isRejected=function(){return"rejected"===this.inspect().state};var eb=[],fb=[],gb=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return eb.slice()},l.stopUnhandledRejectionTracking=function(){x(),gb=!1},x(),l.reject=A,l.fulfill=B,l.master=D,l.spread=E,p.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},l.async=F,l.spawn=G,l["return"]=H,l.promised=I,l.dispatch=J,p.prototype.dispatch=function(a,b){var c=this,d=m();return V(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},l.get=function(a,b){return l(a).dispatch("get",[b])},p.prototype.get=function(a){return this.dispatch("get",[a])},l.set=function(a,b,c){return l(a).dispatch("set",[b,c])},p.prototype.set=function(a,b){return this.dispatch("set",[a,b])},l.del=l["delete"]=function(a,b){return l(a).dispatch("delete",[b])},p.prototype.del=p.prototype["delete"]=function(a){return this.dispatch("delete",[a])},l.mapply=l.post=function(a,b,c){return l(a).dispatch("post",[b,c])},p.prototype.mapply=p.prototype.post=function(a,b){return this.dispatch("post",[a,b])},l.send=l.mcall=l.invoke=function(a,b){return l(a).dispatch("post",[b,X(arguments,2)])},p.prototype.send=p.prototype.mcall=p.prototype.invoke=function(a){return this.dispatch("post",[a,X(arguments,1)])},l.fapply=function(a,b){return l(a).dispatch("apply",[void 0,b])},p.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},l["try"]=l.fcall=function(a){return l(a).dispatch("apply",[void 0,X(arguments,1)])},p.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},l.fbind=function(a){var b=l(a),c=X(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(X(arguments))])}},p.prototype.fbind=function(){var a=this,b=X(arguments);return function(){return a.dispatch("apply",[this,b.concat(X(arguments))])}},l.keys=function(a){return l(a).dispatch("keys",[])},p.prototype.keys=function(){return this.dispatch("keys",[])},l.all=K,p.prototype.all=function(){return K(this)},l.allResolved=k(L,"allResolved","allSettled"),p.prototype.allResolved=function(){return L(this)},l.allSettled=M,p.prototype.allSettled=function(){return this.then(function(a){return K($(a,function(a){function b(){return a.inspect()}return a=l(a),a.then(b,b)}))})},l.fail=l["catch"]=function(a,b){return l(a).then(void 0,b)},p.prototype.fail=p.prototype["catch"]=function(a){return this.then(void 0,a)},l.progress=N,p.prototype.progress=function(a){return this.then(void 0,void 0,a)},l.fin=l["finally"]=function(a,b){return l(a)["finally"](b)},p.prototype.fin=p.prototype["finally"]=function(a){return a=l(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},l.done=function(a,b,c,d){return l(a).done(b,c,d)},p.prototype.done=function(a,b,c){var f=function(a){V(function(){if(d(a,g),!l.onerror)throw a;l.onerror(a)})},g=a||b||c?this.then(a,b,c):this;"object"==typeof e&&e&&e.domain&&(f=e.domain.bind(f)),g.then(void 0,f)},l.timeout=function(a,b,c){return l(a).timeout(b,c)},p.prototype.timeout=function(a,b){var c=m(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},l.delay=function(a,b){return void 0===b&&(b=a,a=void 0),l(a).delay(b)},p.prototype.delay=function(a){return this.then(function(b){var c=m();return setTimeout(function(){c.resolve(b)},a),c.promise})},l.nfapply=function(a,b){return l(a).nfapply(b)},p.prototype.nfapply=function(a){var b=m(),c=X(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},l.nfcall=function(a){var b=X(arguments,1);return l(a).nfapply(b)},p.prototype.nfcall=function(){var a=X(arguments),b=m();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},l.nfbind=l.denodeify=function(a){var b=X(arguments,1);return function(){var c=b.concat(X(arguments)),d=m();return c.push(d.makeNodeResolver()),l(a).fapply(c).fail(d.reject),d.promise}},p.prototype.nfbind=p.prototype.denodeify=function(){var a=X(arguments);return a.unshift(this),l.denodeify.apply(void 0,a)},l.nbind=function(a,b){var c=X(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(X(arguments)),f=m();return e.push(f.makeNodeResolver()),l(d).fapply(e).fail(f.reject),f.promise}},p.prototype.nbind=function(){var a=X(arguments,0);return a.unshift(this),l.nbind.apply(void 0,a)},l.nmapply=l.npost=function(a,b,c){return l(a).npost(b,c)},p.prototype.nmapply=p.prototype.npost=function(a,b){var c=X(b||[]),d=m();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},l.nsend=l.nmcall=l.ninvoke=function(a,b){var c=X(arguments,2),d=m();return c.push(d.makeNodeResolver()),l(a).dispatch("post",[b,c]).fail(d.reject),d.promise},p.prototype.nsend=p.prototype.nmcall=p.prototype.ninvoke=function(a){var b=X(arguments,1),c=m();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},l.nodeify=O,p.prototype.nodeify=function(a){return a?void this.then(function(b){V(function(){a(null,b)})},function(b){V(function(){a(b)})}):this};var hb=j();return l})},{__browserify_process:10}],12:[function(a,b){"use strict";var c=a("Subkit");b.exports=c,angular.module("subkit",[]).value("Subkit",c),angular.module("subkit").factory("angularSubkit",function(){return function(a,b,c,e){var f=new d(a);return f.associate(b,c,e)}});var d=function(a){if("string"==typeof a)throw new Error("Please provide a Subkit reference instead of a URL, eg: new Subkit(url)");this._fRef=a};d.prototype={associate:function(a,b,c){a[b]||(a[b]=c);var d=this._fRef.store(b);return d.get().done(function(c){a[b]=c,a.$apply()}),d.on(function(d,e){if(d)return console.log(d);if(c instanceof Array){if("put"===e.type){var f=a[b].map(function(a){return a.key.replace(b+"!","")});e.key=e.key.replace(b+"!","");var g=f.indexOf(e.key);-1!==g?a[b][g]=e:a[b].unshift(e)}if("del"===e.type){var f=a[b].map(function(a){return a.key.replace(b+"!","")}),g=f.indexOf(e.key.replace(b+"!",""));a[b].splice(g,1)}}else c instanceof Object&&(a[b]=e);a.$apply()}),d},disassociate:function(a){this._fRef.off(a)},_log:function(a){console&&console.log&&console.log(a)}}},{Subkit:9}]},{},[12])(12)});