(function(){var e,r,n,t,i,o,a,s,l,u=Object.prototype.hasOwnProperty;t=require("fs"),a=require("path"),l=require("./lexer"),e=l.Lexer,r=l.RESERVED,o=require("./parser").parser,s=require("vm"),require.extensions?require.extensions[".coffee"]=function(e,r){var i;return i=n(t.readFileSync(r,"utf8"),{filename:r}),e._compile(i,r)}:require.registerExtension&&require.registerExtension(".coffee",function(e){return n(e)}),exports.VERSION="1.1.3",exports.RESERVED=r,exports.helpers=require("./helpers"),exports.compile=n=function(e,r){null==r&&(r={});try{return o.parse(i.tokenize(e)).compile(r)}catch(n){throw r.filename&&(n.message="In "+r.filename+", "+n.message),n}},exports.tokens=function(e,r){return i.tokenize(e,r)},exports.nodes=function(e,r){return o.parse("string"==typeof e?i.tokenize(e,r):e)},exports.run=function(e,r){var i;return i=require.main,i.filename=process.argv[1]=r.filename?t.realpathSync(r.filename):".",i.moduleCache&&(i.moduleCache={}),i.paths=require("module")._nodeModulePaths(a.dirname(r.filename)),".coffee"!==a.extname(i.filename)||require.extensions?i._compile(n(e,r),i.filename):i._compile(e,i.filename)},exports.eval=function(e,r){var t,i,o,l,f,c,m,p,x,h,d,q,_,g;if(null==r&&(r={}),e=e.trim()){if(i=s.Script){if(null!=r.sandbox){if(r.sandbox instanceof i.createContext().constructor)m=r.sandbox;else{m=i.createContext(),q=r.sandbox;for(l in q)u.call(q,l)&&(p=q[l],m[l]=p)}m.global=m.root=m.GLOBAL=m}else m=global;if(m.__filename=r.filename||"eval",m.__dirname=a.dirname(m.__filename),m===global&&!m.module&&!m.require){for(t=require("module"),m.module=d=new t(r.modulename||"eval"),m.require=g=function(e){return t._load(e,d,!0)},d.filename=m.__filename,_=Object.getOwnPropertyNames(require),x=0,h=_.length;h>x;x++)c=_[x],"paths"!==c&&(g[c]=require[c]);g.paths=d.paths=t._nodeModulePaths(process.cwd()),g.resolve=function(e){return t._resolveFilename(e,d)}}}f={};for(l in r)u.call(r,l)&&(p=r[l],f[l]=p);return f.bare=!0,o=n(e,f),m===global?s.runInThisContext(o):s.runInContext(o,m)}},i=new e,o.lexer={lex:function(){var e,r;return r=this.tokens[this.pos++]||[""],e=r[0],this.yytext=r[1],this.yylineno=r[2],e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},o.yy=require("./nodes")}).call(this);