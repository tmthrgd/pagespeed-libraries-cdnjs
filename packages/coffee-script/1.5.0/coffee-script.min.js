(function(){var e,r,n,t,i,o,l,a,s,u,f,c,m=[].indexOf||function(e){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===e)return r;return-1},p={}.hasOwnProperty;if(i=require("fs"),s=require("path"),e=require("./lexer").Lexer,a=require("./parser").parser,u=require("vm"),t=[".coffee",".litcoffee"],l=function(e,n){var t,o;return t=i.readFileSync(n,"utf8"),o=65279===t.charCodeAt(0)?t.substring(1):t,e._compile(r(o,{filename:n}),n)},require.extensions)for(f=0,c=t.length;c>f;f++)n=t[f],require.extensions[n]=l;exports.VERSION="1.5.0",exports.helpers=require("./helpers"),exports.compile=r=function(e,r){var n,t,i;null==r&&(r={}),i=exports.helpers.merge;try{if(t=a.parse(o.tokenize(e,r)).compile(r),!r.header)return t}catch(l){throw r.filename&&(l.message="In "+r.filename+", "+l.message),l}return n="Generated by CoffeeScript "+this.VERSION,"// "+n+"\n"+t},exports.tokens=function(e,r){return o.tokenize(e,r)},exports.nodes=function(e,r){return a.parse("string"==typeof e?o.tokenize(e,r):e)},exports.run=function(e,n){var o,l;return null==n&&(n={}),o=require.main,o.filename=process.argv[1]=n.filename?i.realpathSync(n.filename):".",o.moduleCache&&(o.moduleCache={}),o.paths=require("module")._nodeModulePaths(s.dirname(i.realpathSync(n.filename))),l=s.extname(o.filename),m.call(t,l)<0||require.extensions?o._compile(r(e,n),o.filename):o._compile(e,o.filename)},exports.eval=function(e,n){var t,i,o,l,a,f,c,m,h,d,x,y,q,_;if(null==n&&(n={}),e=e.trim()){if(i=u.Script){if(null!=n.sandbox){if(n.sandbox instanceof i.createContext().constructor)c=n.sandbox;else{c=i.createContext(),y=n.sandbox;for(l in y)p.call(y,l)&&(m=y[l],c[l]=m)}c.global=c.root=c.GLOBAL=c}else c=global;if(c.__filename=n.filename||"eval",c.__dirname=s.dirname(c.__filename),c===global&&!c.module&&!c.require){for(t=require("module"),c.module=x=new t(n.modulename||"eval"),c.require=_=function(e){return t._load(e,x,!0)},x.filename=c.__filename,q=Object.getOwnPropertyNames(require),h=0,d=q.length;d>h;h++)f=q[h],"paths"!==f&&(_[f]=require[f]);_.paths=x.paths=t._nodeModulePaths(process.cwd()),_.resolve=function(e){return t._resolveFilename(e,x)}}}a={};for(l in n)p.call(n,l)&&(m=n[l],a[l]=m);return a.bare=!0,o=r(e,a),c===global?u.runInThisContext(o):u.runInContext(o,c)}},o=new e,a.lexer={lex:function(){var e,r;return r=this.tokens[this.pos++],r?(e=r[0],this.yytext=r[1],this.yylloc=r[2],this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},a.yy=require("./nodes")}).call(this);