(function(){var e,r,n,t,o,i,a,l,s,u,c,f,m,p,d,h={}.hasOwnProperty;if(o=require("fs"),u=require("path"),e=require("./lexer").Lexer,s=require("./parser").parser,i=require("./helpers"),f=require("vm"),c=require("./sourcemap"),l=function(e,r){var t,a;return t=o.readFileSync(r,"utf8"),a=65279===t.charCodeAt(0)?t.substring(1):t,e._compile(n(a,{filename:r,literate:i.isLiterate(r)}),r)},require.extensions)for(d=[".coffee",".litcoffee",".md",".coffee.md"],m=0,p=d.length;p>m;m++)t=d[m],require.extensions[t]=l;exports.VERSION="1.6.0",exports.helpers=require("./helpers"),r=function(e){var r;return r=u.extname(e),u.basename(e,r)},exports.compile=n=function(e,n){var t,o,l,f,m,p,d,h,x,g,q,y,_,b;null==n&&(n={}),g=exports.helpers.merge;try{for(n.sourceMap&&(o=u.basename(n.filename),x=r(n.filename)+".js",y=new c.SourceMap),p=s.parse(a.tokenize(e,n)).compileToFragments(n),f=0,l=0,h="",_=0,b=p.length;b>_;_++)m=p[_],y&&(m.locationData&&y.addMapping([m.locationData.first_line,m.locationData.first_column],[f,l],{noReplace:!0}),q=i.count(m.code,"\n"),f+=q,l=m.code.length-(q?m.code.lastIndexOf("\n"):0)),h+=m.code}catch(v){throw n.filename&&(v.message="In "+n.filename+", "+v.message),v}return n.header&&(d="Generated by CoffeeScript "+this.VERSION,h="// "+d+"\n"+h),n.sourceMap||n.returnObject?(t={js:h},y&&(t.sourceMap=y,t.v3SourceMap=c.generateV3SourceMap(y,o,x)),t):h},exports.tokens=function(e,r){return a.tokenize(e,r)},exports.nodes=function(e,r){return s.parse("string"==typeof e?a.tokenize(e,r):e)},exports.run=function(e,r){var t;return null==r&&(r={}),t=require.main,t.filename=process.argv[1]=r.filename?o.realpathSync(r.filename):".",t.moduleCache&&(t.moduleCache={}),t.paths=require("module")._nodeModulePaths(u.dirname(o.realpathSync(r.filename))),!i.isCoffee(t.filename)||require.extensions?t._compile(n(e,r),t.filename):t._compile(e,t.filename)},exports.eval=function(e,r){var t,o,i,a,l,s,c,m,p,d,x,g,q,y;if(null==r&&(r={}),e=e.trim()){if(o=f.Script){if(null!=r.sandbox){if(r.sandbox instanceof o.createContext().constructor)c=r.sandbox;else{c=o.createContext(),g=r.sandbox;for(a in g)h.call(g,a)&&(m=g[a],c[a]=m)}c.global=c.root=c.GLOBAL=c}else c=global;if(c.__filename=r.filename||"eval",c.__dirname=u.dirname(c.__filename),c===global&&!c.module&&!c.require){for(t=require("module"),c.module=x=new t(r.modulename||"eval"),c.require=y=function(e){return t._load(e,x,!0)},x.filename=c.__filename,q=Object.getOwnPropertyNames(require),p=0,d=q.length;d>p;p++)s=q[p],"paths"!==s&&(y[s]=require[s]);y.paths=x.paths=t._nodeModulePaths(process.cwd()),y.resolve=function(e){return t._resolveFilename(e,x)}}}l={};for(a in r)h.call(r,a)&&(m=r[a],l[a]=m);return l.bare=!0,i=n(e,l),c===global?f.runInThisContext(i):f.runInContext(i,c)}},a=new e,s.lexer={lex:function(){var e,r;return r=this.tokens[this.pos++],r?(e=r[0],this.yytext=r[1],this.yylloc=r[2],this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},s.yy=require("./nodes")}).call(this);