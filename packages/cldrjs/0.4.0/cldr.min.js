!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&"object"==typeof module.exports?module.exports=n():e.Cldr=n()}(this,function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(n,t){if(e(n)&&(n=n.join("/")),"string"!=typeof n)throw new Error('invalid path "'+n+'"');return n=n.replace(/^\//,"").replace(/^cldr\//,""),n=n.replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),t[e]}),n.split("/")},t=function(e,n){var t,r;if(e.some)return e.some(n);for(t=0,r=e.length;r>t;t++)if(n(e[t],t,e))return!0;return!1},r=function(e,n,r,a){var i,o,u=r[0],l=r[1],c=e.localeSep,f=r[2];return a=a||{},"und"!==u&&"Zzzz"!==l&&"ZZ"!==f?[u,l,f]:"undefined"!=typeof n.get("supplemental/likelySubtags")?(o=t([[u,l,f],[u,f],[u,l],[u],["und",l]],function(e){return i=!/\b(Zzzz|ZZ)\b/.test(e.join(c))&&n.get(["supplemental/likelySubtags",e.join(c)])}),o?(i=i.split(c),["und"!==u?u:i[0],"Zzzz"!==l?l:i[1],"ZZ"!==f?f:i[2]]):a.force?n.get("supplemental/likelySubtags/und").split(c):void 0):void 0},a=function(e,n,a){var i,o,u=a[0],l=a[1],c=a[2];return o=t([[[u,"Zzzz","ZZ"],[u]],[[u,"Zzzz",c],[u,c]],[[u,l,"ZZ"],[u,l]]],function(t){var o=r(e,n,t[0]);return i=t[1],o&&o[0]===a[0]&&o[1]===a[1]&&o[2]===a[2]}),o?i:a},i=function(e){var n,t,r=[];return e=e.replace(/_/,"-"),n=e.split("-u-"),n[1]&&(n[1]=n[1].split("-t-"),e=n[0]+(n[1][1]?"-t-"+n[1][1]:""),r[4]=n[1][0]),t=e.split("-t-")[0],n=t.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)(-[a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3})*$|^(root)$/),null===n?["und","Zzzz","ZZ"]:(r[0]=n[9]||n[2]||"und",r[1]=n[4]||"Zzzz",r[2]=n[6]||"ZZ",r[3]=n[7],r)},o=function(e,n){var t,r;if(e.forEach)return e.forEach(n);for(t=0,r=e.length;r>t;t++)n(e[t],t,e)},u=function(e,n,t){var u=e._availableBundleMap,l=e._availableBundleMapQueue;return l.length&&(o(l,function(t){var o,c,f,p;p=i(t),c=r(e,n,p,{force:!0})||p,f=a(e,n,c),f=f.join(e.localeSep),o=l[f],o&&o.length<t.length||(u[f]=t)}),e._availableBundleMapQueue=[]),u[t]||null},l=function(e){var n,t=[];if(Object.keys)return Object.keys(e);for(n in e)t.push(n);return t},c=function(e,n){var t,r;return r=e+(n&&JSON?": "+JSON.stringify(n):""),t=new Error(r),t.code=e,o(l(n),function(e){t[e]=n[e]}),t},f=function(e,n,t){if(!n)throw c(e,t)},p=function(e,n){f("E_MISSING_PARAMETER","undefined"!=typeof e,{name:n})},s=function(e,n,t,r){f("E_INVALID_PAR_TYPE",t,{expected:r,name:n,value:e})},d=function(n,t){s(n,t,"string"==typeof n||e(n),"String or Array")},v=function(e){return null!==e&&""+e=="[object Object]"},g=function(e,n){s(e,n,"undefined"==typeof e||v(e),"Plain Object")},h=function(e,n){s(e,n,"string"==typeof e,"a string")},y=function(e,n){var t,r=e,a=n.length;for(t=0;a-1>t;t++)if(r=r[n[t]],!r)return void 0;return r[n[t]]},z=function(e,n){var t,r=e._availableBundleMapQueue,a=y(n,["main"]);if(a)for(t in a)a.hasOwnProperty(t)&&r.push(t)},_=function(n){return e(n)?n:[n]},b=function(){var n=function(){var t={},r=[].slice.call(arguments,0);return o(r,function(r){var a;for(a in r)t[a]=a in t&&e(t[a])?t[a].concat(r[a]):a in t&&"object"==typeof t[a]?n(t[a],r[a]):r[a]}),t};return n}(),Z=function(e,n,t){var r,a,i;for(p(t[0],"json"),r=0;r<t.length;r++)for(i=_(t[r]),a=0;a<i.length;a++)g(i[a],"json"),n=b(n,i[a]),z(e,i[a]);return n},m=function(e,t,r){var a=n(t,r);return y(e._resolved,a)},j=function(e){this.init(e)};return j._alwaysArray=_,j._coreLoad=Z,j._createError=c,j._itemGetResolved=m,j._jsonMerge=b,j._pathNormalize=n,j._resourceGet=y,j._validatePresence=p,j._validateType=s,j._validateTypePath=d,j._validateTypePlainObject=g,j._availableBundleMap={},j._availableBundleMapQueue=[],j._resolved={},j.localeSep="-",j.load=function(){j._resolved=Z(j,j._resolved,arguments)},j.prototype.init=function(e){var n,t,o,l,c,f,s,d,v,g=j.localeSep;p(e,"locale"),h(e,"locale"),f=i(e),d=f[4],v=f[3],o=r(j,this,f,{force:!0})||f,t=o[0],c=o[1],s=o[2],l=a(j,this,o).join(g),this.attributes=n={bundle:u(j,this,l),minlanguageId:l,maxLanguageId:o.join(g),language:t,script:c,territory:s,region:s,variant:v},d&&("-"+d).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,t,r){t?n["u"+t]=r:n["u"+e]=!0}),this.locale=e},j.prototype.get=function(e){return p(e,"path"),d(e,"path"),m(j,e,this.attributes)},j.prototype.main=function(e){return p(e,"path"),d(e,"path"),f("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=_(e),this.get(["main/{bundle}"].concat(e))},j});