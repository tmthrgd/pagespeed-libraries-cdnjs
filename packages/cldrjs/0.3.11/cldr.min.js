!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e():t.Cldr=e()}(this,function(){var t=function(t,e){var n,r;if(t.forEach)return t.forEach(e);for(n=0,r=t.length;r>n;n++)e(t[n],n,t)},e=function(t){var e,n=[];if(Object.keys)return Object.keys(t);for(e in t)n.push(e);return n},n=function(n,r){var i,o;return o=n+(r&&JSON?": "+JSON.stringify(r):""),i=new Error(o),i.code=n,t(e(r),function(t){i[t]=r[t]}),i},r=function(t,e,r){if(!e)throw n(t,r)},i=function(t,e){r("E_MISSING_PARAMETER","undefined"!=typeof t,{name:e})},o=function(t,e,n,i){r("E_INVALID_PAR_TYPE",n,{expected:i,name:e,value:t})},a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t,e){o(t,e,"string"==typeof t||a(t),"String or Array")},l=function(t){return null!==t&&""+t=="[object Object]"},c=function(t,e){o(t,e,"undefined"==typeof t||l(t),"Plain Object")},s=function(t,e){o(t,e,"string"==typeof t,"a string")},f=function(t,e){if(a(t)&&(t=t.join("/")),"string"!=typeof t)throw new Error('invalid path "'+t+'"');return t=t.replace(/^\//,"").replace(/^cldr\//,""),t=t.replace(/{[a-zA-Z]+}/g,function(t){return t=t.replace(/^{([^}]*)}$/,"$1"),e[t]}),t.split("/")},p=function(t,e){var n,r;if(t.some)return t.some(e);for(n=0,r=t.length;r>n;n++)if(e(t[n],n,t))return!0;return!1},d=function(t,e,n,r){var i,o,a=n[0],u=n[1],l=t.localeSep,c=n[2];return r=r||{},"und"!==a&&"Zzzz"!==u&&"ZZ"!==c?[a,u,c]:"undefined"!=typeof e.get("supplemental/likelySubtags")?(o=p([[a,u,c],[a,c],[a,u],[a],["und",u]],function(t){return i=!/\b(Zzzz|ZZ)\b/.test(t.join(l))&&e.get(["supplemental/likelySubtags",t.join(l)])}),o?(i=i.split(l),["und"!==a?a:i[0],"Zzzz"!==u?u:i[1],"ZZ"!==c?c:i[2]]):r.force?e.get("supplemental/likelySubtags/und").split(l):void 0):void 0},g=function(t,e,n){var r,i,o=n[0],a=n[1],u=n[2];return i=p([[[o,"Zzzz","ZZ"],[o]],[[o,"Zzzz",u],[o,u]],[[o,a,"ZZ"],[o,a]]],function(i){var o=d(t,e,i[0]);return r=i[1],o&&o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2]}),i?r:n},z=function(t,e){var n,r=t,i=e.length;for(n=0;i-1>n;n++)if(r=r[e[n]],!r)return void 0;return r[e[n]]},v=function(t,e,n){var r=f(e,n);return z(t._resolved,r)},y=function(t){return a(t)?t:[t]},Z=function(){var e=function(){var n={},r=[].slice.call(arguments,0);return t(r,function(t){var r;for(r in t)n[r]=r in n&&a(n[r])?n[r].concat(t[r]):r in n&&"object"==typeof n[r]?e(n[r],t[r]):t[r]}),n};return e}(),b=function(t){this.init(t)};return b._alwaysArray=y,b._createError=n,b._itemGetResolved=v,b._jsonMerge=Z,b._pathNormalize=f,b._resourceGet=z,b._validatePresence=i,b._validateType=o,b._validateTypePath=u,b._validateTypePlainObject=c,b._resolved={},b.localeSep="-",b.load=function(t){var e,n;for(i(t,"json"),e=0;e<arguments.length;e++)for(t=y(arguments[e]),n=0;n<t.length;n++)c(t[n],"json"),b._resolved=Z(b._resolved,t[n])},b.prototype.init=function(t){var e,n,r,o,a,u,l,c,f,p,z=b.localeSep;switch(i(t,"locale"),s(t,"locale"),t=t.replace(/_/,"-"),n=t.split("-u-"),t=n[0],f=n[1],t=t.split("-t-")[0],c=t,!0){case/^[a-z]{2,3}-[A-Z][a-z]{3}-[A-Z0-9]{2,3}(\b|-)/.test(c):r=c.split("-")[0],u=c.split("-")[1],l=c.split("-")[2],p=c.split("-")[3];break;case/^[a-z]{2,3}-[A-Z][a-z]{3}(\b|-)/.test(c):r=c.split("-")[0],u=c.split("-")[1],l="ZZ",p=c.split("-")[2];break;case/^[a-z]{2,3}-[A-Z0-9]{2,3}(\b|-)/.test(c):r=c.split("-")[0],u="Zzzz",l=c.split("-")[1],p=c.split("-")[2];break;case/^([a-z]{2,3}|root)(\b|-)/.test(c):r=c.split("-")[0],u="Zzzz",l="ZZ",p=c.split("-")[1];break;default:r="und",u="Zzzz",l="ZZ"}a=d(b,this,[r,u,l],{force:!0})||c.split("-"),r=a[0],u=a[1],l=a[2],o=g(b,this,a).join(z),this.attributes=e={languageId:o,maxLanguageId:a.join(z),language:r,script:u,territory:l,region:l,variant:p},f&&("-"+f).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(t,n,r){n?e["u"+n]=r:e["u"+t]=!0}),this.locale=p?[o,p].join(z):o},b.prototype.get=function(t){return i(t,"path"),u(t,"path"),v(b,t,this.attributes)},b.prototype.main=function(t){return i(t,"path"),u(t,"path"),t=y(t),this.get(["main/{languageId}"].concat(t))},b});