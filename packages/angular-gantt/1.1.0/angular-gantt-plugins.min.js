/*
Project: angular-gantt v1.1.0 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: http://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(a,b,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(d,e,f,g){var h=g.gantt.api;if(d.options&&"object"==typeof d.options.bounds)for(var i in d.options.bounds)d[i]=d.options[i];void 0===d.enabled&&(d.enabled=!0),h.directives.on["new"](d,function(a,e,g){if("ganttTask"===a){var h=e.$new();h.pluginScope=d;var i=c[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var j=c[0].createElement("gantt-task-bounds");void 0!==f.templateUrl&&angular.element(j).attr("data-template-url",f.templateUrl),void 0!==f.template&&angular.element(j).attr("data-template",f.template),angular.element(i).append(j),g.append(b(i)(h))}}),h.tasks.on.clean(d,function(b){void 0===b.est||a.isMoment(b.est)||(b.est=a(b.est)),void 0===b.lct||a.isMoment(b.lct)||(b.lct=a(b.lct))})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["ganttMouseOffset","moment",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",taskModelFactory:"=taskFactory"},link:function(c,d,e,f){var g=f.gantt.api;void 0===c.enabled&&(c.enabled=!0),g.directives.on["new"](c,function(d,e,f){if("ganttRow"===d){var h=function(d){var f=d.target?d.target:d.srcElement,h=angular.isFunction(c.enabled)?c.enabled(d):c.enabled;if(h&&f.className.indexOf("gantt-row")>-1){var i=g.core.getDateByPosition(a.getOffset(d).x),j=b(i),k=c.taskModelFactory();k.from=i,k.to=j;var l=e.row.addTask(k);l.isResizing=!0,l.updatePosAndSize(),e.row.updateVisibleTasks(),e.row.$scope.$digest()}};f.on("mousedown",h),e.drawTaskHandler=h}}),g.directives.on.destroy(c,function(a,b,c){"ganttRow"===a&&(c.off("mousedown",b.drawTaskHandler),delete b.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(a,b,c,d){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(a,e,f,g){function h(){a.hierarchy.refresh(g.gantt.rowsManager.filteredRows)}var i=g.gantt.api;if(a.options&&"object"==typeof a.options.sortable)for(var j in a.options.sortable)a[j]=a.options[j];void 0===a.enabled&&(a.enabled=!0),void 0===a.display&&(a.display="group"),a.hierarchy=new b,g.gantt.api.registerMethod("groups","refresh",h,this),g.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){h()}),i.directives.on["new"](a,function(b,e,g){if("ganttRow"===b){var h=e.$new();h.pluginScope=a;var i=d[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var j=d[0].createElement("gantt-task-group");void 0!==f.templateUrl&&angular.element(j).attr("data-template-url",f.templateUrl),void 0!==f.template&&angular.element(j).attr("data-template",f.template),angular.element(i).append(j),g.append(c(i)(h))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(a,b,c,d){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(a,e,f,g){function h(){var a=g.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),b=0;angular.forEach(a,function(a){var c=a.children[0].offsetWidth;b=Math.max(b,c)}),b>=0&&i.side.setWidth(b)}var i=g.gantt.api;if(d.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),a.options&&"object"==typeof a.options.sortable)for(var j in a.options.sortable)a[j]=a.options[j];void 0===a.enabled&&(a.enabled=!0),void 0===a.header&&(a.header="Name"),i.directives.on["new"](a,function(d,e,f){if("ganttSideContent"===d){var g=e.$new();g.pluginScope=a;var h=c[0].createElement("div");angular.element(h).attr("data-ng-if","pluginScope.enabled"),angular.element(h).addClass("side-element");var i=c[0].createElement("gantt-side-content-labels");angular.element(h).append(i),f.append(b(h)(g))}}),i.registerMethod("labels","fitSideWidth",h,this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","$window","$document","$timeout",function(a,b,c,d,e,f,g,h){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(i,j,k,l){var m=l.gantt.api;if(i.options&&"object"==typeof i.options.movable)for(var n in i.options.movable)i[n]=i.options[n];d.initialize(i),m.registerEvent("tasks","move"),m.registerEvent("tasks","moveBegin"),m.registerEvent("tasks","moveEnd"),m.registerEvent("tasks","resize"),m.registerEvent("tasks","resizeBegin"),m.registerEvent("tasks","resizeEnd"),m.registerEvent("tasks","change");var o,p,q="ontouchstart"in f||f.DocumentTouch&&g[0]instanceof f.DocumentTouch,r="touchstart mousedown",s="touchmove mousemove",t="touchend mouseup",u=15,v=5,w=3,x=15,y=5;m.directives.on["new"](i,function(d,j,k){if("ganttTask"===d){var m,n=angular.element(f),z=j.row.rowsManager.gantt.body.$element,A=j.row.rowsManager.gantt.scroll.$element,B=!1,C=j.task.getForegroundElement();C.on(r,function(c){c.preventDefault(),q&&(c=b.getTouch(c));var d=j.task.model.movable,f=j.task.row.model.movable;"boolean"==typeof d&&(d={enabled:d}),"boolean"==typeof f&&(f={enabled:f});var g=e.firstProperty([d,f],"enabled",i.enabled),h=angular.isFunction(g)?g(c):g;if(h){var k=b.getOffset(c).x,l=H(k);if(""!==l&&1===a.getButton(c)){var m=b.getOffsetForElement(z[0],c).x;K(l,m)}j.$digest()}}),C.on("mousemove",function(a){var c=j.task.model.movable,d=j.task.row.model.movable;"boolean"==typeof c&&(c={enabled:c}),"boolean"==typeof d&&(d={enabled:d});var f=e.firstProperty([c,d],"enabled",i.enabled),g=angular.isFunction(f)?f(a):f;if(g&&!j.task.isMoving){var h=b.getOffset(a).x,k=H(h);""!==k&&"M"!==k?C.css("cursor",I(k)):C.css("cursor","")}});var D=function(a){j.task.isMoving&&!j.destroyed&&(G(),E(a),F(a))},E=function(a){var c=B,d=b.getOffsetForElement(z[0],a),f=d.x;j.task.mouseOffsetX=f;var g=j.task.row.rowsManager.gantt.options.value("taskOutOfRange"),h=j.task.model.movable,k=j.task.row.model.movable;if("boolean"==typeof h&&(h={enabled:h}),"boolean"==typeof k&&(k={enabled:k}),"M"===j.task.moveMode){var m=e.firstProperty([h,k],"allowRowSwitching",i.allowRowSwitching);if(m){for(var n,p=A[0].getBoundingClientRect(),q=p.left+p.width/2,r=e.findElementFromPoint(q,a.clientY,function(a){return angular.element(a).hasClass("gantt-row")}),s=l.gantt.rowsManager.rows,t=0,u=s.length;u>t;t++)if(r===s[t].$element[0]){n=s[t];break}var v=j.task.row;void 0!==n&&v!==n&&(n.moveTaskToRow(j.task,!0),v.$scope.$digest(),n.$scope.$digest(),B=!0)}var w=e.firstProperty([h,k],"allowMoving",i.allowMoving);w&&(f-=o,"truncate"!==g&&(0>f?f=0:f+j.task.width>=j.gantt.width&&(f=j.gantt.width-j.task.width)),j.task.moveTo(f,!0),j.$digest(),j.row.rowsManager.gantt.api.tasks.raise.move(j.task),B=!0)}else"E"===j.task.moveMode?(f<=j.task.left&&(f=j.task.left,j.task.moveMode="W",J(I(j.task.moveMode))),"truncate"!==g&&f>=j.gantt.width&&(f=j.gantt.width),j.task.setTo(f,!0),j.$digest(),j.row.rowsManager.gantt.api.tasks.raise.resize(j.task),B=!0):(f>j.task.left+j.task.width&&(f=j.task.left+j.task.width,j.task.moveMode="E",J(I(j.task.moveMode))),"truncate"!==g&&0>f&&(f=0),j.task.setFrom(f,!0),j.$digest(),j.row.rowsManager.gantt.api.tasks.raise.resize(j.task),B=!0);if(!c&&B){var x=j.task.getBackgroundElement();"M"===j.task.moveMode?(x.addClass("gantt-task-moving"),j.row.rowsManager.gantt.api.tasks.raise.moveBegin(j.task)):(x.addClass("gantt-task-resizing"),j.row.rowsManager.gantt.api.tasks.raise.resizeBegin(j.task))}},F=function(a){var c=b.getOffsetForElement(z[0],a),d=A[0].scrollLeft,e=A[0].offsetWidth,f=A[0].scrollWidth,g=d+e,i=!1;c.x<p?d>0&&c.x<=d+y&&(c.x-=x,i=!0,j.row.rowsManager.gantt.api.scroll.left(x)):f>g&&c.x>=g-y&&(c.x+=x,i=!0,j.row.rowsManager.gantt.api.scroll.right(x)),i&&(m=h(function(){D(a)},100,!0))},G=function(){void 0!==m&&(h.cancel(m),m=void 0)},H=function(a){var b=0,c=j.task.model.movable,d=j.task.row.model.movable;"boolean"==typeof c&&(c={enabled:c}),"boolean"==typeof d&&(d={enabled:d});var f=e.firstProperty([c,d],"allowResizing",i.allowResizing),g=e.firstProperty([c,d],"allowRowSwitching",i.allowRowSwitching),h=e.firstProperty([c,d],"allowMoving",i.allowMoving);return f&&(b=C[0].offsetWidth<u?w:v),f&&a>C[0].offsetWidth-b?"E":f&&b>a?"W":(h||g)&&a>=b&&a<=C[0].offsetWidth-b?"M":""},I=function(a){switch(a){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},J=function(a){k.css("cursor",a),angular.element(g[0].body).css({"-moz-user-select":""===a?"":"-moz-none","-webkit-user-select":""===a?"":"none","-ms-user-select":""===a?"":"none","user-select":""===a?"":"none",cursor:a})},K=function(a,d){void 0===j.task.originalModel&&(j.task.originalRow=j.task.row,j.task.originalModel=j.task.model,j.task.model=angular.copy(j.task.originalModel)),j.task.isMoving||j.task.isResizing||(p=d,o=d-j.task.modelLeft),B=!1,j.task.moveMode=a,j.task.isMoving=!0,j.task.active=!0;var e=function(a){a.stopImmediatePropagation(),q&&(a=b.getTouch(a)),D(a)},f=c(j,n,s,e);f.bind(),c(j,n,t,function(a){q&&(a=b.getTouch(a)),f.unbind(),L(a),j.$digest()}).bindOnce(),J(I(a))},L=function(){var a=j.task.getBackgroundElement();if(a.removeClass("gantt-task-moving"),a.removeClass("gantt-task-resizing"),void 0!==j.task.originalModel){if(angular.extend(j.task.originalModel,j.task.model),j.task.model=j.task.originalModel,j.task.row.model.id!==j.task.originalRow.model.id){var b=j.task.row;b.removeTask(j.task.model.id,!1,!0),j.task.row=j.task.originalRow,b.moveTaskToRow(j.task,!1)}delete j.task.originalModel,delete j.task.originalRow,j.$apply()}j.task.isMoving=!1,j.task.active=!1,G(),J(""),B===!0&&("M"===j.task.moveMode?j.row.rowsManager.gantt.api.tasks.raise.moveEnd(j.task):j.row.rowsManager.gantt.api.tasks.raise.resizeEnd(j.task),B=!1,j.task.row.sortTasks(),j.row.rowsManager.gantt.api.tasks.raise.change(j.task)),j.task.moveMode=void 0};j.$on("$destroy",function(){j.destroyed=!0,G()}),j.task.isResizing?(K("E",j.task.mouseOffsetX),delete j.task.isResizing):j.task.isMoving&&K("M",j.task.mouseOffsetX)}})}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(a,b,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(d,e,f,g){var h=g.gantt.api;if(d.options&&"object"==typeof d.options.progress)for(var i in d.options.progress)d[i]=d.options[i];void 0===d.enabled&&(d.enabled=!0),h.directives.on["new"](d,function(a,e,g){if("ganttTaskBackground"===a){var h=e.$new();h.pluginScope=d;var i=c[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var j=c[0].createElement("gantt-task-progress");void 0!==f.templateUrl&&angular.element(j).attr("data-template-url",f.templateUrl),void 0!==f.template&&angular.element(j).attr("data-template",f.template),angular.element(i).append(j),g.append(b(i)(h))}}),h.tasks.on.clean(d,function(b){void 0===b.est||a.isMoment(b.est)||(b.est=a(b.est)),void 0===b.lct||a.isMoment(b.lct)||(b.lct=a(b.lct))})}}}])}(),function(){"use strict";for(var a,b="gantt.sortable",c="ganttSortable",d=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],e=[],f=[],g=0,h=d.length;h>g;g++){var i=d[g];try{angular.isString(i)&&(i={module:i},d[g]=i),angular.module(i.module),f.push(i.module)}catch(j){i.exception=j,e.push(i)}}e.length>0?angular.module(b,[]).directive(c,["$log",function(d){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){d.warn(b+" module can't require some dependencies:");for(var f=0,g=e.length;g>f;f++){a=e[f];var h=a.module;a.url&&(h+=" ("+a.url+")"),a.exception&&a.exception.message&&(h+=": "+a.exception.message),d.warn(h)}d.warn(c+" plugin directive won't be available")}}}]):angular.module(b,f).directive(c,["ganttUtils","$compile",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.sortable)for(var h in c.options.sortable)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0),g.directives.on["new"](c,function(d,e,f){"ganttRowLabel"===d&&void 0===f.attr("drag")&&(e.checkDraggable=function(){var b=e.row.model.sortable;return"boolean"==typeof b&&(b={enabled:b}),a.firstProperty([b],"enabled",c.enabled)},e.onDropSuccess=function(){e.$evalAsync()},e.onDrop=function(a,b){var c=e.row.rowsManager.rowsMap[b.id];c!==e&&(e.row.rowsManager.moveRow(c,e.row),e.$evalAsync())},f.attr("ui-draggable","{{checkDraggable()}}"),f.attr("drag-channel","'sortable'"),f.attr("ui-on-drop","onDrop($event, $data)"),f.attr("on-drop-success","onDropSuccess()"),f.attr("drop-channel","'sortable'"),f.attr("drag","row.model"),b(f)(e))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(a,b,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=",headers:"=?",formatters:"=?",headerFormatter:"=?"},link:function(a,d,e,f){var g=f.gantt.api;if(a.options&&"object"==typeof a.options.sortable)for(var h in a.options.sortable)a[h]=a.options[h];void 0===a.enabled&&(a.enabled=!0),void 0===a.columns&&(a.columns=["model.name"]),void 0===a.headers&&(a.headers={"model.name":"Name"}),void 0===a.formatters&&(a.formatters={}),g.directives.on["new"](a,function(d,e,f){if("ganttSideContent"===d){var g=e.$new();g.pluginScope=a;var h=c[0].createElement("div");angular.element(h).attr("data-ng-if","pluginScope.enabled"),angular.element(h).addClass("side-element");var i=c[0].createElement("gantt-side-content-table");angular.element(h).append(i),f.append(b(h)(g))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.tooltips)for(var h in c.options.tooltips)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0),void 0===c.dateFormat&&(c.dateFormat="MMM DD, HH:mm"),c.api=g,g.directives.on["new"](c,function(d,f,g){if("ganttTask"===d){var h=f.$new();h.pluginScope=c;var i=b[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var j=b[0].createElement("gantt-tooltip");void 0!==e.templateUrl&&angular.element(j).attr("data-template-url",e.templateUrl),void 0!==e.template&&angular.element(j).attr("data-template",e.template),angular.element(i).append(j),g.append(a(i)(h))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(a,b,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(a,d,e,f){var g=f.gantt.api;if(a.options&&"object"==typeof a.options.sortable)for(var h in a.options.sortable)a[h]=a.options[h];void 0===a.enabled&&(a.enabled=!0),void 0===a.header&&(a.header="Name"),g.directives.on["new"](a,function(d,e,f){if("ganttSideContent"===d){var g=e.$new();g.pluginScope=a;var h=c[0].createElement("div");angular.element(h).attr("data-ng-if","pluginScope.enabled"),angular.element(h).addClass("side-element");var i=c[0].createElement("gantt-side-content-tree");angular.element(h).append(i),f.append(b(h)(g))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(a,b){return{restrict:"E",templateUrl:function(b,c){var d;return d=void 0===c.templateUrl?"plugins/bounds/taskBounds.tmpl.html":c.templateUrl,c.template&&a.put(d,c.template),d},replace:!0,scope:!0,controller:["$scope","$element",function(a,c){c.toggleClass("ng-hide",!0),a.simplifyMoment=function(a){return b.isMoment(a)?a.unix():a},a.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var b=a.task.rowsManager.gantt.getPositionByDate(a.task.model.est),d=a.task.rowsManager.gantt.getPositionByDate(a.task.model.lct);c.css("left",b-a.task.left+"px"),c.css("width",d-b+"px"),c.toggleClass("gantt-task-bounds-in",!1),c.toggleClass("gantt-task-bounds-out",!1),void 0===a.task.model.est||void 0===a.task.model.lct?c.toggleClass("gantt-task-bounds-in",!0):a.task.model.est>a.task.model.from?c.toggleClass("gantt-task-bounds-out",!0):a.task.model.lct<a.task.model.to?c.toggleClass("gantt-task-bounds-out",!0):c.toggleClass("gantt-task-bounds-in",!0)}),a.task.$element.bind("mouseenter",function(){c.toggleClass("ng-hide",!1)}),a.task.$element.bind("mouseleave",function(){c.toggleClass("ng-hide",!0)}),a.task.rowsManager.gantt.api.directives.raise["new"]("ganttBounds",a,c),a.$on("$destroy",function(){a.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",a,c)})}]}}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(a,b,c){var d=function(){var d=a.row.model.groups;"boolean"==typeof d&&(d={enabled:d});var e=c.firstProperty([d],"enabled",a.pluginScope.enabled);e?(a.display=c.firstProperty([d],"display",a.pluginScope.display),a.taskGroup=new b(a.row,a.pluginScope),a.row.setFromTo(),a.row.setFromToByValues(a.taskGroup.from,a.taskGroup.to)):(a.taskGroup=void 0,a.display=void 0)};a.gantt.api.tasks.on.change(a,function(b){if(void 0!==a.taskGroup)if(a.taskGroup.tasks.indexOf(b)>-1)a.$apply(function(){d()});else{var c=a.pluginScope.hierarchy.descendants(a.row);c.indexOf(b.row)>-1&&a.$apply(function(){d()})}}),a.pluginScope.$watch("display",function(){d()}),a.$watchCollection("gantt.rowsManager.filteredRows",function(){d()}),a.gantt.api.columns.on.refresh(a,function(){d()})}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(a){var b=new a("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html");return b.build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(a,b){var c=function(c,d){var e=this;e.row=c,e.pluginScope=d,e.descendants=e.pluginScope.hierarchy.descendants(e.row),e.tasks=[],e.overviewTasks=[],e.groupedTasks=[];var f=e.row.model.groups;"boolean"==typeof f&&(f={enabled:f});var g=function(b){var c=b.model.groups;"boolean"==typeof c&&(c={enabled:c});var d=b.row.model.groups;"boolean"==typeof d&&(d={enabled:d});var g=a.firstProperty([c,d,f],"enabled",e.pluginScope.enabled);if(g){var h=a.firstProperty([c,d,f],"display",e.pluginScope.display);return h}};angular.forEach(e.descendants,function(a){angular.forEach(a.tasks,function(a){void 0!==g(a)&&e.tasks.push(a)}),angular.forEach(a.visibleTasks,function(a){var c=g(a);if(void 0!==c){var d=new b(e.row,a.model);"overview"===c?(e.overviewTasks.push(d),d.updatePosAndSize()):e.groupedTasks.push(d)}})}),e.from=void 0,angular.forEach(e.tasks,function(a){(void 0===e.from||a.model.from<e.from)&&(e.from=a.model.from)}),e.to=void 0,angular.forEach(e.tasks,function(a){(void 0===e.to||a.model.to>e.to)&&(e.to=a.model.to)}),e.left=c.rowsManager.gantt.getPositionByDate(e.from),e.width=c.rowsManager.gantt.getPositionByDate(e.to)-e.left};return c}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder","moment",function(a,b){var c=new a("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return c.controller=function(a,c){a.task.$element=c,a.task.$scope=a,a.simplifyMoment=function(a){return b.isMoment(a)?a.unix():a},a.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){a.task.updatePosAndSize()})},c.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(a,b){var c=new a("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return c.controller=function(a){var c=b.getScrollBarHeight();a.getLabelsCss=function(){var b={};if(a.maxHeight){var d=a.gantt.scroll.isHScrollbarVisible()?c:0;b["max-height"]=a.maxHeight-d-a.gantt.header.getHeight()+"px"}return b}},c.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(a){var b=new a("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html");return b.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(a){var b=new a("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html");return b.build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(a){return a.enabled=void 0!==a.enabled?!!a.enabled:!0,a.allowMoving=void 0!==a.allowMoving?!!a.allowMoving:!0,a.allowResizing=void 0!==a.allowResizing?!!a.allowResizing:!0,a.allowRowSwitching=void 0!==a.allowRowSwitching?!!a.allowRowSwitching:!0,a}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(a){return{restrict:"E",requires:"^ganttTask",templateUrl:function(b,c){var d;return d=void 0===c.templateUrl?"plugins/progress/taskProgress.tmpl.html":c.templateUrl,void 0!==c.template&&a.put(d,c.template),d},replace:!0,scope:!0,controller:["$scope","$element",function(a,b){a.getClasses=function(){var b=[];return"object"==typeof a.task.model.progress&&(b=a.task.model.progress.classes),b},a.getCss=function(){var b,c={};return void 0!==a.task.model.progress&&(b="object"==typeof a.task.model.progress?a.task.model.progress:{percent:a.task.model.progress}),b&&(c["background-color"]=b.color?b.color:"#6BC443",c.width=b.percent+"%"),c},a.task.rowsManager.gantt.api.directives.raise["new"]("ganttTaskProgress",a,b),a.$on("$destroy",function(){a.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",a,b)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(a,b){var c=new a("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return c.controller=function(a){var c=b.getScrollBarHeight();a.getMaxHeightCss=function(){var b={};if(a.maxHeight){var d=a.gantt.scroll.isHScrollbarVisible()?c:0;b["max-height"]=a.maxHeight-d-a.gantt.header.getHeight()+"px"}return b}},c.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableController",["$scope",function(a){a.getValue=function(b,c){var d=b.$eval("row."+c),e=a.pluginScope.formatters[c];return void 0!==e&&(d=e(d,c,b.row)),d},a.getHeader=function(b,c){var d=a.pluginScope.headers[c];if(void 0!==d)return d;var e;return void 0!==a.pluginScope.headerFormatter&&(d=e(c)),void 0!==d?d:d}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:function(a,b){var c;return c=void 0===b.templateUrl?"plugins/tooltips/tooltip.tmpl.html":b.templateUrl,void 0!==b.template&&d.put(c,b.template),c},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(b,d,g){var h,i,j=angular.element(c[0].body),k=b.task.$element,l=!1;b.getFromLabel=function(){var a=b.task.model.tooltips,c=b.task.row.model.tooltips;"boolean"==typeof a&&(a={enabled:a}),"boolean"==typeof c&&(c={enabled:c});var d=g.firstProperty([a,c],"dateFormat",b.pluginScope.dateFormat);return b.task.model.from.format(d)},b.getToLabel=function(){var a=b.task.model.tooltips,c=b.task.row.model.tooltips;"boolean"==typeof a&&(a={enabled:a}),"boolean"==typeof c&&(c={enabled:c});var d=g.firstProperty([a,c],"dateFormat",b.pluginScope.dateFormat);return b.task.model.to.format(d)};var m=f(b,j,"mousemove",e(function(a){l?q(a.clientX):(i=a.clientX,n(!0,!1))},5,!1));b.task.getForegroundElement().bind("mousemove",function(a){i=a.clientX}),b.task.getForegroundElement().bind("mouseenter",function(a){i=a.clientX,n(!0,!0)}),b.task.getForegroundElement().bind("mouseleave",function(){n(!1)}),b.pluginScope.api.tasks.on.moveBegin&&(b.pluginScope.api.tasks.on.moveBegin(b,function(a){a===b.task&&n(!0)}),b.pluginScope.api.tasks.on.moveEnd(b,function(a){a===b.task&&n(!1)}),b.pluginScope.api.tasks.on.resizeBegin(b,function(a){a===b.task&&n(!0)}),b.pluginScope.api.tasks.on.resizeEnd(b,function(a){a===b.task&&n(!1)}));var n=function(c,d){h&&a.cancel(h);var e=b.task.model.tooltips,f=b.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof f&&(f={enabled:f});var j=g.firstProperty([e,f],"enabled",b.pluginScope.enabled);j&&!l&&c?d?h=a(function(){o(i)},500,!1):o(i):c||b.task.active||r()},o=function(a){l=!0,m.bind(),b.displayed=!0,b.$evalAsync(function(){var c;d.hasClass("ng-hide")&&(d.removeClass("ng-hide"),c=!0),b.elementHeight=d[0].offsetHeight,c&&d.addClass("ng-hide"),b.taskRect=k[0].getBoundingClientRect(),q(a)})},p=function(){var a=c[0];return a.documentElement.clientWidth||a.documentElement.getElementById("body")[0].clientWidth},q=function(a){a+d[0].offsetWidth>p()?(d.css("left",a+20-d[0].offsetWidth+"px"),b.isRightAligned=!0):(d.css("left",a-20+"px"),b.isRightAligned=!1)},r=function(){l=!1,m.unbind(),b.$evalAsync(function(){b.displayed=!1})};b.task.isMoving&&n(!0,!1),b.gantt.api.directives.raise["new"]("ganttTooltip",b,d),b.$on("$destroy",function(){b.gantt.api.directives.raise.destroy("ganttTooltip",b,d)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(a){var b=new a("ganttRowTreeLabel");return b.restrict="A",b.templateUrl=void 0,b.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(a){var b=new a("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html");return b.build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","GanttHierarchy",function(a,b){a.rootRows=[];var c=new b,d=function(b){for(var c=a.parent(b);void 0!==c;){if(void 0!==c&&c._collapsed)return!1;c=a.parent(c)}return!0},e=function(a){return a.filter(function(a){return d(a)})},f=function(b){var c=[],d=[],e=!1;angular.forEach(b,function(b){var c=a.parent(b);void 0===c?d.push(b):e=!0});var f=function(d){c.push(d);var e=a.children(d);if(void 0!==e&&e.length>0){var g=e.sort(function(a,c){return b.indexOf(a)-b.indexOf(c)});angular.forEach(g,function(a){f(a)})}};return angular.forEach(d,function(a){f(a)}),c};a.gantt.api.rows.addRowSorter(f),a.gantt.api.rows.addRowFilter(e),a.$on("$destroy",function(){a.gantt.api.rows.removeRowSorter(f),a.gantt.api.rows.removeRowFilter(e)});var g=function(){a.rootRows=c.refresh(a.gantt.rowsManager.filteredRows),a.gantt.rowsManager.filteredRows.length>0&&(a.gantt.api.rows.sort(),a.gantt.api.rows.refresh())};a.gantt.api.registerMethod("tree","refresh",g,this),a.$watchCollection("gantt.rowsManager.filteredRows",function(){g()}),a.children=function(b){return void 0===b?a.rootRows:c.children(b)},a.parent=function(a){return c.parent(a)}}]).controller("GanttTreeChildrenController",["$scope",function(a){a.$watch("children(row)",function(b){a.$parent.childrenRows=b}),a.$watch("collapsed",function(b){a.row._collapsed=b,a.gantt.api.rows.refresh()})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(a,b){var c=new a("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return c.controller=function(a){var c=b.getScrollBarHeight();a.getLabelsCss=function(){var b={};if(a.maxHeight){var d=a.gantt.scroll.isHScrollbarVisible()?c:0;b["max-height"]=a.maxHeight-d-a.gantt.header.getHeight()+"px"}return b}},c.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(a){var b=new a("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html");return b.build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(a){a.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(a){a.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-show="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group"\n         ng-show="taskGroup.groupedTasks.length > 0"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),a.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(a){a.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span>{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),a.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(a){a.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(a){a.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table" ng-controller="TableController">\n\n    <div class="gantt-table-column" ng-repeat="column in pluginScope.columns">\n\n        <div class="gantt-table-header">\n            <div class="gantt-table-row" ng-repeat="header in gantt.columnsManager.headers">\n                <div class="gantt-row-height gantt-row-label gantt-table-header-row" ng-class="{\'gantt-table-header-row-last\': $last}">\n                    <span>{{$last ? getHeader(this, column) : ""}}</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span>{{getValue(this, column)}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')
}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(a){a.put("plugins/tooltips/tooltip.tmpl.html","<div ng-cloak\n     class=\"gantt-task-info\"\n     ng-show=\"displayed\"\n     ng-class=\"isRightAligned ? 'gantt-task-infoArrowR' : 'gantt-task-infoArrow'\"\n     ng-style=\"{top: taskRect.top + 'px', marginTop: -elementHeight - 8 + 'px'}\">\n    <div class=\"gantt-task-info-content\">\n        {{task.model.name}}</br>\n        <small>\n            {{task.isMilestone() === true && (getFromLabel()) || (getFromLabel() + ' - ' + getToLabel())}}\n        </small>\n    </div>\n</div>\n")}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(a){a.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),a.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver ng-controller="GanttTreeController">\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows track by row.model.id" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),a.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ui-tree-handle\n     ng-controller="GanttTreeChildrenController"\n     class="gantt-row-label gantt-row-height" ,\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="!childrenRows || childrenRows.length === 0" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="toggle(this)"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span class="gantt-tree-text">{{row.model.name}}</span>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows track by row.model.id" ui-tree-node\n        ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n    </li>\n</ol>\n'),a.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height gantt-row-label gantt-tree-header-row" ng-class="{\'gantt-tree-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=angular-gantt-plugins.min.js.map