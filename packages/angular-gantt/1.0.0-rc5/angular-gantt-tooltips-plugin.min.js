/*
Project: angular-gantt v1.0.0-rc4 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: http://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.tooltips)for(var h in c.options.tooltips)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0),void 0===c.dateFormat&&(c.dateFormat="MMM DD, HH:mm"),c.api=g,g.directives.on.new(c,function(d,f,g){if("ganttTask"===d){var h=f.$new();h.pluginScope=c;var i=b[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var j=b[0].createElement("gantt-tooltip");void 0!==e.templateUrl&&angular.element(j).attr("data-template-url",e.templateUrl),void 0!==e.template&&angular.element(j).attr("data-template",e.template),angular.element(i).append(j),g.append(a(i)(h))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:function(a,b){var c;return c=void 0===b.templateUrl?"plugins/tooltips/tooltip.tmpl.html":b.templateUrl,void 0!==b.template&&d.put(c,b.template),c},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(b,d,g){var h,i,j=angular.element(c[0].body),k=b.task.$element;d.toggleClass("ng-hide",!0),b.getFromLabel=function(){var a=g.firstProperty([b.task.model.tooltips,b.task.row.model.tooltips],"dateFormat",b.pluginScope.dateFormat);return b.task.model.from.format(a)},b.getToLabel=function(){var a=g.firstProperty([b.task.model.tooltips,b.task.row.model.tooltips],"dateFormat",b.pluginScope.dateFormat);return b.task.model.to.format(a)};var l=function(c){h&&a.cancel(h);var d=g.firstProperty([b.task.model.tooltips,b.task.row.model.tooltips],"enabled",b.pluginScope.enabled);d&&c===!0?h=a(function(){o(i)},500,!0):b.task.active||q()};if(b.task.$element.bind("mousemove",function(a){i=a.clientX}),b.task.$element.bind("mouseenter",function(a){b.mouseEnterX=a.clientX,l(!0),b.$digest()}),b.task.$element.bind("mouseleave",function(){b.mouseEnterX=void 0,l(!1),b.$digest()}),b.pluginScope.api.tasks.on.moveBegin){var m=f(b,j,"mousemove",e(function(a){p(a.clientX)},5,!1));b.pluginScope.api.tasks.on.moveBegin(b,function(a){a===b.task&&m.bind()}),b.pluginScope.api.tasks.on.moveEnd(b,function(a){a===b.task&&m.unbind()}),b.pluginScope.api.tasks.on.resizeBegin(b,function(a){a===b.task&&m.bind()}),b.pluginScope.api.tasks.on.resizeEnd(b,function(a){a===b.task&&m.unbind()})}var n=function(){var a=c[0];return a.documentElement.clientWidth||a.documentElement.getElementById("body")[0].clientWidth},o=function(b){d.toggleClass("ng-hide",!1),a(function(){p(b),d.css("top",k[0].getBoundingClientRect().top+"px"),d.css("marginTop",-d[0].offsetHeight-8+"px"),d.css("opacity",1)},0,!0)},p=function(a){a+d[0].offsetWidth>n()?(d.css("left",a+20-d[0].offsetWidth+"px"),d.addClass("gantt-task-infoArrowR"),d.removeClass("gantt-task-infoArrow")):(d.css("left",a-20+"px"),d.addClass("gantt-task-infoArrow"),d.removeClass("gantt-task-infoArrowR"))},q=function(){d.css("opacity",0),d.toggleClass("ng-hide",!0)};b.gantt.api.directives.raise.new("ganttTooltip",b,d),b.$on("$destroy",function(){b.gantt.api.directives.raise.destroy("ganttTooltip",b,d)})}]}}])}();
//# sourceMappingURL=angular-gantt-tooltips-plugin.min.js.map