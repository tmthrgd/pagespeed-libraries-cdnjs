!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile",function(t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(e,s,o,a){var i=a.gantt.api;if(e.options&&"object"==typeof e.options.bounds)for(var d in e.options.bounds)e[d]=e.options[d];void 0===e.enabled&&(e.enabled=!0);var u=[];e.$watch("enabled",function(t){angular.forEach(u,function(n){n.enabled=t})}),i.directives.on.new(e,function(t,s,o){if("ganttTask"===t){var a=s.$new();u.push(u),a.enabled=e.enabled,o.append(n("<gantt-task-bounds></gantt-bounds>")(a)),a.$on("$destroy",function(){var t=u.indexOf(a);t>-1&&u.splice(t,1)})}}),i.tasks.on.clean(e,function(n){void 0===n.est||t.isMoment(n.est)||(n.est=t(n.est)),void 0===n.lct||t.isMoment(n.lct)||(n.lct=t(n.lct))})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",[function(){return{restrict:"E",templateUrl:function(t,n){return void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl},replace:!0,scope:!0,controller:["$scope","$element",function(t,n){var e={};t.$watchGroup(["task.model.est","task.model.lct","task.left","task.width"],function(){void 0!==t.task.model.est&&void 0!==t.task.model.lct?(t.bounds={},t.bounds.left=t.task.rowsManager.gantt.getPositionByDate(t.task.model.est),t.bounds.width=t.task.rowsManager.gantt.getPositionByDate(t.task.model.lct)-t.bounds.left):t.bounds=void 0}),t.task.$element.bind("mouseenter",function(){t.isTaskMouseOver=!0,t.$digest()}),t.task.$element.bind("mouseleave",function(){t.isTaskMouseOver=!1,t.$digest()}),t.getCss=function(){return void 0!==t.bounds&&(e.width=t.bounds.width+"px",e.left=t.task.isMilestone()===!0||0===t.task.width?t.bounds.left-(t.task.left-.3)+"px":t.bounds.left-t.task.left+"px"),e},t.getClass=function(){return void 0===t.task.model.est||void 0===t.task.model.lct?"gantt-task-bounds-in":t.task.model.est>t.task.model.from?"gantt-task-bounds-out":t.task.model.lct<t.task.model.to?"gantt-task-bounds-out":"gantt-task-bounds-in"},t.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",t,n),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",t,n)})}]}}])}();