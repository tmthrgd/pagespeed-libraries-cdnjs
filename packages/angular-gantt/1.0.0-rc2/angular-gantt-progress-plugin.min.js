!function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(t,e,r){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",templateUrl:"=?",template:"="},link:function(s,a,o,n){var l=n.gantt.api;if(s.options&&"object"==typeof s.options.progress)for(var i in s.options.progress)s[i]=s.options[i];void 0===s.enabled&&(s.enabled=!0),l.directives.on.new(s,function(t,a,o){if("ganttTask"===t){var n=a.$new();n.pluginScope=s;var l=r[0].createElement("gantt-task-progress");angular.element(l).attr("data-ng-if","task.model.progress !== undefined"),void 0!==s.templateUrl&&angular.element(l).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(l).attr("data-template",s.template),o.append(e(l)(n))}}),l.tasks.on.clean(s,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTask",templateUrl:function(e,r){var s;return s=void 0===r.templateUrl?"plugins/progress/taskProgress.tmpl.html":r.templateUrl,void 0!==r.template&&t.put(s,r.template),s},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.getClasses=function(){var e=[];return void 0!==t.task.model.progress&&"object"!=typeof t.task.model.progress&&(e=t.task.model.classes),e},t.getCss=function(){var e,r={};return void 0!==t.task.model.progress&&(e="object"==typeof t.task.model.progress?t.task.model.progress:{percent:t.task.model.progress}),e&&(r["background-color"]=e.color?e.color:"#6BC443",r.width=e.percent+"%"),r},t.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",t,e)})}]}}])}();