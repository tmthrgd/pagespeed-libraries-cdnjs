!function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(e,t,r){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,s,n,o){var l=o.gantt.api;if(a.options&&"object"==typeof a.options.progress)for(var i in a.options.progress)a[i]=a.options[i];void 0===a.enabled&&(a.enabled=!0),l.directives.on.new(a,function(e,s,o){if("ganttTask"===e){var l=s.$new();l.pluginScope=a;var i=r[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var p=r[0].createElement("gantt-task-progress");void 0!==n.templateUrl&&angular.element(p).attr("data-template-url",n.templateUrl),void 0!==n.template&&angular.element(p).attr("data-template",n.template),angular.element(i).append(p),o.append(t(i)(l))}}),l.tasks.on.clean(a,function(t){void 0===t.est||e.isMoment(t.est)||(t.est=e(t.est)),void 0===t.lct||e.isMoment(t.lct)||(t.lct=e(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(e){return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,r){var a;return a=void 0===r.templateUrl?"plugins/progress/taskProgress.tmpl.html":r.templateUrl,void 0!==r.template&&e.put(a,r.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){e.getClasses=function(){var t=[];return"object"==typeof e.task.model.progress&&(t=e.task.model.progress.classes),t},e.getCss=function(){var t,r={};return void 0!==e.task.model.progress&&(t="object"==typeof e.task.model.progress?e.task.model.progress:{percent:e.task.model.progress}),t&&(r["background-color"]=t.color?t.color:"#6BC443",r.width=t.percent+"%"),r},e.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",e,t)})}]}}])}();