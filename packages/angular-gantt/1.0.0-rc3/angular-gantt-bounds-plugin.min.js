!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,s,o,l){var i=l.gantt.api;if(a.options&&"object"==typeof a.options.bounds)for(var d in a.options.bounds)a[d]=a.options[d];void 0===a.enabled&&(a.enabled=!0),i.directives.on.new(a,function(t,s,l){if("ganttTask"===t){var i=s.$new();i.pluginScope=a;var d=n[0].createElement("div");angular.element(d).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var r=n[0].createElement("gantt-task-bounds");void 0!==o.templateUrl&&angular.element(r).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(r).attr("data-template",o.template),angular.element(d).append(r),l.append(e(d)(i))}}),i.tasks.on.clean(a,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(t,e){return{restrict:"E",templateUrl:function(e,n){var a;return a=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&t.put(a,n.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(t,n){n.toggleClass("ng-hide",!0),t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var e=t.task.rowsManager.gantt.getPositionByDate(t.task.model.est),a=t.task.rowsManager.gantt.getPositionByDate(t.task.model.lct);n.css("left",e-t.task.left+"px"),n.css("width",a-e+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===t.task.model.est||void 0===t.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):t.task.model.est>t.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):t.task.model.lct<t.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),t.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),t.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),t.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",t,n),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",t,n)})}]}}])}();