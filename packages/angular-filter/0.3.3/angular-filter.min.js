/**
 * Bunch of useful filters for angularJS
 * @version v0.3.3 - 2014-07-30 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(a,b){"use strict";function c(a){for(var b=-1,c=Object.keys(a),d=new Array(c.length);++b<c.length;)d[b]=a[c[b]];return d}function d(a){return null===a}function e(a,b){var c=Object.keys(a);return-1==c.map(function(c){return!(!b[c]||b[c]!=a[c])}).indexOf(!1)}function f(a,b){if(""===b)return a;var c=a.indexOf(b.charAt(0));return-1===c?!1:f(a.substr(c+1),b.substr(1))}function g(a){return function(b,d){function e(a,b){return i(b)?!1:a.some(function(a){return n(a,b)})}if(b=k(b)?c(b):b,i(d))return b.filter(function(a,b,c){return c.indexOf(a)===b});var f=[],g=a(d);return b.filter(function(a){var b=g(a);return e(f,b)?!1:(f.push(b),!0)})}}function h(a,b,c){return b?a+c+h(a,--b,c):a}var i=(b.isDefined,b.isUndefined),j=(b.isFunction,b.isString),k=b.isObject,l=b.isArray,m=(b.forEach,b.extend),n=(b.copy,b.equals);b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return d(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=k(a)?c(a):a,!l(a)||i(b))return a;var d=a.map(function(a){return e(b,a)}).indexOf(!0);return a.slice(-1===d?0:d)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=k(a)?c(a):a,l(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=k(a)?c(a):a,!l(a)||i(b))return a;var d=a.map(function(a){return e(b,a)}).indexOf(!0);return a.slice(0,-1===d?a.length:++d)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=k(a)?c(a):a,l(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(i(b))return a;if(l(a))return a.concat(k(b)?c(b):b);if(k(a)){var d=c(a);return d.concat(k(b)?c(b):b)}return a}}]),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,d){var e,f={},g=a(d);return b=k(b)?c(b):b,!l(b)||i(d)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,d,e,g){var h,m,n=g||!1;return b=k(b)?c(b):b,!l(b)||i(d)||i(e)?b:(m=a(d),b.filter(function(a){return h=m(a),j(h)?(h=n?h:h.toLowerCase(),e=n?e:e.toLowerCase(),f(h,e)!==!1):!1}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,d){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],d?!0:j(c)?(c=g?c:c.toLowerCase(),d=f(c,b)!==!1):!1}).length}var g=d||!1;return a=k(a)?c(a):a,!l(a)||i(b)?a:(b=g?b:b.toLowerCase(),a.filter(function(a){return j(a)?(a=g?a:a.toLowerCase(),f(a,b)!==!1):k(a)?e(a,b):!1}))}}),b.module("a8m.group-by",[]).filter("groupBy",["$parse",function(a){return function(b,d){var e,f={},g=a(d);return b=k(b)?c(b):b,!l(b)||i(d)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=[]),f[e].push(a)}),f)}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return k(a)?!c(a).length:!a.length}}),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,d){return b=k(b)?c(b):b,!l(b)||i(d)?b:b.filter(function(b){return!a(d)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,d){return b=k(b)?c(b):b,!l(b)||i(d)?b:b.filter(function(b){return a(d)(b)})}}]),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return i(b)?a:(a=k(a)?c(a):a,a.filter(function(a){return!e(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=k(a)?c(a):a;var b=Array.prototype.slice.call(arguments,1);return l(a)?a.filter(function(a){return!b.some(function(b){return n(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=k(a)?c(a):a,j(a)?a.split("").reverse().join(""):l(a)?a.reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var d,e;b=k(b)?c(b):b;var f=Array.prototype.slice.call(arguments,1);return l(b)&&f.length?b.map(function(b){return e=f.map(function(c){return(d=a(c))(b)}).join(" "),m({searchField:e},b)}):b}}]),b.module("a8m.unique",[]).filter({unique:["$parse",g],uniq:["$parse",g]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return i(b)?a:(a=k(a)?c(a):a,a.filter(function(a){return e(b,a)}))}}),b.module("a8m.math",[]).factory("$math",["$window",function(a){return a.Math}]),b.module("a8m.math.max",["a8m.math"]).filter("max",["$math",function(a){return function(b){return l(b)?a.max.apply(a,b):b}}]),b.module("a8m.math.min",["a8m.math"]).filter("min",["$math",function(a){return function(b){return l(b)?a.min.apply(a,b):b}}]),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!j(a)||i(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,-1!==a.indexOf(e?b:b.toLowerCase(),d))}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return j(a)&&d?h(a,--b,c||""):a}}]),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=b||"-";return j(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!j(a)||i(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return i(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return j(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return j(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return j(a)?(b=i(b)?a.length:b,d=d||!1,c=c||"",a.substring(0,d?-1===a.indexOf(" ",b)?b:a.indexOf(" ",b):b)+c):a}}),b.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(a){return b.isString(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return j(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return!j(a)||i(b)?a:[b,a,c||b].join("")}}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.slugify","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.repeat","a8m.concat","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.math","a8m.math.max","a8m.math.min","a8m.angular","a8m.is-null"])}(window,window.angular);