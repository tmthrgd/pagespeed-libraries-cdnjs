"use strict";void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),angular.module("ui.select",[]).constant("uiSelectConfig",{defaultTheme:"select2",defaultPlaceholder:"Select Item"}).directive("uiSelect",["$document","$timeout","uiSelectConfig",function(e,t,c){return{restrict:"E",templateUrl:function(e,t){var l=t.theme||c.defaultTheme;return l+"/select.tpl.html"},replace:!0,require:["uiSelect","ngModel"],transclude:!0,scope:!0,controllerAs:"uiSelectCtrl",controller:["$scope","$element","$attrs",function(e,c){var l=this;this.activate=function(c){c&&c.stopPropagation(),e.open=!0,t(function(){l.input[0].focus()})},this.select=function(t){e.$select.selected=t,this.close()},this.close=function(){e.open=!1,e.$select.search=""},this.input=c.find("input")}],link:function(t,c,l,s,i){t.open=!1,t.$select={};var n=s[0],a=s[1];t.$watch("$select.selected",function(e){a.$viewValue!==e&&a.$setViewValue(e)}),a.$render=function(){t.$select.selected=a.$viewValue},e.on("mousedown",function(e){var l=!1;l=window.jQuery?$.contains(c[0],e.target):c[0].contains(e.target),l||(n.close(),t.$digest())}),t.$on("$destroy",function(){e.off("mousedown")}),i(t,function(e){var t=angular.element("<div>").append(e),l=t.querySelectorAll(".ui-select-match");l=l.length?l:t.find("match"),c.querySelectorAll(".ui-select-match").replaceWith(l);var s=t.querySelectorAll(".ui-select-choices");s=s.length?s:t.find("choices"),c.querySelectorAll(".ui-select-choices").replaceWith(s)})}}}]).directive("choices",["$sce","uiSelectConfig",function(e,t){var c=[9,13,27,38,40];return{require:"^uiSelect",restrict:"E",transclude:!0,replace:!0,templateUrl:function(e){var c=e.parent().attr("theme")||t.defaultTheme;return c+"/choices.tpl.html"},compile:function(t,l){return t.querySelectorAll(".ui-select-choices-row").attr("ng-repeat","item in "+l.data).attr("ng-mouseenter","$select.activeIdx=$index").attr("ng-click","uiSelectCtrl.select(item)"),function(t,l,s,i){function n(){var e=l.querySelectorAll(".ui-select-choices-row");if(e.length){var c=e[t.$select.activeIdx],s=c.offsetTop+c.clientHeight-a.scrollTop,i=200;s>i?a[0].scrollTop+=s-i:s<c.clientHeight&&(a[0].scrollTop-=c.clientHeight-s)}}t.trustAsHtml=function(t){return e.trustAsHtml(t)};var a=l.hasClass("ui-select-choices-content")?l:l.querySelectorAll(".ui-select-choices-content");t.$watch("$select.search",function(){t.$select.activeIdx=0,n()}),i.input.on("keydown",function(e){if(-1!==c.indexOf(e.which)){e.preventDefault();var s=l.querySelectorAll(".ui-select-choices-row");40===e.which?t.$select.activeIdx<s.length&&(t.$select.activeIdx=(t.$select.activeIdx+1)%s.length||s.length-1,n(),t.$digest()):38===e.which?t.$select.activeIdx>0&&(t.$select.activeIdx--,n(),t.$digest()):13===e.which||9===e.which?angular.element(s[t.$select.activeIdx]).triggerHandler("click"):27===e.which&&(e.stopPropagation(),i.close(),t.$digest())}}),t.$on("$destroy",function(){i.input.off("keydown")})}}}}]).directive("match",["$compile","uiSelectConfig",function(e,t){return{restrict:"E",transclude:!0,replace:!0,templateUrl:function(e){var c=e.parent().attr("theme")||t.defaultTheme;return c+"/match.tpl.html"},link:function(e,c,l){e.placeholder=l.placeholder||t.defaultPlaceholder}}}]).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,c){return c?t.replace(new RegExp(e(c),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}),angular.module("ui.select").run(["$templateCache",function(e){e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"> <li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.activeIdx==$index}"> <div class="select2-result-label" ng-transclude></div> </li> </ul> '),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.selected == undefined}" ng-click="uiSelectCtrl.activate($event)"> <span ng-hide="$select.selected" class="select2-chosen">{{placeholder}}</span> <span ng-show="$select.selected" class="select2-chosen" ng-transclude></span> <span class="select2-arrow"><b></b></span> </a> '),e.put("select2/select.tpl.html",'<div class="select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open\': open}"> <div class="ui-select-match"></div> <div ng-class="{\'select2-display-none\': !open}" class="select2-drop select2-with-searchbox select2-drop-active"> <div class="select2-search"> <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"> </div> <div class="ui-select-choices"></div> </div> </div> '),e.put("selectize/choices.tpl.html",'<div ng-show="open" class="ui-select-choices selectize-dropdown single"> <div class="ui-select-choices-content selectize-dropdown-content"> <div class="ui-select-choices-row" ng-class="{\'active\': $select.activeIdx==$index}" ng-click="$select(item)" ng-mouseenter="$select.index=$index"> <div class="option" data-selectable ng-transclude></div> </div> </div> </div> '),e.put("selectize/match.tpl.html",'<div ng-hide="open || !$select.selected" class="ui-select-match" ng-transclude></div> '),e.put("selectize/select.tpl.html",'<div class="selectize-control single"> <div class="selectize-input" ng-class="{\'focus\': open}" ng-click="uiSelectCtrl.activate($event)"> <div class="ui-select-match"></div> <input type="text" class="ui-select-search" autocomplete="off" tabindex="" placeholder="{{placeholder}}" ng-model="$select.search" ng-hide="$select.selected && !open"> </div> <div class="ui-select-choices"></div> </div> ')}]);