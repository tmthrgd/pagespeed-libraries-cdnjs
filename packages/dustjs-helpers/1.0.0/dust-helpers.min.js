!function(dust){function isSelect(e){var n=e.current();return"object"==typeof n&&n.isSelect===!0}function filter(e,n,t,r,o){var c,u,r=r||{};if(r.key)c=helpers.tap(r.key,e,n);else{if(!isSelect(n))throw"No key specified for filter and no key found in context from select statement";c=n.current().selectKey,n.current().isResolved&&(o=function(){return!1})}return u=helpers.tap(r.value,e,n),o(u,coerce(c,r.type,n))?(isSelect(n)&&(n.current().isResolved=!0),e.render(t.block,n)):t["else"]?e.render(t["else"],n):e.write("")}function coerce(e,n,t){if(e)switch(n||typeof e){case"number":return+e;case"string":return String(e);case"boolean":return Boolean(e);case"date":return new Date(e);case"context":return t.get(e)}return e}var _console="undefined"!=typeof console?console:{log:function(){}},helpers={sep:function(e,n,t){return n.stack.index===n.stack.of-1?e:t.block(e,n)},idx:function(e,n,t){return t.block(e,n.push(n.stack.index))},contextDump:function(e,n){return _console.log(JSON.stringify(n.stack)),e},tap:function(e,n,t){var r=e;return"function"==typeof e&&(r="",n.tap(function(e){return r+=e,""}).render(e,t).untap(),""===r&&(r=!1)),r},"if":function(chunk,context,bodies,params){if(params&&params.cond){var cond=params.cond;if(cond=this.tap(cond,chunk,context),eval(cond))return chunk.render(bodies.block,context);if(bodies["else"])return chunk.render(bodies["else"],context)}else _console.log("No condition given in the if helper!");return chunk},select:function(e,n,t,r){if(r&&r.key){var o=this.tap(r.key,e,n);return e.render(t.block,n.push({isSelect:!0,isResolved:!1,selectKey:o}))}return _console.log("No key given in the select helper!"),e},eq:function(e,n,t,r){return filter(e,n,t,r,function(e,n){return n===e})},lt:function(e,n,t,r){return filter(e,n,t,r,function(e,n){return e>n})},lte:function(e,n,t,r){return filter(e,n,t,r,function(e,n){return e>=n})},gt:function(e,n,t,r){return filter(e,n,t,r,function(e,n){return n>e})},gte:function(e,n,t,r){return filter(e,n,t,r,function(e,n){return n>=e})},"default":function(e,n,t,r){return filter(e,n,t,r,function(){return!0})}};dust.helpers=helpers}("undefined"!=typeof exports?exports:getGlobal());