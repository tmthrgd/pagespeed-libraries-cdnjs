// angular-formly version 3.0.3 built with ♥ by Astrism <astrisms@gmail.com>, Kent C. Dodds <kent@doddsfamily.us> (ó ì_í)=óò=(ì_í ò)

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?exports.ngFormly=t(require("angular")):e.ngFormly=t(e.angular)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n="formly",o=r(1),i=o.module(n,[]);r(11)(i),r(14)(i),r(6)(i),e.exports=n},function(e,t,r){"use strict";var n=r(15);n.version||(n=window.angular),e.exports=n},function(e){"use strict";e.exports=function(e){e.directive("formlyCustomValidation",["formlyUtil","$q",function(e,t){function r(e){return e&&angular.isFunction(e.then)}return{require:"ngModel",link:function(n,o,i,a){var l=n.$eval(i.formlyCustomValidation);if(l){var s=a.hasOwnProperty("$validators");angular.forEach(l,function(o,i){if(s){var l=!angular.isString(o),f=l?"$asyncValidators":"$validators";a[f][i]=function(i,a){var s=e.formlyEval(n,o,i,a);return l?r(s)?s:s?t.when(s):t.reject(s):s}}else a.$parsers.unshift(function(t){var r=e.formlyEval(n,o,a.$modelValue,t);return a.$setValidity(i,r),t})})}}}}])}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){function t(e,t,o,i,a,l,s,f){function p(e){var t=n.element("<a></a>");return t.append(e).html()}function u(e){var t=a.getType(e.type,!0,e),r=e.template||t&&t.template,n=e.templateUrl||t&&t.templateUrl;if(!r&&!n)throw s.getFieldError("template-type-type-not-supported","template type '"+e.type+"' not supported. On element:",e);return c(r||n,!r)}function c(r,n){if(n){var o={cache:i};return e.get(r,o).then(function(e){return e.data})["catch"](function(e){f("problem-loading-template-for-templateurl","Problem loading template for "+r,e)})}return t.when(r)}function m(e){var r=y(e);return function(e){if(r){if(n.isArray(r)){r.forEach(s.checkWrapper);var o=r.map(function(e){return c(e.template||e.templateUrl,!e.template)});return t.all(o).then(function(t){t.forEach(function(e,t){s.checkWrapperTemplate(e,r[t])}),t.reverse();var n=t.shift();return t.forEach(function(e){n=d(n,e)}),d(n,e)})}s.checkWrapper(r);var i=r.template||r.templateUrl;return c(i,!r.template).then(function(t){return s.checkWrapperTemplate(t,r),d(t,e)})}return t.when(e)}}function d(e,t){var r=n.element(e),o=r.find("formly-transclude");return o.replaceWith(t),p(r)}function y(e){var t=e.wrapper;if(null===t)return"";var o=t;t?n.isString(t)?o=a.getWrapper(t):n.isArray(t)&&(o=t.map(function(e){return a.getWrapper(e)})):o=a.getWrapperByType(e.type),o=r(o);var i=a.getWrapper(),l=a.getType(e.type,!0,e);if(l&&l.wrapper){var s=r(l.wrapper).map(a.getWrapper);o=o.concat(s)}return i&&o.push(i),o.length>1?o:1===o.length?o[0]:void 0}function h(e){function t(e){var t=0;return t+=n.isDefined(e.template)?1:0,t+=n.isDefined(e.type)?1:0,t+=n.isDefined(e.templateUrl)?1:0}var r=t(e);if(0===r)throw s.getFieldError("you-must-provide-one-of-type-template-or-templateurl-for-a-field","You must provide one of type, template, or templateUrl for a field",e);if(r>1)throw s.getFieldError("you-must-only-provide-a-type-template-or-templateurl-for-a-field","You must only provide a type, template, or templateUrl for a field",e);var o=["type","template","templateUrl","key","model","expressionProperties","data","templateOptions","wrapper","modelOptions","watcher","validators","noFormControl","hide","ngModelAttrs","optionsTypes","formControl","value","runExpressions"],i=Object.keys(e).filter(function(e){return-1===o.indexOf(e)});if(i.length)throw s.getFieldError("you-have-specified-field-properties-that-are-not-allowed","You have specified field properties that are not allowed: "+JSON.stringify(i.join(", ")),e)}return{restrict:"AE",transclude:!0,scope:{options:"=",model:"=",formId:"=?",index:"=?",fields:"=?",form:"=?"},controller:["$scope","$interval","$parse",function(e,o,i){function s(){var r=e.options,o=p();n.forEach(r.expressionProperties,function(n,a){var s=i(a).assign,f=t.when(l.formlyEval(e,n,o));f.then(function(e){s(r,e)})})}function p(t){return e.model&&e.options.key?(n.isDefined(t)&&(e.model[e.options.key]=t),e.model[e.options.key]):void 0}function u(){function t(){r(),o.cancel(s)}var r,i=2e3,a=5,l=0,s=o(function(){if(l++,!n.isDefined(e.options.key))return t();var r=e.form&&e.form[e.id];r?(e.options.formControl=r,t()):a*l>i&&(f("couldnt-set-the-formcontrol-after-timems","Couldn't set the formControl after "+i+"ms",e),t())},a);r=e.$on("$destroy",t)}function c(e){var t=a.getType(e.type,!0,e);t&&t.defaultOptions&&l.reverseDeepMerge(e,t.defaultOptions);var o=r(e.optionsTypes).reverse();n.forEach(o,function(t){l.reverseDeepMerge(e,a.getType(t,!0,e).defaultOptions)})}c(e.options),h(e.options),e.id=l.getFieldId(e.formId,e.options,e.index),n.extend(e.options,{key:e.options.key||e.index||0,value:p,runExpressions:s,modelOptions:e.options.modelOptions||{getterSetter:!0,allowInvalid:!0}}),s(),e.options.noFormControl||u(),e.options.model&&e.$watch("options.model",s,!0)}],link:function(e,r){function i(t){r.html(p(t)),o(r.contents())(e)}function l(r){return function(o){var i=t.when(o);return n.forEach(r,function(r){i=i.then(function(o){return t.when(r(o,e.options,e)).then(function(e){return n.isString(e)?e:p(e)})})}),i}}u(e.options).then(l(a.templateManipulators.preWrapper)).then(m(e.options)).then(l(a.templateManipulators.postWrapper)).then(i)["catch"](function(t){f("there-was-a-problem-setting-the-template-for-this-field","There was a problem setting the template for this field ",e.options,t)})}}}function r(e){return e&&!n.isArray(e)?e=[e]:e||(e=[]),e}e.directive("formlyField",t),t.tests=null,t.$inject=["$http","$q","$compile","$templateCache","formlyConfig","formlyUtil","formlyUsability","formlyWarn"]}},function(e){"use strict";e.exports=function(e){e.directive("formlyFocus",["$timeout","$document",function(e,t){return{link:function(r,n,o){var i=null,a=n[0],l=t[0];o.$observe("formlyFocus",function(t){"true"===t?e(function(){i=l.activeElement,a.focus()},~~o.focusWait):"false"===t&&l.activeElement===a&&(a.blur(),o.hasOwnProperty("refocus")&&i&&i.focus())})}}}])}},function(e,t,r){"use strict";var n=function(e){return Array.isArray(e)?e:Array.from(e)},o=Array.prototype.slice,i=r(1);e.exports=function(e){function t(e){var t=1;return{restrict:"E",template:function(e,t){var r=t.hasOwnProperty("noNgForm")?"div":"ng-form";return"\n          <"+r+' class="formly"\n                   name="form"\n                   role="form">\n            <div formly-field\n                 ng-repeat="field in fields track by $index"\n                 ng-if="!field.hide"\n                 class="formly-field {{field.type ? \'formly-field-\' + field.type : \'\'}}"\n                 options="field"\n                 model="field.model || model"\n                 fields="fields"\n                 form="form"\n                 form-id="formId"\n                 index="$index">\n            </div>\n            <div ng-transclude></div>\n          </'+r+">\n        "},replace:!0,transclude:!0,scope:{fields:"=",model:"=?",form:"=?"},controller:["$scope",function(r){function a(e,t){e.key=e.key||t||0}function l(t,n){if(i.isDefined(t.watcher)){var o=t.watcher;i.isArray(o)||(o=[o]),i.forEach(o,function(o){if(!i.isDefined(o.listener))throw e.getFieldError("all-field-watchers-must-have-a-listener","All field watchers must have a listener",t);var a=s(o,t,n),l=f(o,t,n),p=o.type||"$watch";o.stopWatching=r[p](a,l,o.watchDeep)})}}function s(e,t,r){var a=e.expression||"model['"+t.key+"']";if(i.isFunction(a)){var l=a;a=function(){var t=p.apply(void 0,[e,r].concat(o.call(arguments)));return l.apply(void 0,n(t))},a.displayName="Formly Watch Expression for field for "+t.key}return a}function f(e,t,r){var a=e.listener;if(i.isFunction(a)){var l=a;a=function(){var t=p.apply(void 0,[e,r].concat(o.call(arguments)));return l.apply(void 0,n(t))},a.displayName="Formly Watch Listener for field for "+t.key}return a}function p(e,t){for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;o>a;a++)i[a-2]=arguments[a];return[r.fields[t]].concat(n(i),[e.stopWatching])}r.formId="formly_"+t++,i.forEach(r.fields,a),i.forEach(r.fields,l),r.$watch("model",function(e){i.forEach(r.fields,function(t){t.runExpressions&&t.runExpressions(e)})},!0)}],link:function(t,r,n){if(n.hasOwnProperty("result"))throw e.getFormlyError('The "result" attribute on a formly-form is no longer valid. Use "model" instead');if("form"!==n.name)throw e.getFormlyError('The "name" attribute on a formly-form is no longer valid. Use "form" instead');if(!n.hasOwnProperty("model")||!t.model)throw e.getFormlyError('The "model" attribute is required on a formly-form.')}}}e.directive("formlyForm",t),t.tests=null,t.$inject=["formlyUsability"]}},function(e,t,r){"use strict";e.exports=function(e){r(2)(e),r(3)(e),r(5)(e),r(4)(e)}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){function t(e){function t(e){if(n.isArray(e))n.forEach(e,t);else{if(!n.isObject(e))throw E("You must provide an object or array for setType. You provided: "+JSON.stringify(arguments));o(e),g[e.name]=e}}function r(e,t,r){var n=g[e];if(n||t!==!0)return n;throw E('There is no type by the name of "'+e+'": '+JSON.stringify(r))}function o(e){if(!e.name)throw E("You must provide a name for setType. You provided: "+JSON.stringify(arguments));if(!(e.defaultOptions||e.template||e.templateUrl))throw E("You must provide defaultOptions OR a template OR templateUrl for setType. You provided none of these: "+JSON.stringify(arguments));if(e.template&&e.templateUrl)throw E("You must provide at most a template OR templateUrl for setType. You provided both: "+JSON.stringify(arguments));e.overwriteOk?delete e.overwriteOk:p(e.name,g,e,"types")}function i(e,t){return n.isArray(e)?e.map(function(e){return i(e)}):n.isObject(e)?(e.types=a(e),e.name=l(e,t),s(e),w[e.name]=e,e):n.isString(e)?i({template:e,name:t}):void 0}function a(e){return n.isString(e.types)?[e.types]:n.isDefined(e.types)?e.types:[]}function l(e,t){return e.name||t||e.types.join(" ")||x}function s(t){e.checkWrapper(t),t.template&&e.checkWrapperTemplate(t.template,t),t.overwriteOk?delete t.overwriteOk:p(t.name,w,t,"templateWrappers"),f(t)}function f(e){var t=!n.isArray(e.types)||!e.types.every(n.isString);if(t)throw E("Attempted to create a template wrapper with types that is not a string or an array of strings")}function p(e,t,r,n){t.hasOwnProperty(e)&&h(["Attempting to overwrite "+e+" on "+n+" which is currently",""+JSON.stringify(t[e])+" with "+JSON.stringify(r),'To supress this warning, specify the property "overwriteOk: true"'].join(" "))}function u(e){return w[e||x]}function c(e){var t=[];for(var r in w)w.hasOwnProperty(r)&&w[r].types&&-1!==w[r].types.indexOf(e)&&t.push(w[r]);return 1===t.length?t[0]:t.length>1?t:void 0}function m(e){var t=w[e];return delete w[e],t}function d(e){var t=c(e);if(t)return n.isArray(t)?(t.forEach(function(e){return m(e.name)}),t):m(t.name)}function y(e,t,r){function o(){var e=n.extend(f.ngModelBoundAttributes||{},{"ng-disabled":"disabled","ng-required":"required","ng-pattern":"pattern","ng-maxlength":"maxlength","ng-minlength":"minlength","ng-change":"change","ng-keydown":"keydown","ng-keyup":"keyup","ng-keypress":"keypress"}),r=n.extend(f.ngModelAttributes||{},{"formly-focus":"focus",placeholder:"placeholder",min:"min",max:"max",tabindex:"tabindex",type:"type"});a(p,e,t,!1),a(p,r,t,!0)}function i(e){e=e||{},n.forEach(e.bound,function(e,t){l(p,t,"options.ngModelAttrs.bound['"+t+"']")}),n.forEach(e.unbound,function(e,t){l(p,t,r.$eval(e))})}function a(e,t,r,o){var i=r.templateOptions,a=r.expressionProperties;if(i||a){i=i||{},a=a||{};var s=o?"{{":"",f=o?"}}":"";n.forEach(t,function(t,r){(n.isDefined(i[t])||n.isDefined(a["templateOptions."+t]))&&l(e,""+r,""+s+"options.templateOptions['"+t+"']"+f)})}}function l(e,t,r){e.attr(t)||e.attr(t,r)}var s=n.element("<a></a>"),f=t.data||{};if(f.noTouchy)return e;s.append(e);var p=n.element(s[0].querySelectorAll("[ng-model]"));return p&&p.length?(i(t.ngModelAttrs),l(p,"id",r.id),l(p,"name",r.id),t.validators&&l(p,"formly-custom-validation","options.validators"),o(),s.html()):e}function h(){O.disableWarnings||console.warn.apply(console,arguments)}var v=this,g={},w={},x="default",O=this,E=e.getFormlyError;n.extend(this,{setType:t,getType:r,setWrapper:i,getWrapper:u,getWrapperByType:c,removeWrapperByName:m,removeWrappersForType:d,disableWarnings:!1,templateManipulators:{preWrapper:[y],postWrapper:[]},$get:function(){return v}})}e.provider("formlyConfig",t),t.tests=null,t.$inject=["formlyUsabilityProvider"]}},function(e){"use strict";e.exports=function(e){e.constant("formlyErrorAndWarningsUrlPrefix","https://github.com/formly-js/angular-formly/wiki/Errors-and-Warnings#")}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){e.provider("formlyUsability",function(){function e(e,t,o){return arguments.length<3&&(o=t,t=e,e=null),new Error(r(e,t)+(" Field definition: "+n.toJson(o)))}function t(e,t){return t||(t=e,e=null),new Error(r(e,t))}function r(e,t){var r="";return null!==e&&(r=""+l+e),"Formly Error: "+t+". "+r}function o(e){if(e.template&&e.templateUrl)throw t("Template wrappers can only have a templateUrl or a template. This one provided both: "+JSON.stringify(e));if(!e.template&&!e.templateUrl)throw t("Template wrappers must have one of a templateUrl or a template. This one provided neither: "+JSON.stringify(e))}function i(e,r){var n="<formly-transclude></formly-transclude>";if(-1===e.indexOf(n))throw t('Template wrapper templates must use "'+n+'" somewhere in them. This one does not have "<formly-transclude></formly-transclude>" in it: '+e+"\nAdditional information: "+JSON.stringify(r))}var a=this,l="https://github.com/formly-js/angular-formly/wiki/Errors-and-Warnings#";n.extend(this,{getFormlyError:t,getFieldError:e,checkWrapper:o,checkWrapperTemplate:i,$get:function(){return a}})})}},function(e){"use strict";e.exports=function(e){e.constant("formlyVersion","3.0.3")}},function(e,t,r){"use strict";e.exports=function(e){r(9)(e),r(7)(e),r(10)(e),r(8)(e)}},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(1);e.exports=function(e){e.factory("formlyUtil",function(){function e(e,t,r,n){return o.isFunction(t)?t(n,r,e):e.$eval(t,{$viewValue:n,$modelValue:r})}function t(e,t,r){var n=t.type;return!n&&t.template?n="template":!n&&t.templateUrl&&(n="templateUrl"),[e,n,t.key,r].join("_")}function r(){var e=arguments[0],t={};return o.forEach([].concat(n.call(arguments)).reverse(),function(e){e&&o.forEach(e,function(e,n){if("object"!=typeof e||null===e||Object.getPrototypeOf(e)!==i&&Object.getPrototypeOf(e)!==a)o.isDefined(e)&&(t[n]=e);else{var l=t[n];!l&&o.isArray(e)?l=[]:l||(l={}),t[n]=r(l,e)}})}),o.forEach(e,function(t,r){delete e[r]}),o.forEach(t,function(t,r){e[r]=t}),t=e}var i=Object.getPrototypeOf({}),a=Object.getPrototypeOf([]);return{formlyEval:e,getFieldId:t,reverseDeepMerge:r}})}},function(e){"use strict";var t=function(e){return Array.isArray(e)?e:Array.from(e)};e.exports=function(e){e.factory("formlyWarn",["formlyConfig","formlyErrorAndWarningsUrlPrefix","$log",function(e,r,n){return function(){if(!e.disableWarnings){var o=Array.prototype.slice.call(arguments),i=o.shift();o.unshift("Formly Warning:"),o.push(""+r+i),n.warn.apply(n,t(o))}}}])}},function(e,t,r){"use strict";e.exports=function(e){r(12)(e),r(13)(e)}},function(t){t.exports=e}])});
//# sourceMappingURL=formly.min.js.map