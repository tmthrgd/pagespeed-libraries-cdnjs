// angular-formly version 3.0.0 built with ♥ by Astrism <astrisms@gmail.com>, Kent C. Dodds <kent@doddsfamily.us> (ó ì_í)=óò=(ì_í ò)

!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("angular")):"function"==typeof define&&define.amd?define(["angular"],r):"object"==typeof exports?exports.ngFormly=r(require("angular")):e.ngFormly=r(e.angular)}(this,function(e){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";var n="formly",o=t(1),i=o.module(n,[]);t(11)(i),t(14)(i),t(6)(i),e.exports=n},function(e,r,t){"use strict";var n=t(16);n.version||(n=window.angular),e.exports=n},function(e){"use strict";e.exports=function(e){e.directive("formlyCustomValidation",["formlyUtil","$q",function(e,r){function t(e){return e&&angular.isFunction(e.then)}return{require:"ngModel",link:function(n,o,i,a){var l=n.$eval(i.formlyCustomValidation);if(l){var s=a.hasOwnProperty("$validators");angular.forEach(l,function(o,i){if(s){var l=!angular.isString(o),f=l?"$asyncValidators":"$validators";a[f][i]=function(i,a){var s=e.formlyEval(n,o,i,a);return l?t(s)?s:s?r.when(s):r.reject(s):s}}else a.$parsers.unshift(function(r){var t=e.formlyEval(n,o,a.$modelValue,r);return a.$setValidity(i,t),r})})}}}}])}},function(e){"use strict";e.exports=function(e){e.directive("formlyDynamicName",function(){return{restrict:"A",priority:599,controller:["$scope","$element","$attrs",function(e,r,t){r.removeAttr("formly-dynamic-name"),t.$set("name",e.$eval(t.formlyDynamicName)),delete t.formlyDynamicName}]}})}},function(e,r,t){"use strict";var n=t(1);e.exports=function(e){function r(e,r,o,i,a,l,s,f){function p(e){var r=n.element("<a></a>");return r.append(e).html()}function u(e){var r=a.getType(e.type),t=e.template||r&&r.template,n=e.templateUrl||r&&r.templateUrl;if(!t&&!n)throw s.getFieldError("template-type-type-not-supported","template type '"+e.type+"' not supported. On element:",e);return c(t||n,!t)}function c(t,n){if(n){var o={cache:i};return e.get(t,o).then(function(e){return e.data})["catch"](function(e){f("problem-loading-template-for-templateurl","Problem loading template for "+t,e)})}return r.when(t)}function m(e){var t=y(e);return function(e){if(t){if(n.isArray(t)){t.forEach(s.checkWrapper);var o=t.map(function(e){return c(e.template||e.templateUrl,!e.template)});return r.all(o).then(function(r){r.forEach(function(e,r){s.checkWrapperTemplate(e,t[r])}),r.reverse();var n=r.shift();return r.forEach(function(e){n=d(n,e)}),d(n,e)})}s.checkWrapper(t);var i=t.template||t.templateUrl;return c(i,!t.template).then(function(r){return s.checkWrapperTemplate(r,t),d(r,e)})}return r.when(n.element(e))}}function d(e,r){var t=n.element(e),o=t.find("formly-transclude");return o.replaceWith(r),t}function y(e){var r=e.wrapper;if(null===r)return"";var o=r;r?n.isString(r)?o=a.getWrapper(r):n.isArray(r)&&(o=r.map(function(e){return a.getWrapper(e)})):o=a.getWrapperByType(e.type),o=t(o);var i=a.getWrapper(),l=a.getType(e.type);if(l&&l.wrapper){var s=t(l.wrapper).map(a.getWrapper);o=o.concat(s)}return i&&o.push(i),o.length>1?o:1===o.length?o[0]:void 0}function h(e){function r(e){var r=0;return r+=n.isDefined(e.template)?1:0,r+=n.isDefined(e.type)?1:0,r+=n.isDefined(e.templateUrl)?1:0}var t=r(e);if(0===t)throw s.getFieldError("you-must-provide-one-of-type-template-or-templateurl-for-a-field","You must provide one of type, template, or templateUrl for a field",e);if(t>1)throw s.getFieldError("you-must-only-provide-a-type-template-or-templateurl-for-a-field","You must only provide a type, template, or templateUrl for a field",e);var o=["type","template","templateUrl","key","model","expressionProperties","data","templateOptions","wrapper","modelOptions","watcher","validators","noFormControl","hide","value","runExpressions","formControl"],i=Object.keys(e).filter(function(e){return-1===o.indexOf(e)});if(i.length)throw s.getFieldError("You have specified field properties that are not allowed: "+JSON.stringify(i.join(", ")),e)}return{restrict:"AE",transclude:!0,scope:{options:"=",model:"=",formId:"=?",index:"=?",fields:"=?",form:"=?"},controller:["$scope","$interval","$parse",function(e,t,o){function i(){var t=e.options,i=a();n.forEach(t.expressionProperties,function(n,a){var s=o(a).assign,f=r.when(l.formlyEval(e,n,i));f.then(function(e){s(t,e)})})}function a(r){return e.model&&e.options.key?(n.isDefined(r)&&(e.model[e.options.key]=r),e.model[e.options.key]):void 0}function s(){function r(){o(),t.cancel(s)}var o,i=2e3,a=5,l=0,s=t(function(){if(l++,!n.isDefined(e.options.key))return r();var t=e.form&&e.form[e.id];t?(e.options.formControl=t,r()):a*l>i&&(f("couldnt-set-the-formcontrol-after-timems","Couldn't set the formControl after "+i+"ms",e),r())},a);o=e.$on("$destroy",r)}h(e.options),e.id=l.getFieldId(e.formId,e.options,e.index),n.extend(e.options,{key:e.options.key||e.index||0,value:a,runExpressions:i,modelOptions:{getterSetter:!0,allowInvalid:!0}}),i(),e.options.noFormControl||s(),e.options.model&&e.$watch("options.model",i,!0)}],link:function(e,r){function t(t){r.html(p(t)),o(r.contents())(e)}u(e.options).then(m(e.options)).then(t)}}}function t(e){return e&&!n.isArray(e)?e=[e]:e||(e=[]),e}e.directive("formlyField",r),r.tests=null,r.$inject=["$http","$q","$compile","$templateCache","formlyConfig","formlyUtil","formlyUsability","formlyWarn"]}},function(e,r,t){"use strict";var n=function(e){return Array.isArray(e)?e:Array.from(e)},o=Array.prototype.slice,i=t(1);e.exports=function(e){function r(e){var r=1;return{restrict:"E",template:t(15),replace:!0,transclude:!0,scope:{fields:"=",model:"=?",form:"=?"},controller:["$scope",function(t){function a(e,r){e.key=e.key||r||0}function l(r,n){if(i.isDefined(r.watcher)){var o=r.watcher;i.isArray(o)||(o=[o]),i.forEach(o,function(o){if(!i.isDefined(o.listener))throw e.getFieldError("all-field-watchers-must-have-a-listener","All field watchers must have a listener",r);var a=s(o,r,n),l=f(o,r,n),p=o.type||"$watch";o.stopWatching=t[p](a,l,o.watchDeep)})}}function s(e,r,t){var a=e.expression||"model['"+r.key+"']";if(i.isFunction(a)){var l=a;a=function(){var r=p.apply(void 0,[e,t].concat(o.call(arguments)));return l.apply(void 0,n(r))},a.displayName="Formly Watch Expression for field for "+r.key}return a}function f(e,r,t){var a=e.listener;if(i.isFunction(a)){var l=a;a=function(){var r=p.apply(void 0,[e,t].concat(o.call(arguments)));return l.apply(void 0,n(r))},a.displayName="Formly Watch Listener for field for "+r.key}return a}function p(e,r){for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;o>a;a++)i[a-2]=arguments[a];return[t.fields[r]].concat(n(i),[e.stopWatching])}t.formId="formly_"+r++,i.forEach(t.fields,a),i.forEach(t.fields,l),t.$watch("model",function(e){i.forEach(t.fields,function(r){r.runExpressions&&r.runExpressions(e)})},!0)}],link:function(r,t,n){if(n.hasOwnProperty("result"))throw e.getFormlyError('The "result" attribute on a formly-form is no longer valid. Use "model" instead');if("form"!==n.name)throw e.getFormlyError('The "name" attribute on a formly-form is no longer valid. Use "form" instead');if(!n.hasOwnProperty("model")||!r.model)throw e.getFormlyError('The "model" attribute is required on a formly-form.')}}}e.directive("formlyForm",r),r.tests=null,r.$inject=["formlyUsability"]}},function(e,r,t){"use strict";e.exports=function(e){t(2)(e),t(3)(e),t(4)(e),t(5)(e)}},function(e,r,t){"use strict";var n=t(1);e.exports=function(e){function r(e){function r(e){if(n.isArray(e))n.forEach(e,r);else{if(!n.isObject(e))throw E("You must provide an object or array for setType. You provided: "+JSON.stringify(arguments));o(e),v[e.name]=e}}function t(e){return v[e]}function o(e){if(!e.name)throw E("You must provide a name for setType. You provided: "+JSON.stringify(arguments));if(!e.template&&!e.templateUrl)throw E("You must provide a template OR templateUrl for setType. You provided neither: "+JSON.stringify(arguments));if(e.template&&e.templateUrl)throw E("You must provide a template OR templateUrl for setType. You provided both: "+JSON.stringify(arguments));e.overwriteOk?delete e.overwriteOk:p(e.name,v,e,"types")}function i(e,r){return n.isArray(e)?e.map(function(e){return i(e)}):n.isObject(e)?(e.types=a(e),e.name=l(e,r),s(e),g[e.name]=e,e):n.isString(e)?i({template:e,name:r}):void 0}function a(e){return n.isString(e.types)?[e.types]:n.isDefined(e.types)?e.types:[]}function l(e,r){return e.name||r||e.types.join(" ")||w}function s(r){e.checkWrapper(r),r.template&&e.checkWrapperTemplate(r.template,r),r.overwriteOk?delete r.overwriteOk:p(r.name,g,r,"templateWrappers"),f(r)}function f(e){var r=!n.isArray(e.types)||!e.types.every(n.isString);if(r)throw E("Attempted to create a template wrapper with types that is not a string or an array of strings")}function p(e,r,t,n){r.hasOwnProperty(e)&&y(["Attempting to overwrite "+e+" on "+n+" which is currently",""+JSON.stringify(r[e])+" with "+JSON.stringify(t),'To supress this warning, specify the property "overwriteOk: true"'].join(" "))}function u(e){return g[e||w]}function c(e){var r=[];for(var t in g)g.hasOwnProperty(t)&&g[t].types&&-1!==g[t].types.indexOf(e)&&r.push(g[t]);return 1===r.length?r[0]:r.length>1?r:void 0}function m(e){var r=g[e];return delete g[e],r}function d(e){var r=c(e);if(r)return n.isArray(r)?(r.forEach(function(e){return m(e.name)}),r):m(r.name)}function y(){x.disableWarnings||console.warn.apply(console,arguments)}var h=this,v={},g={},w="default",x=this,E=e.getFormlyError;n.extend(this,{setType:r,getType:t,setWrapper:i,getWrapper:u,getWrapperByType:c,removeWrapperByName:m,removeWrappersForType:d,disableWarnings:!1,$get:function(){return h}})}e.provider("formlyConfig",r),r.tests=null,r.$inject=["formlyUsabilityProvider"]}},function(e){"use strict";e.exports=function(e){e.constant("formlyErrorAndWarningsUrlPrefix","https://github.com/formly-js/angular-formly/wiki/Errors-and-Warnings#")}},function(e,r,t){"use strict";var n=t(1);e.exports=function(e){e.provider("formlyUsability",function(){function e(e,r,o){return arguments.length<3&&(o=r,r=e,e=null),new Error(t(e,r)+(" Field definition: "+n.toJson(o)))}function r(e,r){return r||(r=e,e=null),new Error(t(e,r))}function t(e,r){var t="";return null!==e&&(t=""+l+e),"Formly Error: "+r+". "+t}function o(e){if(e.template&&e.templateUrl)throw r("Template wrappers can only have a templateUrl or a template. This one provided both: "+JSON.stringify(e));if(!e.template&&!e.templateUrl)throw r("Template wrappers must have one of a templateUrl or a template. This one provided neither: "+JSON.stringify(e))}function i(e,t){var n="<formly-transclude></formly-transclude>";if(-1===e.indexOf(n))throw r('Template wrapper templates must use "'+n+'" somewhere in them. This one does not have "<formly-transclude></formly-transclude>" in it: '+e+"\nAdditional information: "+JSON.stringify(t))}var a=this,l="https://github.com/formly-js/angular-formly/wiki/Errors-and-Warnings#";n.extend(this,{getFormlyError:r,getFieldError:e,checkWrapper:o,checkWrapperTemplate:i,$get:function(){return a}})})}},function(e){"use strict";e.exports=function(e){e.constant("formlyVersion","3.0.0")}},function(e,r,t){"use strict";e.exports=function(e){t(9)(e),t(7)(e),t(10)(e),t(8)(e)}},function(e,r,t){"use strict";var n=t(1);e.exports=function(e){e.factory("formlyUtil",function(){function e(e,r,t,o){return n.isFunction(r)?r(o,t,e):e.$eval(r,{$viewValue:o,$modelValue:t})}function r(e,r,t){var n=r.type;return!n&&r.template?n="template":!n&&r.templateUrl&&(n="templateUrl"),[e,n,r.key,t].join("_")}return{formlyEval:e,getFieldId:r}})}},function(e){"use strict";var r=function(e){return Array.isArray(e)?e:Array.from(e)};e.exports=function(e){e.factory("formlyWarn",["formlyConfig","formlyErrorAndWarningsUrlPrefix","$log",function(e,t,n){return function(){if(!e.disableWarnings){var o=Array.prototype.slice.call(arguments),i=o.shift();o.unshift("Formly Warning:"),o.push(""+t+i),n.warn.apply(n,r(o))}}}])}},function(e,r,t){"use strict";e.exports=function(e){t(12)(e),t(13)(e)}},function(e){e.exports='<ng-form class="formly"\n         name="form"\n         role="form">\n  <div formly-field\n       ng-repeat="field in fields track by $index"\n       ng-if="!field.hide"\n       class="formly-field {{field.type ? \'formly-field-\' + field.type : \'\'}}"\n       options="field"\n       model="field.model || model"\n       fields="fields"\n       form="form"\n       form-id="formId"\n       index="$index">\n  </div>\n  <div ng-transclude></div>\n</ng-form>\n'},function(r){r.exports=e}])});
//# sourceMappingURL=formly.min.js.map