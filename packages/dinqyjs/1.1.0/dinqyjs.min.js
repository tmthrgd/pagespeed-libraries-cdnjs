var Dinqyjs=function(){return{Collection:function(){function e(e){this._=e||[]}var t={ARRAY_PREALLOCATION:64e3};var n=function(t,n,r){var i=a(r),s=0,o,u,f,l=[],c,h;t=p(t).distinct(r).raw();n=d(n);c=t.length;h=n.length;while(s<c){u=t[s];o=0;while(o<h){f=n[o];if(i&&r(u,f)||!i&&u===f){break}o++}if(o===h){l.push(u)}s++}return new e(l)};var r="Array contains no matching elements";var i="Array does not contain exactly one matching element";var s=Array.prototype;var o=function(e,t,n,r,i){var s,o=e.length;n=n||1;if(!a(t)){return o>0?n>0?0:o-1:-1}if(f(r)){r=n>0?0:o-1}if(f(i)||i>o){i=o}while(i>0){s=e[r];if(t(s)){return r}r+=n;i--}return-1};var u=function(e,t,n){var r=t.length,i=r>0?t[0]:null,s,o=0,u=a(n);while(o<r){s=t[o];if(e(u?n(s):s,i)){i=s}o++}return i};var a=function(e){return typeof e=="function"};var f=function(e){return e===void 0};var l=function(e,t){return{inner:e,outer:t}};var c=function(e,t){return e>=t};var h=function(e,t){return e<=t};var p=function(t){return t._?t:new e(t)};var d=function(e){return e._||e};var v=function(e,t,n){var r=null,i=e.length-1,s,o=a(n),u;while(i>=0){s=e[i--];u=o?n(s):s;r=r===null?u:t(r,u)}return r};e.configure=function(e,n){return t[e]=arguments.length<2?t[e]:n};var m=function(e,t,n,r){var i=0,s,o=[],u,f=a(n),l=a(r);while(i<e.length){s=e[i++];u=t(s);if(f){s=n(s)}(o[u]=u in o?o[u]:[]).push(s)}if(l){y(o,r)}return o};var g=function(e){var t=a(e);if(t){return[function(t,n){return e(t)-e(n)}]}return[]};var y=function(e,t){var n,r;for(n in e){r=e[n];e[n]=t(r,n)}return e};e.prototype={all:function(e){var t=true,n=0;while(n<this._.length){t&=e(this._[n++])}return t?true:false},any:function(e){return o(this._,e)>=0},ascending:function(e){s.sort.apply(this._,g(e));return this},atRandom:function(){return this._[Math.floor(Math.random()*this._.length)]},average:function(e){var t=0,n=0,r=this._.length;while(n<r){t+=e?e(this._[n]):this._[n];n++}return r?t/r:0},clear:function(){this._.splice(0,this._.length)},clearWhere:function(e){var t=this._.length-1;while(t>=0){if(e(this._[t])){this._.splice(t,1)}t--}return this},clone:function(){return new e(this._.concat())},concat:function(){return new e(s.concat.apply(this._,arguments))},contains:function(e){return this._.indexOf(e)>-1},count:function(){return this._.length},descending:function(e){s.sort.apply(this._,g(e)).reverse();return this},difference:function(e,t){e=d(e);var r=this._;return n(r,e,t).union(n(e,r,t))},distinct:function(t){var n=a(t);var r=[],i,s,o=0,u;while(o<this._.length){i=this._[o];if(r.indexOf(i)==-1){u=0;while(u<this._.length){s=this._[u];if(n&&t(i,s)||!n&&i===s){r.push(i);break}u++}}o++}return new e(r)},doUntil:function(e,t){var n=0;while(n<this._.length){e(this._[n]);n++;if(t(this._[n])){return}}},doWhile:function(e,t){var n=0;while(n<this._.length){if(!t(this._[n],n)){return}e(this._[n],n);n++}},each:function(e){var t=0;while(t<this._.length){e(this._[t],t);t++}},element:function(e){return this._[e]},equalTo:function(e,t){e=d(e);var n=this._.length-1,r=a(t),i,s;if(this._.length!=e.length){return false}while(n>=0){i=this._[n];s=e[n--];if(r?!t(i,s):i!==s){return false}}return true},findIndex:function(e,t,n){return a(e)?o(this._,e,1,t,n):-1},findLastIndex:function(e,t,n){return a(e)?o(this._,e,-1,t,n):-1},first:function(e){var t=o(this._,e);if(t>=0){return this._[t]}else{throw new Error(r)}},flatten:function(){var t=0,n=new e,r;while(t<this._.length){r=this._[t++];e.prototype.push.apply(n,Array.isArray(r)?r:[r])}return n},groupBy:function(e,t,n){var r=m(this._,e,t,n);this._.splice(0,this._.length);for(var i in r){this._[i]=r[i]}return this},indexOf:function(){return s.indexOf.apply(this._,arguments)},insert:function(e,t){this._.splice(e,0,t)},insertRange:function(e,t){var n=[e,0].concat(arguments.length<3?d(t):s.slice.call(arguments,1));s.splice.apply(this._,n)},intersect:function(t,n){var r=a(n),i=[],s,o,u=0,f,l=this.distinct(n).raw(),c=p(t).distinct(n).raw();while(u<l.length){s=l[u++];f=0;while(f<c.length){o=c[f++];if(r&&n(s,o)||!r&&s===o){i.push(s);break}}}return new e(i)},innerJoin:function(t,n,r){t=d(t);if(!Array.isArray(t)){return this.clone()}if(!a(r)){r=l}var i=[],s,o,u=0,f;while(u<this._.length){s=this._[u++];f=0;while(f<t.length){o=t[f++];if(n(s,o)){i.push(r(s,o))}}}return new e(i)},join:function(){return s.join.apply(this._,arguments)},keys:function(){var e=[];for(var t in this._){e.push(t)}return e},last:function(e){var t=o(this._,e,-1);if(t>=0){return this._[t]}else{throw new Error(r)}},lastIndexOf:function(){return s.lastIndexOf.apply(this._,arguments)},map:function(){var t=s.map.apply(this._,arguments);return t?new e(t):void 0},max:function(e){return u(c,this._,e)},min:function(e){return u(h,this._,e)},multiply:function(e){return this._.length>0?v(this._,function(e,t){return e*t},e):0},outerJoin:function(t,n,r){t=d(t);if(!Array.isArray(t)){return new e(this._.concat())}if(!a(r)){r=l}var i=[],s,o,u,f=0,c,h=a(n);while(f<this._.length){s=this._[f++];u=0;c=0;while(c<t.length){o=t[c++];if(h&&n(s,o)||!h&&s===o){u=1;i.push(r(s,o))}}if(!u){i.push(r(s,null))}}return new e(i)},pack:function(){var e=this._.length-1,t;while(e>=0){t=this._[e];if(f(t)||t===null){this._.splice(e,1)}e--}return this},partition:function(t,n,r){return new e(m(this._,t,n,r))},pop:function(){return s.pop.apply(this._,arguments)},push:function(){return s.push.apply(this._,arguments)},range:function(e,t){return this._.slice(e,t)},raw:function(){return this._},removeAt:function(e){this._.splice(e,1)},removeRange:function(e,t){this._.splice(e,t)},reverse:function(){return new e(s.reverse.apply(this._,arguments))},shift:function(){return s.shift.apply(this._,arguments)},shuffle:function(){var e=this._.length-1,t,n;while(e>=0){n=Math.floor(Math.random()*this._.length);t=this._[e];this._[e--]=this._[n];this._[n]=t}return this},single:function(e){var t=d(this);if(a(e)){t=p(this).where(e).raw()}if(t.length!=1){throw new Error(i)}else{return t[0]}},skip:function(t){return new e(this._.slice(t))},sort:function(){s.sort.apply(this._,arguments);return this},sum:function(e){return this._.length>0?v(this._,function(e,t){return e+t},e):0},take:function(t){return new e(this._.slice(0,t))},toString:function(){return s.toString.apply(this._,arguments)},union:function(e){var t=this.clone();s.push.apply(t.raw(),d(e));return t},unshift:function(){return s.unshift.apply(this._,arguments)},valueOf:function(){return s.valueOf.apply(this._,arguments)},where:function(t){var n=[],r,i=0;while(i<this._.length){r=this._[i++];if(t(r)){n.push(r)}}return new e(n)}};if(!s.indexOf){s.indexOf=function(e,t){return o(this,b(e),1,t)}}if(!s.lastIndexOf){s.lastIndexOf=function(e,t){return o(this,b(e),-1,t)}}if(!s.map){s.map=function(e){var n=this.length,r=new Array(n>t.ARRAY_PREALLOCATION?0:n),i=0;if(!a(e)){return void 0}while(i<n){r[i]=e(this[i++])}return r}}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"}}var b=function(e){return function(t){return e===t}};return e}()}}()
