angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var r=t.storageKey(),e=t.storage();e?e.get(r)?t.uses(e.get(r)):angular.isString(t.preferredLanguage())?t.uses(t.preferredLanguage()):e.set(r,t.uses()):angular.isString(t.preferredLanguage())&&t.uses(t.preferredLanguage())}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var r,e,n,a,o,s={},i=t,u=[],l=".",c={forUrl:function(t){return["$http","$q",function(r,e){return function(n){var a=e.defer();return r({url:t,params:{lang:n},method:"GET"}).success(function(t){a.resolve(t)}).error(function(){a.reject(n)}),a.promise}}]},byStaticFiles:function(t,r){return["$http","$q",function(e,n){return function(a){var o=n.defer();return e({url:[t,a,r].join(""),method:"GET",params:""}).success(function(t){o.resolve(t)}).error(function(){o.reject(a)}),o.promise}}]}},g=function(t,r){if(!t&&!r)return s;if(t&&!r){if(angular.isString(t))return s[t];angular.extend(s,f(t))}else angular.isObject(s[t])||(s[t]={}),angular.extend(s[t],f(r))},f=function(t,r,e){var n,a,o;r||(r=[]),e||(e={});for(n in t)t.hasOwnProperty(n)&&(o=t[n],angular.isObject(o)?f(o,r.concat(n),e):(a=r.length?""+r.join(l)+l+n:n,e[a]=o));return e},d=function(t,r){var e,n=t.get("$q").defer(),a=u[0];return a?(e=t.invoke(a),angular.isFunction(e)?e(r).then(function(t){g(r,t),n.resolve(t)},function(t){n.reject(t)}):n.reject(r)):n.reject(r),n.promise};this.translations=g,this.preferredLanguage=function(t){return t?(r=t,void 0):r},this.uses=function(t){if(!t)return e;if(!s[t]&&!u.length)throw Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");e=t};var p=function(t){return t?(i=t,void 0):a?a+i:i};this.storageKey=p,this.registerLoader=function(t){if(!t)throw Error("Please define a valid loader!");var r;if(angular.isFunction(t)||angular.isArray(t))r=t;else switch(angular.isString(t)&&(t={type:"url",url:t}),t.type){case"url":r=c.forUrl(t.url);break;case"static-files":r=c.byStaticFiles(t.prefix,t.suffix)}u.push(r)},this.useLoaderFactory=function(t){this.registerLoader(t)},this.useLocalStorage=function(){this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){this.useStorage("$translateCookieStorage")},this.useStorage=function(t){n=t},this.storagePrefix=function(t){return t?(a=t,void 0):t},this.useMissingTranslationHandlerLog=function(){this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){o=t},this.$get=["$interpolate","$log","$injector","$rootScope","$q",function(t,a,i,l,c){var g;if(n&&(g=i.get(n),!g.get||!g.set))throw Error("Couldn't use storage '"+n+"', missing get() or set() method!");var f=function(r,n){var a=e?s[e]?s[e][r]:r:s[r];return a?t(a)(n):(o&&i.get(o)(r),r)};return f.preferredLanguage=function(){return r},f.storage=function(){return g},f.uses=function(t){if(!t)return e;var r=c.defer();return s[t]?(e=t,n&&g.set(f.storageKey(),e),r.resolve(e),l.$broadcast("translationChangeSuccess"),r.promise):(d(i,t).then(function(){e=t,n&&g.set(f.storageKey(),e),l.$broadcast("translationChangeSuccess"),r.resolve(e)},function(t){l.$broadcast("translationChangeError"),r.reject(t)}),r.promise)},f.storageKey=function(){return p()},u.length&&angular.equals(s,{})&&f.uses(f.uses()),f}]}]),angular.module("pascalprecht.translate").directive("translate",["$filter","$interpolate",function(t,r){var e=t("translate");return{restrict:"A",scope:!0,link:function(t,n,a){a.$observe("translate",function(e){t.translationId=angular.equals(e,"")?r(n.text().replace(/^\s+|\s+$/g,""))(t.$parent):e}),a.$observe("values",function(r){t.interpolateParams=r}),t.$on("translationChangeSuccess",function(){n.html(e(t.translationId,t.interpolateParams))}),t.$watch("translationId + interpolateParams",function(r){r&&n.html(e(t.translationId,t.interpolateParams))})}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,r){return function(e,n){return angular.isObject(n)||(n=t(n)()),r(e,n)}}]),angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function(t){var r={get:function(r){return t.get(r)},set:function(r,e){t.put(r,e)}};return r}]),angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function(t,r){var e={get:function(r){return t.localStorage.getItem(r)},set:function(r,e){t.localStorage.setItem(r,e)}},n="localStorage"in t&&null!==t.localStorage?e:r;return n}]),angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",["$log",function(t){return function(r){t.warn("Translation for "+r+" doesn't exist")}}]);