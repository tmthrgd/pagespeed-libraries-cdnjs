/*! @license Copyright 2011 Dan Vanderkam (danvdk@gmail.com) MIT-licensed (http://opensource.org/licenses/MIT) */
Date.ext={};Date.ext.util={};Date.ext.util.xPad=function(e,f,d){if(typeof(d)=="undefined"){d=10}for(;parseInt(e,10)<d&&d>1;d/=10){e=f.toString()+e}return e.toString()};Date.prototype.locale="en-GB";if(document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){Date.prototype.locale=document.getElementsByTagName("html")[0].lang}Date.ext.locales={};Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";Date.ext.locales["en-US"].x="%D";Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];Date.ext.formats={a:function(b){return Date.ext.locales[b.locale].a[b.getDay()]},A:function(b){return Date.ext.locales[b.locale].A[b.getDay()]},b:function(b){return Date.ext.locales[b.locale].b[b.getMonth()]},B:function(b){return Date.ext.locales[b.locale].B[b.getMonth()]},c:"toLocaleString",C:function(b){return Date.ext.util.xPad(parseInt(b.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(b){return Date.ext.util.xPad(parseInt(Date.ext.util.G(b)/100,10),0)},G:function(h){var g=h.getFullYear();var d=parseInt(Date.ext.formats.V(h),10);var f=parseInt(Date.ext.formats.W(h),10);if(f>d){g++}else{if(f===0&&d>=52){g--}}return g},H:["getHours","0"],I:function(c){var d=c.getHours()%12;return Date.ext.util.xPad(d===0?12:d,0)},j:function(f){var e=f-new Date(""+f.getFullYear()+"/1/1 GMT");e+=f.getTimezoneOffset()*60000;var d=parseInt(e/60000/60/24,10)+1;return Date.ext.util.xPad(d,0,100)},m:function(b){return Date.ext.util.xPad(b.getMonth()+1,0)},M:["getMinutes","0"],p:function(b){return Date.ext.locales[b.locale].p[b.getHours()>=12?1:0]},P:function(b){return Date.ext.locales[b.locale].P[b.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(d){var c=d.getDay();return c===0?7:c},U:function(g){var f=parseInt(Date.ext.formats.j(g),10);var h=6-g.getDay();var d=parseInt((f+h)/7,10);return Date.ext.util.xPad(d,0)},V:function(g){var h=parseInt(Date.ext.formats.W(g),10);var f=(new Date(""+g.getFullYear()+"/1/1")).getDay();var d=h+(f>4||f<=1?0:1);if(d==53&&(new Date(""+g.getFullYear()+"/12/31")).getDay()<4){d=1}else{if(d===0){d=Date.ext.formats.V(new Date(""+(g.getFullYear()-1)+"/12/31"))}}return Date.ext.util.xPad(d,0)},w:"getDay",W:function(g){var f=parseInt(Date.ext.formats.j(g),10);var h=7-Date.ext.formats.u(g);var d=parseInt((f+h)/7,10);return Date.ext.util.xPad(d,0,10)},y:function(b){return Date.ext.util.xPad(b.getFullYear()%100,0)},Y:"getFullYear",z:function(h){var d=h.getTimezoneOffset();var f=Date.ext.util.xPad(parseInt(Math.abs(d/60),10),0);var g=Date.ext.util.xPad(d%60,0);return(d>0?"-":"+")+f+g},Z:function(b){return b.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(b){return"%"}};Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date());Date.ext.aggregates.Z=Date.ext.formats.Z(new Date());Date.ext.unsupported={};Date.prototype.strftime=function(e){if(!(this.locale in Date.ext.locales)){if(this.locale.replace(/-[a-zA-Z]+$/,"") in Date.ext.locales){this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")}else{this.locale="en-GB"}}var f=this;while(e.match(/%[cDhnrRtTxXzZ]/)){e=e.replace(/%([cDhnrRtTxXzZ])/g,function(b,c){var a=Date.ext.aggregates[c];return(a=="locale"?Date.ext.locales[f.locale][c]:a)})}var d=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(b,c){var a=Date.ext.formats[c];if(typeof(a)=="string"){return f[a]()}else{if(typeof(a)=="function"){return a.call(f,f)}else{if(typeof(a)=="object"&&typeof(a[0])=="string"){return Date.ext.util.xPad(f[a[0]](),a[1])}else{return c}}}});f=null;return d};"use strict";function RGBColorParser(m){this.ok=false;if(m.charAt(0)=="#"){m=m.substr(1,6)}m=m.replace(/ /g,"");m=m.toLowerCase();var q={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var l in q){if(m==l){m=q[l]}}var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(var p=0;p<n.length;p++){var i=n[p].re;var r=n[p].process;var k=i.exec(m);if(k){var o=r(k);this.r=o[0];this.g=o[1];this.b=o[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var a=this.r.toString(16);var b=this.g.toString(16);var c=this.b.toString(16);if(a.length==1){a="0"+a}if(b.length==1){b="0"+b}if(c.length==1){c="0"+c}return"#"+a+b+c}}function printStackTrace(f){f=f||{guess:true};var j=f.e||null,h=!!f.guess;var i=new printStackTrace.implementation(),g=i.run(j);return(h)?i.guessAnonymousFunctions(g):g}printStackTrace.implementation=function(){};printStackTrace.implementation.prototype={run:function(d,c){d=d||this.createException();c=c||this.mode(d);if(c==="other"){return this.other(arguments.callee)}else{return this[c](d)}},createException:function(){try{this.undef()}catch(b){return b}},mode:function(b){if(b["arguments"]&&b.stack){return"chrome"}else{if(typeof b.message==="string"&&typeof window!=="undefined"&&window.opera){if(!b.stacktrace){return"opera9"}if(b.message.indexOf("\n")>-1&&b.message.split("\n").length>b.stacktrace.split("\n").length){return"opera9"}if(!b.stack){return"opera10a"}if(b.stacktrace.indexOf("called from line")<0){return"opera10b"}return"opera11"}else{if(b.stack){return"firefox"}}}return"other"},instrumentFunction:function(f,i,h){f=f||window;var g=f[i];f[i]=function j(){h.call(this,printStackTrace().slice(4));return f[i]._instrumented.apply(this,arguments)};f[i]._instrumented=g},deinstrumentFunction:function(d,c){if(d[c].constructor===Function&&d[c]._instrumented&&d[c]._instrumented.constructor===Function){d[c]=d[c]._instrumented}},chrome:function(c){var d=(c.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n");d.pop();return d},firefox:function(b){return b.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera11:function(o){var t="{anonymous}",n=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;var i=o.stacktrace.split("\n"),e=[];for(var r=0,p=i.length;r<p;r+=2){var q=n.exec(i[r]);if(q){var m=q[4]+":"+q[1]+":"+q[2];var s=q[3]||"global code";s=s.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,t);e.push(s+"@"+m+" -- "+i[r+1].replace(/^\s+/,""))}}return e},opera10b:function(m){var r="{anonymous}",l=/^(.*)@(.+):(\d+)$/;var i=m.stacktrace.split("\n"),e=[];for(var p=0,n=i.length;p<n;p++){var o=l.exec(i[p]);if(o){var q=o[1]?(o[1]+"()"):"global code";e.push(q+"@"+o[2]+":"+o[3])}}return e},opera10a:function(m){var r="{anonymous}",l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var i=m.stacktrace.split("\n"),e=[];for(var p=0,n=i.length;p<n;p+=2){var o=l.exec(i[p]);if(o){var q=o[3]||r;e.push(q+"()@"+o[2]+":"+o[1]+" -- "+i[p+1].replace(/^\s+/,""))}}return e},opera9:function(k){var o="{anonymous}",l=/Line (\d+).*script (?:in )?(\S+)/i;var p=k.message.split("\n"),e=[];for(var m=2,i=p.length;m<i;m+=2){var n=l.exec(p[m]);if(n){e.push(o+"()@"+n[2]+":"+n[1]+" -- "+p[m+1].replace(/^\s+/,""))}}return e},other:function(j){var h="{anonymous}",k=/function\s*([\w\-$]+)?\s*\(/i,i=[],m,n,l=10;while(j&&i.length<l){m=k.test(j.toString())?RegExp.$1||h:h;n=Array.prototype.slice.call(j["arguments"]||[]);i[i.length]=m+"("+this.stringifyArguments(n)+")";j=j.caller}return i},stringifyArguments:function(j){var f=[];var h=Array.prototype.slice;for(var i=0;i<j.length;++i){var g=j[i];if(g===undefined){f[i]="undefined"}else{if(g===null){f[i]="null"}else{if(g.constructor){if(g.constructor===Array){if(g.length<3){f[i]="["+this.stringifyArguments(g)+"]"}else{f[i]="["+this.stringifyArguments(h.call(g,0,1))+"..."+this.stringifyArguments(h.call(g,-1))+"]"}}else{if(g.constructor===Object){f[i]="#object"}else{if(g.constructor===Function){f[i]="#function"}else{if(g.constructor===String){f[i]='"'+g+'"'}else{if(g.constructor===Number){f[i]=g}}}}}}}}}return f.join(",")},sourceCache:{},ajax:function(e){var d=this.createXMLHTTPObject();if(d){try{d.open("GET",e,false);d.send(null);return d.responseText}catch(f){}}return""},createXMLHTTPObject:function(){var h,f=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var e=0;e<f.length;e++){try{h=f[e]();this.createXMLHTTPObject=f[e];return h}catch(g){}}},isSameDomain:function(b){return b.indexOf(location.hostname)!==-1},getSource:function(b){if(!(b in this.sourceCache)){this.sourceCache[b]=this.ajax(b).split("\n")}return this.sourceCache[b]},guessAnonymousFunctions:function(m){for(var p=0;p<m.length;++p){var q=/\{anonymous\}\(.*\)@(.*)/,i=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,u=m[p],t=q.exec(u);if(t){var r=i.exec(t[1]),s=r[1],v=r[2],n=r[3]||0;if(s&&this.isSameDomain(s)&&v){var o=this.guessAnonymousFunction(s,v,n);m[p]=u.replace("{anonymous}",o)}}}return m},guessAnonymousFunction:function(j,h,g){var e;try{e=this.findFunctionName(this.getSource(j),h)}catch(i){e="getSource failed with url: "+j+", exception: "+i.toString()}return e},findFunctionName:function(v,r){var p=/function\s+([^(]*?)\s*\(([^)]*)\)/;var m=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*function\b/;var o=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(?:eval|new Function)\b/;var u="",i,n=Math.min(r,20),s,t;for(var q=0;q<n;++q){i=v[r-q-1];t=i.indexOf("//");if(t>=0){i=i.substr(0,t)}if(i){u=i+u;s=m.exec(u);if(s&&s[1]){return s[1]}s=p.exec(u);if(s&&s[1]){return s[1]}s=o.exec(u);if(s&&s[1]){return s[1]}}}return"(?)"}};CanvasRenderingContext2D.prototype.installPattern=function(l){if(typeof(this.isPatternInstalled)!=="undefined"){throw"Must un-install old line pattern before installing a new one."}this.isPatternInstalled=true;var j=[0,0];var h=[];var k=this.beginPath;var m=this.lineTo;var n=this.moveTo;var i=this.stroke;this.uninstallPattern=function(){this.beginPath=k;this.lineTo=m;this.moveTo=n;this.stroke=i;this.uninstallPattern=undefined;this.isPatternInstalled=undefined};this.beginPath=function(){h=[];k.call(this)};this.moveTo=function(b,a){h.push([[b,a]]);n.call(this,b,a)};this.lineTo=function(c,a){var b=h[h.length-1];b.push([c,a])};this.stroke=function(){if(h.length===0){i.call(this);return}for(var c=0;c<h.length;c++){var d=h[c];var g=d[0][0],B=d[0][1];for(var e=1;e<d.length;e++){var y=d[e][0],D=d[e][1];this.save();var z=(y-g);var A=(D-B);var a=Math.sqrt(z*z+A*A);var x=Math.atan2(A,z);this.translate(g,B);n.call(this,0,0);this.rotate(x);var f=j[0];var C=0;while(a>C){var b=l[f];if(j[1]){C+=j[1]}else{C+=b}if(C>a){j=[f,C-a];C=a}else{j=[(f+1)%l.length,0]}if(f%2===0){m.call(this,C,0)}else{n.call(this,C,0)}f=(f+1)%l.length}this.restore();g=y,B=D}}i.call(this);h=[]}};CanvasRenderingContext2D.prototype.uninstallPattern=function(){throw"Must install a line pattern before uninstalling it."};var DygraphOptions=(function(){var b=function(a){this.dygraph_=a;this.yAxes_=[];this.xAxis_={};this.series_={};this.global_=this.dygraph_.attrs_;this.user_=this.dygraph_.user_attrs_||{};this.labels_=[];this.highlightSeries_=this.get("highlightSeriesOpts")||{};this.reparseSeries()};b.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};b.axisToIndex_=function(a){if(typeof(a)=="string"){if(b.AXIS_STRING_MAPPINGS_.hasOwnProperty(a)){return b.AXIS_STRING_MAPPINGS_[a]}throw"Unknown axis : "+a}if(typeof(a)=="number"){if(a===0||a===1){return a}throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(a){throw"Unknown axis : "+a}return 0};b.prototype.reparseSeries=function(){var m=this.get("labels");if(!m){return}this.labels_=m.slice(1);this.yAxes_=[{series:[],options:{}}];this.xAxis_={options:{}};this.series_={};var l=!this.user_.series;if(l){var q=0;for(var a=0;a<this.labels_.length;a++){var k=this.labels_[a];var o=this.user_[k]||{};var r=0;var p=o.axis;if(typeof(p)=="object"){r=++q;this.yAxes_[r]={series:[k],options:p}}if(!p){this.yAxes_[0].series.push(k)}this.series_[k]={idx:a,yAxis:r,options:o}}for(var a=0;a<this.labels_.length;a++){var k=this.labels_[a];var o=this.series_[k]["options"];var p=o.axis;if(typeof(p)=="string"){if(!this.series_.hasOwnProperty(p)){Dygraph.error("Series "+k+" wants to share a y-axis with series "+p+", which does not define its own axis.");return}var r=this.series_[p].yAxis;this.series_[k].yAxis=r;this.yAxes_[r].series.push(k)}}}else{for(var a=0;a<this.labels_.length;a++){var k=this.labels_[a];var o=this.user_.series[k]||{};var r=b.axisToIndex_(o.axis);this.series_[k]={idx:a,yAxis:r,options:o};if(!this.yAxes_[r]){this.yAxes_[r]={series:[k],options:{}}}else{this.yAxes_[r].series.push(k)}}}var n=this.user_.axes||{};Dygraph.update(this.yAxes_[0].options,n.y||{});if(this.yAxes_.length>1){Dygraph.update(this.yAxes_[1].options,n.y2||{})}Dygraph.update(this.xAxis_.options,n.x||{})};b.prototype.get=function(d){var a=this.getGlobalUser_(d);if(a!==null){return a}return this.getGlobalDefault_(d)};b.prototype.getGlobalUser_=function(a){if(this.user_.hasOwnProperty(a)){return this.user_[a]}return null};b.prototype.getGlobalDefault_=function(a){if(this.global_.hasOwnProperty(a)){return this.global_[a]}if(Dygraph.DEFAULT_ATTRS.hasOwnProperty(a)){return Dygraph.DEFAULT_ATTRS[a]}return null};b.prototype.getForAxis=function(o,n){var m;var j;if(typeof(n)=="number"){m=n;j=m===0?"y":"y2"}else{if(n=="y1"){n="y"}if(n=="y"){m=0}else{if(n=="y2"){m=1}else{if(n=="x"){m=-1}else{throw"Unknown axis "+n}}}j=n}var l=(m==-1)?this.xAxis_:this.yAxes_[m];if(l){var k=l.options;if(k.hasOwnProperty(o)){return k[o]}}var p=this.getGlobalUser_(o);if(p!==null){return p}var a=Dygraph.DEFAULT_ATTRS.axes[j];if(a.hasOwnProperty(o)){return a[o]}return this.getGlobalDefault_(o)};b.prototype.getForSeries=function(h,f){if(f===this.dygraph_.getHighlightSeries()){if(this.highlightSeries_.hasOwnProperty(h)){return this.highlightSeries_[h]}}if(!this.series_.hasOwnProperty(f)){throw"Unknown series: "+f}var g=this.series_[f];var a=g.options;if(a.hasOwnProperty(h)){return a[h]}return this.getForAxis(h,g.yAxis)};b.prototype.numAxes=function(){return this.yAxes_.length};b.prototype.axisForSeries=function(a){return this.series_[a].yAxis};b.prototype.axisOptions=function(a){return this.yAxes_[a].options};b.prototype.seriesForAxis=function(a){return this.yAxes_[a].series};b.prototype.seriesNames=function(){return this.labels_};return b})();"use strict";var DygraphLayout=function(b){this.dygraph_=b;this.points=[];this.setNames=[];this.annotations=[];this.yAxes_=null;this.xTicks_=null;this.yTicks_=null};DygraphLayout.prototype.attr_=function(b){return this.dygraph_.attr_(b)};DygraphLayout.prototype.addDataset=function(d,c){this.points.push(c);this.setNames.push(d)};DygraphLayout.prototype.getPlotArea=function(){return this.area_};DygraphLayout.prototype.computePlotArea=function(){var d={x:0,y:0};d.w=this.dygraph_.width_-d.x-this.attr_("rightGap");d.h=this.dygraph_.height_;var c={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(b){var a={x:d.x,y:d.y,w:b,h:d.h};d.x+=b;d.w-=b;return a},reserveSpaceRight:function(b){var a={x:d.x+d.w-b,y:d.y,w:b,h:d.h};d.w-=b;return a},reserveSpaceTop:function(b){var a={x:d.x,y:d.y,w:d.w,h:b};d.y+=b;d.h-=b;return a},reserveSpaceBottom:function(b){var a={x:d.x,y:d.y+d.h-b,w:d.w,h:b};d.h-=b;return a},chartRect:function(){return{x:d.x,y:d.y,w:d.w,h:d.h}}};this.dygraph_.cascadeEvents_("layout",c);this.area_=d};DygraphLayout.prototype.setAnnotations=function(g){this.annotations=[];var f=this.attr_("xValueParser")||function(b){return b};for(var h=0;h<g.length;h++){var a={};if(!g[h].xval&&g[h].x===undefined){this.dygraph_.error("Annotations must have an 'x' property");return}if(g[h].icon&&!(g[h].hasOwnProperty("width")&&g[h].hasOwnProperty("height"))){this.dygraph_.error("Must set width and height when setting annotation.icon property");return}Dygraph.update(a,g[h]);if(!a.xval){a.xval=f(a.x)}this.annotations.push(a)}};DygraphLayout.prototype.setXTicks=function(b){this.xTicks_=b};DygraphLayout.prototype.setYAxes=function(b){this.yAxes_=b};DygraphLayout.prototype.evaluate=function(){this._evaluateLimits();this._evaluateLineCharts();this._evaluateLineTicks();this._evaluateAnnotations()};DygraphLayout.prototype._evaluateLimits=function(){var f=this.dygraph_.xAxisRange();this.minxval=f[0];this.maxxval=f[1];var g=f[1]-f[0];this.xscale=(g!==0?1/g:1);for(var e=0;e<this.yAxes_.length;e++){var h=this.yAxes_[e];h.minyval=h.computedValueRange[0];h.maxyval=h.computedValueRange[1];h.yrange=h.maxyval-h.minyval;h.yscale=(h.yrange!==0?1/h.yrange:1);if(h.g.attr_("logscale")){h.ylogrange=Dygraph.log10(h.maxyval)-Dygraph.log10(h.minyval);h.ylogscale=(h.ylogrange!==0?1/h.ylogrange:1);if(!isFinite(h.ylogrange)||isNaN(h.ylogrange)){h.g.error("axis "+e+" of graph at "+h.g+" can't be displayed in log scale for range ["+h.minyval+" - "+h.maxyval+"]")}}}};DygraphLayout._calcYNormal=function(d,f,e){if(e){return 1-((Dygraph.log10(f)-Dygraph.log10(d.minyval))*d.ylogscale)}else{return 1-((f-d.minyval)*d.yscale)}};DygraphLayout.prototype._evaluateLineCharts=function(){var t=this.attr_("connectSeparatedPoints");var m=this.attr_("stackedGraph");var r=this.attr_("errorBars")||this.attr_("customBars");for(var v=0;v<this.points.length;v++){var j=this.points[v];var q=this.setNames[v];var u=this.dygraph_.axisPropertiesForSeries(q);var p=this.dygraph_.attributes_.getForSeries("logscale",q);for(var s=0;s<j.length;s++){var n=j[s];n.x=(n.xval-this.minxval)*this.xscale;var o=n.yval;if(m){n.y_stacked=DygraphLayout._calcYNormal(u,n.yval_stacked,p);if(o!==null&&!isNaN(o)){o=n.yval_stacked}}if(o===null){o=NaN;if(!t){n.yval=NaN}}n.y=DygraphLayout._calcYNormal(u,o,p);if(r){n.y_top=DygraphLayout._calcYNormal(u,o-n.yval_minus,p);n.y_bottom=DygraphLayout._calcYNormal(u,o+n.yval_plus,p)}}}};DygraphLayout.parseFloat_=function(b){if(b===null){return NaN}return b};DygraphLayout.prototype._evaluateLineTicks=function(){var k,l,g,i;this.xticks=[];for(k=0;k<this.xTicks_.length;k++){l=this.xTicks_[k];g=l.label;i=this.xscale*(l.v-this.minxval);if((i>=0)&&(i<=1)){this.xticks.push([i,g])}}this.yticks=[];for(k=0;k<this.yAxes_.length;k++){var j=this.yAxes_[k];for(var h=0;h<j.ticks.length;h++){l=j.ticks[h];g=l.label;i=this.dygraph_.toPercentYCoord(l.v,k);if((i>=0)&&(i<=1)){this.yticks.push([k,i,g])}}}};DygraphLayout.prototype._evaluateAnnotations=function(){var m;var j={};for(m=0;m<this.annotations.length;m++){var a=this.annotations[m];j[a.xval+","+a.series]=a}this.annotated_points=[];if(!this.annotations||!this.annotations.length){return}for(var i=0;i<this.points.length;i++){var l=this.points[i];for(m=0;m<l.length;m++){var k=l[m];var n=k.xval+","+k.name;if(n in j){k.annotation=j[n];this.annotated_points.push(k)}}}};DygraphLayout.prototype.removeAllDatasets=function(){delete this.points;delete this.setNames;delete this.setPointsLengths;delete this.setPointsOffsets;this.points=[];this.setNames=[];this.setPointsLengths=[];this.setPointsOffsets=[]};"use strict";var DygraphCanvasRenderer=function(i,j,f,h){this.dygraph_=i;this.layout=h;this.element=j;this.elementContext=f;this.container=this.element.parentNode;this.height=this.element.height;this.width=this.element.width;if(!this.isIE&&!(DygraphCanvasRenderer.isSupported(this.element))){throw"Canvas is not supported."}this.area=h.getPlotArea();this.container.style.position="relative";this.container.style.width=this.width+"px";if(this.dygraph_.isUsingExcanvas_){this._createIEClipArea()}else{if(!Dygraph.isAndroid()){var g=this.dygraph_.canvas_ctx_;g.beginPath();g.rect(this.area.x,this.area.y,this.area.w,this.area.h);g.clip();g=this.dygraph_.hidden_ctx_;g.beginPath();g.rect(this.area.x,this.area.y,this.area.w,this.area.h);g.clip()}}};DygraphCanvasRenderer.prototype.attr_=function(d,c){return this.dygraph_.attr_(d,c)};DygraphCanvasRenderer.prototype.clear=function(){var d;if(this.isIE){try{if(this.clearDelay){this.clearDelay.cancel();this.clearDelay=null}d=this.elementContext}catch(c){return}}d=this.elementContext;d.clearRect(0,0,this.width,this.height)};DygraphCanvasRenderer.isSupported=function(h){var e=null;try{if(typeof(h)=="undefined"||h===null){e=document.createElement("canvas")}else{e=h}e.getContext("2d")}catch(j){var i=navigator.appVersion.match(/MSIE (\d\.\d)/);var g=(navigator.userAgent.toLowerCase().indexOf("opera")!=-1);if((!i)||(i[1]<6)||(g)){return false}return true}return true};DygraphCanvasRenderer.prototype.render=function(){this._updatePoints();this._renderLineChart()};DygraphCanvasRenderer.prototype._createIEClipArea=function(){var l="dygraph-clip-div";var m=this.dygraph_.graphDiv;for(var n=m.childNodes.length-1;n>=0;n--){if(m.childNodes[n].className==l){m.removeChild(m.childNodes[n])}}var p=document.bgColor;var o=this.dygraph_.graphDiv;while(o!=document){var j=o.currentStyle.backgroundColor;if(j&&j!="transparent"){p=j;break}o=o.parentNode}function i(a){if(a.w===0||a.h===0){return}var b=document.createElement("div");b.className=l;b.style.backgroundColor=p;b.style.position="absolute";b.style.left=a.x+"px";b.style.top=a.y+"px";b.style.width=a.w+"px";b.style.height=a.h+"px";m.appendChild(b)}var k=this.area;i({x:0,y:0,w:k.x,h:this.height});i({x:k.x,y:0,w:this.width-k.x,h:k.y});i({x:k.x+k.w,y:0,w:this.width-k.x-k.w,h:this.height});i({x:k.x,y:k.y+k.h,w:this.width-k.x,h:this.height-k.h-k.y})};DygraphCanvasRenderer._getIteratorPredicate=function(b){return b?DygraphCanvasRenderer._predicateThatSkipsEmptyPoints:null};DygraphCanvasRenderer._predicateThatSkipsEmptyPoints=function(c,d){return c[d].yval!==null};DygraphCanvasRenderer._drawStyledLine=function(x,D,t,e,z,s,A){var y=x.dygraph;var B=y.getOption("stepPlot",x.setName);if(!Dygraph.isArrayLike(e)){e=null}var u=y.getOption("drawGapEdgePoints",x.setName);var r=x.points;var v=Dygraph.createIterator(r,0,r.length,DygraphCanvasRenderer._getIteratorPredicate(y.getOption("connectSeparatedPoints")));var w=e&&(e.length>=2);var g=x.drawingContext;g.save();if(w){g.installPattern(e)}var C=DygraphCanvasRenderer._drawSeries(x,v,t,A,z,u,B,D);DygraphCanvasRenderer._drawPointsOnLine(x,C,s,D,A);if(w){g.uninstallPattern()}g.restore()};DygraphCanvasRenderer._drawSeries=function(i,y,F,J,C,z,K,B){var O=null;var e=null;var H=null;var I;var D;var G=[];var L=true;var E=i.drawingContext;E.beginPath();E.strokeStyle=B;E.lineWidth=F;var N=y.array_;var x=y.end_;var P=y.predicate_;for(var A=y.start_;A<x;A++){D=N[A];if(P){while(A<x&&!P(N,A)){A++}if(A==x){break}D=N[A]}if(D.canvasy===null||D.canvasy!=D.canvasy){if(K&&O!==null){E.moveTo(O,e);E.lineTo(D.canvasx,e)}O=e=null}else{I=false;if(z||!O){y.nextIdx_=A;y.next();H=y.hasNext?y.peek.canvasy:null;var M=H===null||H!=H;I=(!O&&M);if(z){if((!L&&!O)||(y.hasNext&&M)){I=true}}}if(O!==null){if(F){if(K){E.moveTo(O,e);E.lineTo(D.canvasx,e)}E.lineTo(D.canvasx,D.canvasy)}}else{E.moveTo(D.canvasx,D.canvasy)}if(C||I){G.push([D.canvasx,D.canvasy,D.idx])}O=D.canvasx;e=D.canvasy}L=false}E.stroke();return G};DygraphCanvasRenderer._drawPointsOnLine=function(l,k,n,o,m){var p=l.drawingContext;for(var e=0;e<k.length;e++){var j=k[e];p.save();n(l.dygraph,l.setName,p,j[0],j[1],o,m,j[2]);p.restore()}};DygraphCanvasRenderer.prototype._updatePoints=function(){var h=this.layout.points;for(var j=h.length;j--;){var i=h[j];for(var f=i.length;f--;){var g=i[f];g.canvasx=this.area.w*g.x+this.area.x;g.canvasy=this.area.h*g.y+this.area.y}}};DygraphCanvasRenderer.prototype._renderLineChart=function(D,i){var C=i||this.elementContext;var y;var J=this.layout.points;var p=this.layout.setNames;var I;this.colors=this.dygraph_.colorsMap_;var x=this.attr_("plotter");var E=x;if(!Dygraph.isArrayLike(E)){E=[E]}var H={};for(y=0;y<p.length;y++){I=p[y];var j=this.attr_("plotter",I);if(j==x){continue}H[I]=j}for(y=0;y<E.length;y++){var v=E[y];var w=(y==E.length-1);for(var A=0;A<J.length;A++){I=p[A];if(D&&I!=D){continue}var z=J[A];var F=v;if(I in H){if(w){F=H[I]}else{continue}}var B=this.colors[I];var G=this.dygraph_.getOption("strokeWidth",I);C.save();C.strokeStyle=B;C.lineWidth=G;F({points:z,setName:I,drawingContext:C,color:B,strokeWidth:G,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(I),plotArea:this.area,seriesIndex:A,seriesCount:J.length,singleSeriesName:D,allSeriesPoints:J});C.restore()}}};DygraphCanvasRenderer._Plotters={linePlotter:function(b){DygraphCanvasRenderer._linePlotter(b)},fillPlotter:function(b){DygraphCanvasRenderer._fillPlotter(b)},errorPlotter:function(b){DygraphCanvasRenderer._errorPlotter(b)}};DygraphCanvasRenderer._linePlotter=function(n){var o=n.dygraph;var m=n.setName;var l=n.strokeWidth;var r=o.getOption("strokeBorderWidth",m);var g=o.getOption("drawPointCallback",m)||Dygraph.Circles.DEFAULT;var e=o.getOption("strokePattern",m);var p=o.getOption("drawPoints",m);var q=o.getOption("pointSize",m);if(r&&l){DygraphCanvasRenderer._drawStyledLine(n,o.getOption("strokeBorderColor",m),l+2*r,e,p,g,q)}DygraphCanvasRenderer._drawStyledLine(n,n.color,l,e,p,g,q)};DygraphCanvasRenderer._errorPlotter=function(v){var w=v.dygraph;var H=v.setName;var g=w.getOption("errorBars")||w.getOption("customBars");if(!g){return}var D=w.getOption("fillGraph",H);if(D){w.warn("Can't use fillGraph option with error bars")}var B=v.drawingContext;var A=v.color;var z=w.getOption("fillAlpha",H);var F=w.getOption("stepPlot",H);var y=v.points;var x=Dygraph.createIterator(y,0,y.length,DygraphCanvasRenderer._getIteratorPredicate(w.getOption("connectSeparatedPoints")));var E;var G=NaN;var J=NaN;var I=[-1,-1];var L=new RGBColorParser(A);var e="rgba("+L.r+","+L.g+","+L.b+","+z+")";B.fillStyle=e;B.beginPath();var K=function(a){return(a===null||a===undefined||isNaN(a))};while(x.hasNext){var C=x.next();if((!F&&K(C.y))||(F&&!isNaN(J)&&K(J))){G=NaN;continue}if(F){E=[C.y_bottom,C.y_top];J=C.y}else{E=[C.y_bottom,C.y_top]}E[0]=v.plotArea.h*E[0]+v.plotArea.y;E[1]=v.plotArea.h*E[1]+v.plotArea.y;if(!isNaN(G)){if(F){B.moveTo(G,I[0]);B.lineTo(C.canvasx,I[0]);B.lineTo(C.canvasx,I[1])}else{B.moveTo(G,I[0]);B.lineTo(C.canvasx,E[0]);B.lineTo(C.canvasx,E[1])}B.lineTo(G,I[1]);B.closePath()}I=E;G=C.canvasx}B.fill()};DygraphCanvasRenderer._fillPlotter=function(O){if(O.singleSeriesName){return}if(O.seriesIndex!==0){return}var T=O.dygraph;var J=T.getLabels().slice(1);for(var U=J.length;U>=0;U--){if(!T.visibility()[U]){J.splice(U,1)}}var ag=(function(){for(var a=0;a<J.length;a++){if(T.getOption("fillGraph",J[a])){return true}}return false})();if(!ag){return}var L=O.drawingContext;var R=O.plotArea;var aj=O.allSeriesPoints;var e=aj.length;var g=T.getOption("fillAlpha");var ae=T.getOption("stackedGraph");var X=T.getColors();var S={};var al;var V;for(var P=e-1;P>=0;P--){var ab=J[P];if(!T.getOption("fillGraph",ab)){continue}var Z=T.getOption("stepPlot",ab);var i=X[P];var ah=T.axisPropertiesForSeries(ab);var ai=1+ah.minyval*ah.yscale;if(ai<0){ai=0}else{if(ai>1){ai=1}}ai=R.h*ai+R.y;var W=aj[P];var Y=Dygraph.createIterator(W,0,W.length,DygraphCanvasRenderer._getIteratorPredicate(T.getOption("connectSeparatedPoints")));var ac=NaN;var ad=[-1,-1];var Q;var ak=new RGBColorParser(i);var K="rgba("+ak.r+","+ak.g+","+ak.b+","+g+")";L.fillStyle=K;L.beginPath();var af,N=true;while(Y.hasNext){var M=Y.next();if(!Dygraph.isOK(M.y)){ac=NaN;if(M.y_stacked!==null&&!isNaN(M.y_stacked)){S[M.canvasx]=R.h*M.y_stacked+R.y}continue}if(ae){if(!N&&af==M.xval){continue}else{N=false;af=M.xval}al=S[M.canvasx];var aa;if(al===undefined){aa=ai}else{if(V){aa=al[0]}else{aa=al}}Q=[M.canvasy,aa];if(Z){if(ad[0]===-1){S[M.canvasx]=[M.canvasy,ai]}else{S[M.canvasx]=[M.canvasy,ad[0]]}}else{S[M.canvasx]=M.canvasy}}else{Q=[M.canvasy,ai]}if(!isNaN(ac)){L.moveTo(ac,ad[0]);if(Z){L.lineTo(M.canvasx,ad[0])}else{L.lineTo(M.canvasx,Q[0])}if(V&&al){L.lineTo(M.canvasx,al[1])}else{L.lineTo(M.canvasx,Q[1])}L.lineTo(ac,ad[1]);L.closePath()}ad=Q;ac=M.canvasx}V=Z;L.fill()}};"use strict";var Dygraph=function(g,h,e,f){this.is_initial_draw_=true;this.readyFns_=[];if(f!==undefined){this.warn("Using deprecated four-argument dygraph constructor");this.__old_init__(g,h,e,f)}else{this.__init__(g,h,e)}};Dygraph.NAME="Dygraph";Dygraph.VERSION="1.0.1";Dygraph.__repr__=function(){return"["+this.NAME+" "+this.VERSION+"]"};Dygraph.toString=function(){return this.__repr__()};Dygraph.DEFAULT_ROLL_PERIOD=1;Dygraph.DEFAULT_WIDTH=480;Dygraph.DEFAULT_HEIGHT=320;Dygraph.ANIMATION_STEPS=12;Dygraph.ANIMATION_DURATION=200;Dygraph.KMB_LABELS=["K","M","B","T","Q"];Dygraph.KMG2_BIG_LABELS=["k","M","G","T","P","E","Z","Y"];Dygraph.KMG2_SMALL_LABELS=["m","u","n","p","f","a","z","y"];Dygraph.numberValueFormatter=function(H,E,F,w){var A=E("sigFigs");if(A!==null){return Dygraph.floatFormat(H,A)}var C=E("digitsAfterDecimal");var n=E("maxNumberWidth");var D=E("labelsKMB");var g=E("labelsKMG2");var j;if(H!==0&&(Math.abs(H)>=Math.pow(10,n)||Math.abs(H)<Math.pow(10,-C))){j=H.toExponential(C)}else{j=""+Dygraph.round_(H,C)}if(D||g){var z;var G=[];var v=[];if(D){z=1000;G=Dygraph.KMB_LABELS}if(g){if(D){Dygraph.warn("Setting both labelsKMB and labelsKMG2. Pick one!")}z=1024;G=Dygraph.KMG2_BIG_LABELS;v=Dygraph.KMG2_SMALL_LABELS}var k=Math.abs(H);var B=Dygraph.pow(z,G.length);for(var y=G.length-1;y>=0;y--,B/=z){if(k>=B){j=Dygraph.round_(H/B,C)+G[y];break}}if(g){var x=String(H.toExponential()).split("e-");if(x.length===2&&x[1]>=3&&x[1]<=24){if(x[1]%3>0){j=Dygraph.round_(x[0]/Dygraph.pow(10,(x[1]%3)),C)}else{j=Number(x[0]).toFixed(2)}j+=v[Math.floor(x[1]/3)-1]}}}return j};Dygraph.numberAxisLabelFormatter=function(f,g,h,e){return Dygraph.numberValueFormatter(f,h,e)};Dygraph.dateString_=function(o){var k=Dygraph.zeropad;var l=new Date(o);var n=""+l.getFullYear();var m=k(l.getMonth()+1);var j=k(l.getDate());var p="";var d=l.getHours()*3600+l.getMinutes()*60+l.getSeconds();if(d){p=" "+Dygraph.hmsString_(o)}return n+"/"+m+"/"+j+p};Dygraph.dateAxisFormatter=function(d,f){if(f>=Dygraph.DECADAL){return d.strftime("%Y")}else{if(f>=Dygraph.MONTHLY){return d.strftime("%b %y")}else{var e=d.getHours()*3600+d.getMinutes()*60+d.getSeconds()+d.getMilliseconds();if(e===0||f>=Dygraph.DAILY){return new Date(d.getTime()+3600*1000).strftime("%d%b")}else{return Dygraph.hmsString_(d.getTime())}}}};Dygraph.Plotters=DygraphCanvasRenderer._Plotters;Dygraph.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:0.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:false,labelsShowZeroValues:true,labelsKMB:false,labelsKMG2:false,showLabelsOnHighlight:true,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,xAxisLabelWidth:50,yAxisLabelWidth:50,rightGap:5,showRoller:false,xValueParser:Dygraph.dateParser,delimiter:",",sigma:2,errorBars:false,fractions:false,wilsonInterval:true,customBars:false,fillGraph:false,fillAlpha:0.15,connectSeparatedPoints:false,stackedGraph:false,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:true,legend:"onmouseover",stepPlot:false,avoidMinZero:false,xRangePad:0,yRangePad:null,drawAxesAtZero:false,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:true,drawYAxis:true,axisLineColor:"black",axisLineWidth:0.3,gridLineWidth:0.3,axisLabelColor:"black",axisLabelFont:"Arial",axisLabelWidth:50,drawYGrid:true,drawXGrid:true,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:false,showRangeSelector:false,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillColor:"#A7B1C4",plotter:[Dygraph.Plotters.fillPlotter,Dygraph.Plotters.errorPlotter,Dygraph.Plotters.linePlotter],plugins:[],axes:{x:{pixelsPerLabel:60,axisLabelFormatter:Dygraph.dateAxisFormatter,valueFormatter:Dygraph.dateString_,drawGrid:true,independentTicks:true,ticker:null},y:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,drawGrid:true,independentTicks:true,ticker:null},y2:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,drawGrid:false,independentTicks:false,ticker:null}}};Dygraph.HORIZONTAL=1;Dygraph.VERTICAL=2;Dygraph.PLUGINS=[];Dygraph.addedAnnotationCSS=false;Dygraph.prototype.__old_init__=function(i,k,j,g){if(j!==null){var h=["Date"];for(var l=0;l<j.length;l++){h.push(j[l])}Dygraph.update(g,{labels:h})}this.__init__(i,k,g)};Dygraph.prototype.__init__=function(B,z,r){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&typeof(G_vmlCanvasManager)!="undefined"&&document.readyState!="complete"){var i=this;setTimeout(function(){i.__init__(B,z,r)},100);return}if(r===null||r===undefined){r={}}r=Dygraph.mapLegacyOptions_(r);if(typeof(B)=="string"){B=document.getElementById(B)}if(!B){Dygraph.error("Constructing dygraph with a non-existent div!");return}this.isUsingExcanvas_=typeof(G_vmlCanvasManager)!="undefined";this.maindiv_=B;this.file_=z;this.rollPeriod_=r.rollPeriod||Dygraph.DEFAULT_ROLL_PERIOD;this.previousVerticalX_=-1;this.fractions_=r.fractions||false;this.dateWindow_=r.dateWindow||null;this.annotations_=[];this.zoomed_x_=false;this.zoomed_y_=false;B.innerHTML="";if(B.style.width===""&&r.width){B.style.width=r.width+"px"}if(B.style.height===""&&r.height){B.style.height=r.height+"px"}if(B.style.height===""&&B.clientHeight===0){B.style.height=Dygraph.DEFAULT_HEIGHT+"px";if(B.style.width===""){B.style.width=Dygraph.DEFAULT_WIDTH+"px"}}this.width_=B.clientWidth||r.width||0;this.height_=B.clientHeight||r.height||0;if(r.stackedGraph){r.fillGraph=true}this.user_attrs_={};Dygraph.update(this.user_attrs_,r);this.attrs_={};Dygraph.updateDeep(this.attrs_,Dygraph.DEFAULT_ATTRS);this.boundaryIds_=[];this.setIndexByName_={};this.datasetIndex_=[];this.registeredEvents_=[];this.eventListeners_={};this.attributes_=new DygraphOptions(this);this.createInterface_();this.plugins_=[];var y=Dygraph.PLUGINS.concat(this.getOption("plugins"));for(var v=0;v<y.length;v++){var s=y[v];var w=new s();var t={plugin:w,events:{},options:{},pluginOptions:{}};var A=w.activate(this);for(var u in A){t.events[u]=A[u]}this.plugins_.push(t)}for(var v=0;v<this.plugins_.length;v++){var p=this.plugins_[v];for(var u in p.events){if(!p.events.hasOwnProperty(u)){continue}var q=p.events[u];var x=[p.plugin,q];if(!(u in this.eventListeners_)){this.eventListeners_[u]=[x]}else{this.eventListeners_[u].push(x)}}}this.createDragInterface_();this.start_()};Dygraph.prototype.cascadeEvents_=function(n,e){if(!(n in this.eventListeners_)){return true}var k={dygraph:this,cancelable:false,defaultPrevented:false,preventDefault:function(){if(!k.cancelable){throw"Cannot call preventDefault on non-cancelable event."}k.defaultPrevented=true},propagationStopped:false,stopPropagation:function(){k.propagationStopped=true}};Dygraph.update(k,e);var i=this.eventListeners_[n];if(i){for(var m=i.length-1;m>=0;m--){var l=i[m][0];var j=i[m][1];j.call(l,k);if(k.propagationStopped){break}}}return k.defaultPrevented};Dygraph.prototype.isZoomed=function(b){if(b===null||b===undefined){return this.zoomed_x_||this.zoomed_y_}if(b==="x"){return this.zoomed_x_}if(b==="y"){return this.zoomed_y_}throw"axis parameter is ["+b+"] must be null, 'x' or 'y'."};Dygraph.prototype.toString=function(){var d=this.maindiv_;var c=(d&&d.id)?d.id:d;return"[Dygraph "+c+"]"};Dygraph.prototype.attr_=function(c,d){return d?this.attributes_.getForSeries(c,d):this.attributes_.get(c)};Dygraph.prototype.getOption=function(d,c){return this.attr_(d,c)};Dygraph.prototype.getOptionForAxis=function(d,c){return this.attributes_.getForAxis(d,c)};Dygraph.prototype.optionsViewForAxis_=function(c){var d=this;return function(b){var a=d.user_attrs_.axes;if(a&&a[c]&&a[c].hasOwnProperty(b)){return a[c][b]}if(typeof(d.user_attrs_[b])!="undefined"){return d.user_attrs_[b]}a=d.attrs_.axes;if(a&&a[c]&&a[c].hasOwnProperty(b)){return a[c][b]}if(c=="y"&&d.axes_[0].hasOwnProperty(b)){return d.axes_[0][b]}else{if(c=="y2"&&d.axes_[1].hasOwnProperty(b)){return d.axes_[1][b]}}return d.attr_(b)}};Dygraph.prototype.rollPeriod=function(){return this.rollPeriod_};Dygraph.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};Dygraph.prototype.xAxisExtremes=function(){var g=this.attr_("xRangePad")/this.plotter_.area.w;if(this.numRows()===0){return[0-g,1+g]}var h=this.rawData_[0][0];var e=this.rawData_[this.rawData_.length-1][0];if(g){var f=e-h;h-=f*g;e+=f*g}return[h,e]};Dygraph.prototype.yAxisRange=function(d){if(typeof(d)=="undefined"){d=0}if(d<0||d>=this.axes_.length){return null}var c=this.axes_[d];return[c.computedValueRange[0],c.computedValueRange[1]]};Dygraph.prototype.yAxisRanges=function(){var d=[];for(var c=0;c<this.axes_.length;c++){d.push(this.yAxisRange(c))}return d};Dygraph.prototype.toDomCoords=function(e,f,d){return[this.toDomXCoord(e),this.toDomYCoord(f,d)]};Dygraph.prototype.toDomXCoord=function(d){if(d===null){return null}var f=this.plotter_.area;var e=this.xAxisRange();return f.x+(d-e[0])/(e[1]-e[0])*f.w};Dygraph.prototype.toDomYCoord=function(g,f){var h=this.toPercentYCoord(g,f);if(h===null){return null}var e=this.plotter_.area;return e.y+h*e.h};Dygraph.prototype.toDataCoords=function(e,f,d){return[this.toDataXCoord(e),this.toDataYCoord(f,d)]};Dygraph.prototype.toDataXCoord=function(d){if(d===null){return null}var f=this.plotter_.area;var e=this.xAxisRange();return e[0]+(d-f.x)/f.w*(e[1]-e[0])};Dygraph.prototype.toDataYCoord=function(k,i){if(k===null){return null}var p=this.plotter_.area;var l=this.yAxisRange(i);if(typeof(i)=="undefined"){i=0}if(!this.attributes_.getForAxis("logscale",i)){return l[0]+(p.y+p.h-k)/p.h*(l[1]-l[0])}else{var m=(k-p.y)/p.h;var j=Dygraph.log10(l[1]);var n=j-(m*(j-Dygraph.log10(l[0])));var o=Math.pow(Dygraph.LOG_SCALE,n);return o}};Dygraph.prototype.toPercentYCoord=function(i,l){if(i===null){return null}if(typeof(l)=="undefined"){l=0}var j=this.yAxisRange(l);var k;var g=this.attributes_.getForAxis("logscale",l);if(!g){k=(j[1]-i)/(j[1]-j[0])}else{var h=Dygraph.log10(j[1]);k=(h-Dygraph.log10(i))/(h-Dygraph.log10(j[0]))}return k};Dygraph.prototype.toPercentXCoord=function(c){if(c===null){return null}var d=this.xAxisRange();return(c-d[0])/(d[1]-d[0])};Dygraph.prototype.numColumns=function(){if(!this.rawData_){return 0}return this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length};Dygraph.prototype.numRows=function(){if(!this.rawData_){return 0}return this.rawData_.length};Dygraph.prototype.getValue=function(c,d){if(c<0||c>this.rawData_.length){return null}if(d<0||d>this.rawData_[c].length){return null}return this.rawData_[c][d]};Dygraph.prototype.createInterface_=function(){var d=this.maindiv_;this.graphDiv=document.createElement("div");this.graphDiv.style.textAlign="left";d.appendChild(this.graphDiv);this.canvas_=Dygraph.createCanvas();this.canvas_.style.position="absolute";this.hidden_=this.createPlotKitCanvas_(this.canvas_);this.resizeElements_();this.canvas_ctx_=Dygraph.getContext(this.canvas_);this.hidden_ctx_=Dygraph.getContext(this.hidden_);this.graphDiv.appendChild(this.hidden_);this.graphDiv.appendChild(this.canvas_);this.mouseEventElement_=this.createMouseEventElement_();this.layout_=new DygraphLayout(this);var c=this;this.mouseMoveHandler_=function(a){c.mouseMove_(a)};this.mouseOutHandler_=function(a){var b=a.target||a.fromElement;var e=a.relatedTarget||a.toElement;if(Dygraph.isNodeContainedBy(b,c.graphDiv)&&!Dygraph.isNodeContainedBy(e,c.graphDiv)){c.mouseOut_(a)}};this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_);this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);if(!this.resizeHandler_){this.resizeHandler_=function(a){c.resize()};this.addAndTrackEvent(window,"resize",this.resizeHandler_)}};Dygraph.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px";this.graphDiv.style.height=this.height_+"px";this.canvas_.width=this.width_;this.canvas_.height=this.height_;this.canvas_.style.width=this.width_+"px";this.canvas_.style.height=this.height_+"px";this.hidden_.width=this.width_;this.hidden_.height=this.height_;this.hidden_.style.width=this.width_+"px";this.hidden_.style.height=this.height_+"px"};Dygraph.prototype.destroy=function(){this.canvas_ctx_.restore();this.hidden_ctx_.restore();var d=function(a){while(a.hasChildNodes()){d(a.firstChild);a.removeChild(a.firstChild)}};this.removeTrackedEvents_();Dygraph.removeEvent(window,"mouseout",this.mouseOutHandler_);Dygraph.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);Dygraph.removeEvent(window,"resize",this.resizeHandler_);this.resizeHandler_=null;d(this.maindiv_);var c=function(b){for(var a in b){if(typeof(b[a])==="object"){b[a]=null}}};c(this.layout_);c(this.plotter_);c(this)};Dygraph.prototype.createPlotKitCanvas_=function(d){var c=Dygraph.createCanvas();c.style.position="absolute";c.style.top=d.style.top;c.style.left=d.style.left;c.width=this.width_;c.height=this.height_;c.style.width=this.width_+"px";c.style.height=this.height_+"px";return c};Dygraph.prototype.createMouseEventElement_=function(){if(this.isUsingExcanvas_){var b=document.createElement("div");b.style.position="absolute";b.style.backgroundColor="white";b.style.filter="alpha(opacity=0)";b.style.width=this.width_+"px";b.style.height=this.height_+"px";this.graphDiv.appendChild(b);return b}else{return this.canvas_}};Dygraph.prototype.setColors_=function(){var n=this.getLabels();var p=n.length-1;this.colors_=[];this.colorsMap_={};var t=this.attr_("colors");var q;if(!t){var r=this.attr_("colorSaturation")||1;var s=this.attr_("colorValue")||0.5;var i=Math.ceil(p/2);for(q=1;q<=p;q++){if(!this.visibility()[q-1]){continue}var m=q%2?Math.ceil(q/2):(i+q/2);var o=(1*m/(1+p));var l=Dygraph.hsvToRGB(o,r,s);this.colors_.push(l);this.colorsMap_[n[q]]=l}}else{for(q=0;q<p;q++){if(!this.visibility()[q]){continue}var l=t[q%t.length];this.colors_.push(l);this.colorsMap_[n[1+q]]=l}}};Dygraph.prototype.getColors=function(){return this.colors_};Dygraph.prototype.getPropertiesForSeries=function(h){var f=-1;var g=this.getLabels();for(var e=1;e<g.length;e++){if(g[e]==h){f=e;break}}if(f==-1){return null}return{name:h,column:f,visible:this.visibility()[f-1],color:this.colorsMap_[h],axis:1+this.attributes_.axisForSeries(h)}};Dygraph.prototype.createRollInterface_=function(){if(!this.roller_){this.roller_=document.createElement("input");this.roller_.type="text";this.roller_.style.display="none";this.graphDiv.appendChild(this.roller_)}var h=this.attr_("showRoller")?"block":"none";var i=this.plotter_.area;var f={position:"absolute",zIndex:10,top:(i.y+i.h-25)+"px",left:(i.x+1)+"px",display:h};this.roller_.size="2";this.roller_.value=this.rollPeriod_;for(var g in f){if(f.hasOwnProperty(g)){this.roller_.style[g]=f[g]}}var j=this;this.roller_.onchange=function(){j.adjustRoll(j.roller_.value)}};Dygraph.prototype.dragGetX_=function(c,d){return Dygraph.pageX(c)-d.px};Dygraph.prototype.dragGetY_=function(c,d){return Dygraph.pageY(c)-d.py};Dygraph.prototype.createDragInterface_=function(){var l={isZooming:false,isPanning:false,is2DPan:false,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:false,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Dygraph.IFrameTarp(),initializeMouseDown:function(a,b,c){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false;a.cancelBubble=true}c.px=Dygraph.findPosX(b.canvas_);c.py=Dygraph.findPosY(b.canvas_);c.dragStartX=b.dragGetX_(a,c);c.dragStartY=b.dragGetY_(a,c);c.cancelNextDblclick=false;c.tarp.cover()}};var i=this.attr_("interactionModel");var g=this;var j=function(a){return function(b){a(b,g,l)}};for(var h in i){if(!i.hasOwnProperty(h)){continue}this.addAndTrackEvent(this.mouseEventElement_,h,j(i[h]))}var k=function(a){if(l.isZooming||l.isPanning){l.isZooming=false;l.dragStartX=null;l.dragStartY=null}if(l.isPanning){l.isPanning=false;l.draggingDate=null;l.dateRange=null;for(var b=0;b<g.axes_.length;b++){delete g.axes_[b].draggingValue;delete g.axes_[b].dragValueRange}}l.tarp.uncover()};this.addAndTrackEvent(document,"mouseup",k)};Dygraph.prototype.drawZoomRect_=function(n,p,j,q,l,r,m,o){var k=this.canvas_ctx_;if(r==Dygraph.HORIZONTAL){k.clearRect(Math.min(p,m),this.layout_.getPlotArea().y,Math.abs(p-m),this.layout_.getPlotArea().h)}else{if(r==Dygraph.VERTICAL){k.clearRect(this.layout_.getPlotArea().x,Math.min(q,o),this.layout_.getPlotArea().w,Math.abs(q-o))}}if(n==Dygraph.HORIZONTAL){if(j&&p){k.fillStyle="rgba(128,128,128,0.33)";k.fillRect(Math.min(p,j),this.layout_.getPlotArea().y,Math.abs(j-p),this.layout_.getPlotArea().h)}}else{if(n==Dygraph.VERTICAL){if(l&&q){k.fillStyle="rgba(128,128,128,0.33)";k.fillRect(this.layout_.getPlotArea().x,Math.min(q,l),this.layout_.getPlotArea().w,Math.abs(l-q))}}}if(this.isUsingExcanvas_){this.currentZoomRectArgs_=[n,p,j,q,l,0,0,0]}};Dygraph.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null;this.canvas_ctx_.clearRect(0,0,this.canvas_.width,this.canvas_.height)};Dygraph.prototype.doZoomX_=function(h,f){this.currentZoomRectArgs_=null;var e=this.toDataXCoord(h);var g=this.toDataXCoord(f);this.doZoomXDates_(e,g)};Dygraph.zoomAnimationFunction=function(f,d){var e=1.5;return(1-Math.pow(e,-f))/(1-Math.pow(e,-d))};Dygraph.prototype.doZoomXDates_=function(j,h){var g=this.xAxisRange();var i=[j,h];this.zoomed_x_=true;var f=this;this.doAnimatedZoom(g,i,null,null,function(){if(f.attr_("zoomCallback")){f.attr_("zoomCallback")(j,h,f.yAxisRanges())}})};Dygraph.prototype.doZoomY_=function(k,m){this.currentZoomRectArgs_=null;var p=this.yAxisRanges();var i=[];for(var n=0;n<this.axes_.length;n++){var o=this.toDataYCoord(k,n);var j=this.toDataYCoord(m,n);i.push([j,o])}this.zoomed_y_=true;var l=this;this.doAnimatedZoom(null,null,p,i,function(){if(l.attr_("zoomCallback")){var a=l.xAxisRange();l.attr_("zoomCallback")(a[0],a[1],l.yAxisRanges())}})};Dygraph.prototype.resetZoom=function(){var z=false,y=false,B=false;if(this.dateWindow_!==null){z=true;y=true}for(var v=0;v<this.axes_.length;v++){if(typeof(this.axes_[v].valueWindow)!=="undefined"&&this.axes_[v].valueWindow!==null){z=true;B=true}}this.clearSelection();if(z){this.zoomed_x_=false;this.zoomed_y_=false;var w=this.rawData_[0][0];var A=this.rawData_[this.rawData_.length-1][0];if(!this.attr_("animatedZooms")){this.dateWindow_=null;for(v=0;v<this.axes_.length;v++){if(this.axes_[v].valueWindow!==null){delete this.axes_[v].valueWindow}}this.drawGraph_();if(this.attr_("zoomCallback")){this.attr_("zoomCallback")(w,A,this.yAxisRanges())}return}var r=null,q=null,s=null,u=null;if(y){r=this.xAxisRange();q=[w,A]}if(B){s=this.yAxisRanges();var p=this.gatherDatasets_(this.rolledSeries_,null);var i=p.extremes;this.computeYAxisRanges_(i);u=[];for(v=0;v<this.axes_.length;v++){var x=this.axes_[v];u.push((x.valueRange!==null&&x.valueRange!==undefined)?x.valueRange:x.extremeRange)}}var t=this;this.doAnimatedZoom(r,q,s,u,function(){t.dateWindow_=null;for(var a=0;a<t.axes_.length;a++){if(t.axes_[a].valueWindow!==null){delete t.axes_[a].valueWindow}}if(t.attr_("zoomCallback")){t.attr_("zoomCallback")(w,A,t.yAxisRanges())}})}};Dygraph.prototype.doAnimatedZoom=function(z,v,y,x,o){var r=this.attr_("animatedZooms")?Dygraph.ANIMATION_STEPS:1;var p=[];var q=[];var u,w;if(z!==null&&v!==null){for(u=1;u<=r;u++){w=Dygraph.zoomAnimationFunction(u,r);p[u-1]=[z[0]*(1-w)+w*v[0],z[1]*(1-w)+w*v[1]]}}if(y!==null&&x!==null){for(u=1;u<=r;u++){w=Dygraph.zoomAnimationFunction(u,r);var j=[];for(var t=0;t<this.axes_.length;t++){j.push([y[t][0]*(1-w)+w*x[t][0],y[t][1]*(1-w)+w*x[t][1]])}q[u-1]=j}}var s=this;Dygraph.repeatAndCleanup(function(b){if(q.length){for(var c=0;c<s.axes_.length;c++){var a=q[b][c];s.axes_[c].valueWindow=[a[0],a[1]]}}if(p.length){s.dateWindow_=p[b]}s.drawGraph_()},r,Dygraph.ANIMATION_DURATION/r,o)};Dygraph.prototype.getArea=function(){return this.plotter_.area};Dygraph.prototype.eventToDomCoords=function(f){if(f.offsetX&&f.offsetY){return[f.offsetX,f.offsetY]}else{var d=Dygraph.pageX(f)-Dygraph.findPosX(this.mouseEventElement_);var e=Dygraph.pageY(f)-Dygraph.findPosY(this.mouseEventElement_);return[d,e]}};Dygraph.prototype.findClosestRow=function(t){var n=Infinity;var m=-1;var p=this.layout_.points;for(var r=0;r<p.length;r++){var i=p[r];var q=i.length;for(var s=0;s<q;s++){var j=i[s];if(!Dygraph.isValidPoint(j,true)){continue}var o=Math.abs(j.canvasx-t);if(o<n){n=o;m=j.idx}}}return m};Dygraph.prototype.findClosestPoint=function(w,x){var s=Infinity;var u,i,p,r,y,z,t;for(var A=this.layout_.points.length-1;A>=0;--A){var q=this.layout_.points[A];for(var v=0;v<q.length;++v){r=q[v];if(!Dygraph.isValidPoint(r)){continue}i=r.canvasx-w;p=r.canvasy-x;u=i*i+p*p;if(u<s){s=u;y=r;z=A;t=r.idx}}}var B=this.layout_.setNames[z];return{row:t,seriesName:B,point:y}};Dygraph.prototype.findStackedPoint=function(x,y){var q=this.findClosestRow(x);var A,D;for(var C=0;C<this.layout_.points.length;++C){var z=this.getLeftBoundary_(C);var B=q-z;var u=this.layout_.points[C];if(B>=u.length){continue}var t=u[B];if(!Dygraph.isValidPoint(t)){continue}var w=t.canvasy;if(x>t.canvasx&&B+1<u.length){var v=u[B+1];if(Dygraph.isValidPoint(v)){var r=v.canvasx-t.canvasx;if(r>0){var F=(x-t.canvasx)/r;w+=F*(v.canvasy-t.canvasy)}}}else{if(x<t.canvasx&&B>0){var s=u[B-1];if(Dygraph.isValidPoint(s)){var r=t.canvasx-s.canvasx;if(r>0){var F=(t.canvasx-x)/r;w+=F*(s.canvasy-t.canvasy)}}}}if(C===0||w<y){A=t;D=C}}var E=this.layout_.setNames[D];return{row:q,seriesName:E,point:A}};Dygraph.prototype.mouseMove_=function(s){var m=this.layout_.points;if(m===undefined||m===null){return}var p=this.eventToDomCoords(s);var t=p[0];var k=p[1];var o=this.attr_("highlightSeriesOpts");var q=false;if(o&&!this.isSeriesLocked()){var r;if(this.attr_("stackedGraph")){r=this.findStackedPoint(t,k)}else{r=this.findClosestPoint(t,k)}q=this.setSelection(r.row,r.seriesName)}else{var n=this.findClosestRow(t);q=this.setSelection(n)}var l=this.attr_("highlightCallback");if(l&&q){l(s,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};Dygraph.prototype.getLeftBoundary_=function(c){if(this.boundaryIds_[c]){return this.boundaryIds_[c][0]}else{for(var d=0;d<this.boundaryIds_.length;d++){if(this.boundaryIds_[d]!==undefined){return this.boundaryIds_[d][0]}}return 0}};Dygraph.prototype.animateSelection_=function(k){var l=10;var n=30;if(this.fadeLevel===undefined){this.fadeLevel=0}if(this.animateId===undefined){this.animateId=0}var j=this.fadeLevel;var h=k<0?j:l-j;if(h<=0){if(this.fadeLevel){this.updateSelection_(1)}return}var i=++this.animateId;var m=this;Dygraph.repeatAndCleanup(function(a){if(m.animateId!=i){return}m.fadeLevel+=k;if(m.fadeLevel===0){m.clearSelection()}else{m.updateSelection_(m.fadeLevel/l)}},h,n,function(){})};Dygraph.prototype.updateSelection_=function(y){this.cascadeEvents_("select",{selectedX:this.lastx_,selectedPoints:this.selPoints_});var u;var p=this.canvas_ctx_;if(this.attr_("highlightSeriesOpts")){p.clearRect(0,0,this.width_,this.height_);var w=1-this.attr_("highlightSeriesBackgroundAlpha");if(w){var v=true;if(v){if(y===undefined){this.animateSelection_(1);return}w*=y}p.fillStyle="rgba(255,255,255,"+w+")";p.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,p)}else{if(this.previousVerticalX_>=0){var t=0;var s=this.attr_("labels");for(u=1;u<s.length;u++){var z=this.attr_("highlightCircleSize",s[u]);if(z>t){t=z}}var r=this.previousVerticalX_;p.clearRect(r-t-1,0,2*t+2,this.height_)}}if(this.isUsingExcanvas_&&this.currentZoomRectArgs_){Dygraph.prototype.drawZoomRect_.apply(this,this.currentZoomRectArgs_)}if(this.selPoints_.length>0){var A=this.selPoints_[0].canvasx;p.save();for(u=0;u<this.selPoints_.length;u++){var i=this.selPoints_[u];if(!Dygraph.isOK(i.canvasy)){continue}var B=this.attr_("highlightCircleSize",i.name);var q=this.attr_("drawHighlightPointCallback",i.name);var x=this.plotter_.colors[i.name];if(!q){q=Dygraph.Circles.DEFAULT}p.lineWidth=this.attr_("strokeWidth",i.name);p.strokeStyle=x;p.fillStyle=x;q(this.g,i.name,p,A,i.canvasy,x,B,i.idx)}p.restore();this.previousVerticalX_=A}};Dygraph.prototype.setSelection=function(m,k,l){this.selPoints_=[];var n=false;if(m!==false&&m>=0){if(m!=this.lastRow_){n=true}this.lastRow_=m;for(var o=0;o<this.layout_.points.length;++o){var i=this.layout_.points[o];var p=m-this.getLeftBoundary_(o);if(p<i.length){var j=i[p];if(j.yval!==null){this.selPoints_.push(j)}}}}else{if(this.lastRow_>=0){n=true}this.lastRow_=-1}if(this.selPoints_.length){this.lastx_=this.selPoints_[0].xval}else{this.lastx_=-1}if(k!==undefined){if(this.highlightSet_!==k){n=true}this.highlightSet_=k}if(l!==undefined){this.lockedSet_=l}if(n){this.updateSelection_(undefined)}return n};Dygraph.prototype.mouseOut_=function(b){if(this.attr_("unhighlightCallback")){this.attr_("unhighlightCallback")(b)}if(this.attr_("hideOverlayOnMouseOut")&&!this.lockedSet_){this.clearSelection()}};Dygraph.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{});this.lockedSet_=false;if(this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_);this.fadeLevel=0;this.selPoints_=[];this.lastx_=-1;this.lastRow_=-1;this.highlightSet_=null};Dygraph.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1){return -1}for(var f=0;f<this.layout_.points.length;f++){var e=this.layout_.points[f];for(var d=0;d<e.length;d++){if(e[d].x==this.selPoints_[0].x){return e[d].idx}}}return -1};Dygraph.prototype.getHighlightSeries=function(){return this.highlightSet_};Dygraph.prototype.isSeriesLocked=function(){return this.lockedSet_};Dygraph.prototype.loadedEvent_=function(b){this.rawData_=this.parseCSV_(b);this.predraw_()};Dygraph.prototype.addXTicks_=function(){var e;if(this.dateWindow_){e=[this.dateWindow_[0],this.dateWindow_[1]]}else{e=this.xAxisExtremes()}var f=this.optionsViewForAxis_("x");var d=f("ticker")(e[0],e[1],this.width_,f,this);this.layout_.setXTicks(d)};Dygraph.prototype.extremeValues_=function(o){var k=null,m=null,p,l;var i=this.attr_("errorBars")||this.attr_("customBars");if(i){for(p=0;p<o.length;p++){l=o[p][1][0];if(l===null||isNaN(l)){continue}var j=l-o[p][1][1];var n=l+o[p][1][2];if(j>l){j=l}if(n<l){n=l}if(m===null||n>m){m=n}if(k===null||j<k){k=j}}}else{for(p=0;p<o.length;p++){l=o[p][1];if(l===null||isNaN(l)){continue}if(m===null||l>m){m=l}if(k===null||l<k){k=l}}}return[k,m]};Dygraph.prototype.predraw_=function(){var h=new Date();this.layout_.computePlotArea();this.computeYAxes_();if(this.plotter_){this.cascadeEvents_("clearChart");this.plotter_.clear()}if(!this.is_initial_draw_){this.canvas_ctx_.restore();this.hidden_ctx_.restore()}this.canvas_ctx_.save();this.hidden_ctx_.save();this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_);this.createRollInterface_();this.cascadeEvents_("predraw");this.rolledSeries_=[null];for(var j=1;j<this.numColumns();j++){var i=this.attr_("logscale");var f=this.extractSeries_(this.rawData_,j,i);f=this.rollingAverage(f,this.rollPeriod_);this.rolledSeries_.push(f)}this.drawGraph_();var g=new Date();this.drawingTimeMs_=(g-h)};Dygraph.PointType=undefined;Dygraph.seriesToPoints_=function(s,l,q,o){var m=[];for(var r=0;r<s.length;++r){var i=s[r];var t=l?i[1][0]:i[1];var p=t===null?null:DygraphLayout.parseFloat_(t);var n={x:NaN,y:NaN,xval:DygraphLayout.parseFloat_(i[0]),yval:p,name:q,idx:r+o};if(l){n.y_top=NaN;n.y_bottom=NaN;n.yval_minus=DygraphLayout.parseFloat_(i[1][1]);n.yval_plus=DygraphLayout.parseFloat_(i[1][2])}m.push(n)}return m};Dygraph.stackPoints_=function(q,r,i,w){var u=null;var y=null;var v=null;var z=-1;var s=function(a){if(z>=a){return}for(var b=a;b<q.length;++b){v=null;if(!isNaN(q[b].yval)&&q[b].yval!==null){z=b;v=q[b];break}}};for(var A=0;A<q.length;++A){var t=q[A];var p=t.xval;if(r[p]===undefined){r[p]=0}var x=t.yval;if(isNaN(x)||x===null){s(A);if(y&&v&&w!="none"){x=y.yval+(v.yval-y.yval)*((p-y.xval)/(v.xval-y.xval))}else{if(y&&w=="all"){x=y.yval}else{if(v&&w=="all"){x=v.yval}else{x=0}}}}else{y=t}var B=r[p];if(u!=p){B+=x;r[p]=B}u=p;t.yval_stacked=B;if(B>i[1]){i[1]=B}if(B<i[0]){i[0]=B}}};Dygraph.prototype.gatherDatasets_=function(B,Q){var F=[];var E=[];var H=[];var V={};var D,G;var A=this.attr_("errorBars");var O=this.attr_("customBars");var I=A||O;var U=function(a){if(!I){return a[1]===null}else{return O?a[1][1]===null:A?a[1][0]===null:false}};var K=B.length-1;var M;for(D=K;D>=1;D--){if(!this.visibility()[D-1]){continue}if(Q){M=B[D];var i=Q[0];var N=Q[1];var P=null,k=null;for(G=0;G<M.length;G++){if(M[G][0]>=i&&P===null){P=G}if(M[G][0]<=N){k=G}}if(P===null){P=0}var R=P;var S=true;while(S&&R>0){R--;S=U(M[R])}if(k===null){k=M.length-1}var T=k;S=true;while(S&&T<M.length-1){T++;S=U(M[T])}if(R!==P){P=R}if(T!==k){k=T}F[D-1]=[P,k];M=M.slice(P,k+1)}else{M=B[D];F[D-1]=[0,M.length-1]}var C=this.attr_("labels")[D];var J=this.extremeValues_(M);var L=Dygraph.seriesToPoints_(M,I,C,F[D-1][0]);if(this.attr_("stackedGraph")){Dygraph.stackPoints_(L,H,J,this.attr_("stackedGraphNaNFill"))}V[C]=J;E[D]=L}return{points:E,extremes:V,boundaryIds:F}};Dygraph.prototype.drawGraph_=function(){var t=new Date();var q=this.is_initial_draw_;this.is_initial_draw_=false;this.layout_.removeAllDatasets();this.setColors_();this.attrs_.pointSize=0.5*this.attr_("highlightCircleSize");var l=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_);var m=l.points;var i=l.extremes;this.boundaryIds_=l.boundaryIds;this.setIndexByName_={};var n=this.attr_("labels");if(n.length>0){this.setIndexByName_[n[0]]=0}var p=0;for(var o=1;o<m.length;o++){this.setIndexByName_[n[o]]=o;if(!this.visibility()[o-1]){continue}this.layout_.addDataset(n[o],m[o]);this.datasetIndex_[o]=p++}this.computeYAxisRanges_(i);this.layout_.setYAxes(this.axes_);this.addXTicks_();var s=this.zoomed_x_;this.zoomed_x_=s;this.layout_.evaluate();this.renderGraph_(q);if(this.attr_("timingName")){var r=new Date();Dygraph.info(this.attr_("timingName")+" - drawGraph: "+(r-t)+"ms")}};Dygraph.prototype.renderGraph_=function(d){this.cascadeEvents_("clearChart");this.plotter_.clear();if(this.attr_("underlayCallback")){this.attr_("underlayCallback")(this.hidden_ctx_,this.layout_.getPlotArea(),this,this)}var f={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",f);this.plotter_.render();this.cascadeEvents_("didDrawChart",f);this.lastRow_=-1;this.canvas_.getContext("2d").clearRect(0,0,this.canvas_.width,this.canvas_.height);if(this.attr_("drawCallback")!==null){this.attr_("drawCallback")(this,d)}if(d){this.readyFired_=true;while(this.readyFns_.length>0){var e=this.readyFns_.pop();e(this)}}};Dygraph.prototype.computeYAxes_=function(){var h,m,n,k,i;if(this.axes_!==undefined&&this.user_attrs_.hasOwnProperty("valueRange")===false){h=[];for(n=0;n<this.axes_.length;n++){h.push(this.axes_[n].valueWindow)}}this.axes_=[];for(m=0;m<this.attributes_.numAxes();m++){k={g:this};Dygraph.update(k,this.attributes_.axisOptions(m));this.axes_[m]=k}i=this.attr_("valueRange");if(i){this.axes_[0].valueRange=i}if(h!==undefined){var l=Math.min(h.length,this.axes_.length);for(n=0;n<l;n++){this.axes_[n].valueWindow=h[n]}}for(m=0;m<this.axes_.length;m++){if(m===0){k=this.optionsViewForAxis_("y"+(m?"2":""));i=k("valueRange");if(i){this.axes_[m].valueRange=i}}else{var j=this.user_attrs_.axes;if(j&&j.y2){i=j.y2.valueRange;if(i){this.axes_[m].valueRange=i}}}}};Dygraph.prototype.numAxes=function(){return this.attributes_.numAxes()};Dygraph.prototype.axisPropertiesForSeries=function(b){return this.axes_[this.attributes_.axisForSeries(b)]};Dygraph.prototype.computeYAxisRanges_=function(al){var af=function(a){return isNaN(parseFloat(a))};var X=this.attributes_.numAxes();var ak,J,aa,W;var Z;for(var j=0;j<X;j++){var aj=this.axes_[j];var V=this.attributes_.getForAxis("logscale",j);var N=this.attributes_.getForAxis("includeZero",j);var ad=this.attributes_.getForAxis("independentTicks",j);aa=this.attributes_.seriesForAxis(j);ak=true;W=0.1;if(this.attr_("yRangePad")!==null){ak=false;W=this.attr_("yRangePad")/this.plotter_.area.h}if(aa.length===0){aj.extremeRange=[0,1]}else{var T=Infinity;var Y=-Infinity;var R,S;for(var L=0;L<aa.length;L++){if(!al.hasOwnProperty(aa[L])){continue}R=al[aa[L]][0];if(R!==null){T=Math.min(R,T)}S=al[aa[L]][1];if(S!==null){Y=Math.max(S,Y)}}if(N&&!V){if(T>0){T=0}if(Y<0){Y=0}}if(T==Infinity){T=0}if(Y==-Infinity){Y=1}J=Y-T;if(J===0){if(Y!==0){J=Math.abs(Y)}else{Y=1;J=1}}var ae,K;if(V){if(ak){ae=Y+W*J;K=T}else{var Q=Math.exp(Math.log(J)*W);ae=Y*Q;K=T/Q}}else{ae=Y+W*J;K=T-W*J;if(ak&&!this.attr_("avoidMinZero")){if(K<0&&T>=0){K=0}if(ae>0&&Y<=0){ae=0}}}aj.extremeRange=[K,ae]}if(aj.valueWindow){aj.computedValueRange=[aj.valueWindow[0],aj.valueWindow[1]]}else{if(aj.valueRange){var ah=af(aj.valueRange[0])?aj.extremeRange[0]:aj.valueRange[0];var ai=af(aj.valueRange[1])?aj.extremeRange[1]:aj.valueRange[1];if(!ak){if(aj.logscale){var Q=Math.exp(Math.log(J)*W);ah*=Q;ai/=Q}else{J=ai-ah;ah-=J*W;ai+=J*W}}aj.computedValueRange=[ah,ai]}else{aj.computedValueRange=aj.extremeRange}}if(ad){aj.independentTicks=ad;var U=this.optionsViewForAxis_("y"+(j?"2":""));var P=U("ticker");aj.ticks=P(aj.computedValueRange[0],aj.computedValueRange[1],this.height_,U,this);if(!Z){Z=aj}}}if(Z===undefined){throw ('Configuration Error: At least one axis has to have the "independentTicks" option activated.')}for(var j=0;j<X;j++){var aj=this.axes_[j];if(!aj.independentTicks){var U=this.optionsViewForAxis_("y"+(j?"2":""));var P=U("ticker");var ac=Z.ticks;var ab=Z.computedValueRange[1]-Z.computedValueRange[0];var k=aj.computedValueRange[1]-aj.computedValueRange[0];var ag=[];for(var M=0;M<ac.length;M++){var O=(ac[M].v-Z.computedValueRange[0])/ab;var i=aj.computedValueRange[0]+O*k;ag.push(i)}aj.ticks=P(aj.computedValueRange[0],aj.computedValueRange[1],this.height_,U,this,ag)}}};Dygraph.prototype.extractSeries_=function(t,o,r){var n=[];var k=this.attr_("errorBars");var p=this.attr_("customBars");for(var q=0;q<t.length;q++){var j=t[q][0];var i=t[q][o];if(r){if(k||p){for(var s=0;s<i.length;s++){if(i[s]<=0){i=null;break}}}else{if(i<=0){i=null}}}if(i!==null){n.push([j,i])}else{n.push([j,k?[null,null]:p?[null,null,null]:i])}}return n};Dygraph.prototype.rollingAverage=function(S,Y){Y=Math.min(Y,S.length);var aa=[];var I=this.attr_("sigma");var p,Q,i,j,R,Z,y,P;if(this.fractions_){var T=0;var U=0;var X=100;for(i=0;i<S.length;i++){T+=S[i][1][0];U+=S[i][1][1];if(i-Y>=0){T-=S[i-Y][1][0];U-=S[i-Y][1][1]}var M=S[i][0];var n=U?T/U:0;if(this.attr_("errorBars")){if(this.attr_("wilsonInterval")){if(U){var K=n<0?0:n,v=U;var O=I*Math.sqrt(K*(1-K)/v+I*I/(4*v*v));var ab=1+I*I/U;p=(K+I*I/(2*U)-O)/ab;Q=(K+I*I/(2*U)+O)/ab;aa[i]=[M,[K*X,(K-p)*X,(Q-K)*X]]}else{aa[i]=[M,[0,0,0]]}}else{P=U?I*Math.sqrt(n*(1-n)/U):1;aa[i]=[M,[X*n,X*P,X*P]]}}else{aa[i]=[M,X*n]}}}else{if(this.attr_("customBars")){p=0;var J=0;Q=0;var V=0;for(i=0;i<S.length;i++){var H=S[i][1];R=H[1];aa[i]=[S[i][0],[R,R-H[0],H[2]-R]];if(R!==null&&!isNaN(R)){p+=H[0];J+=R;Q+=H[2];V+=1}if(i-Y>=0){var L=S[i-Y];if(L[1][1]!==null&&!isNaN(L[1][1])){p-=L[1][0];J-=L[1][1];Q-=L[1][2];V-=1}}if(V){aa[i]=[S[i][0],[1*J/V,1*(J-p)/V,1*(Q-J)/V]]}else{aa[i]=[S[i][0],[null,null,null]]}}}else{if(!this.attr_("errorBars")){if(Y==1){return S}for(i=0;i<S.length;i++){Z=0;y=0;for(j=Math.max(0,i-Y+1);j<i+1;j++){R=S[j][1];if(R===null||isNaN(R)){continue}y++;Z+=S[j][1]}if(y){aa[i]=[S[i][0],Z/y]}else{aa[i]=[S[i][0],null]}}}else{for(i=0;i<S.length;i++){Z=0;var W=0;y=0;for(j=Math.max(0,i-Y+1);j<i+1;j++){R=S[j][1][0];if(R===null||isNaN(R)){continue}y++;Z+=S[j][1][0];W+=Math.pow(S[j][1][1],2)}if(y){P=Math.sqrt(W)/y;aa[i]=[S[i][0],[Z/y,I*P,I*P]]}else{var N=(Y==1)?S[i][1][0]:null;aa[i]=[S[i][0],[N,N,N]]}}}}}return aa};Dygraph.prototype.detectTypeFromString_=function(d){var e=false;var f=d.indexOf("-");if((f>0&&(d[f-1]!="e"&&d[f-1]!="E"))||d.indexOf("/")>=0||isNaN(parseFloat(d))){e=true}else{if(d.length==8&&d>"19700101"&&d<"20371231"){e=true}}this.setXAxisOptions_(e)};Dygraph.prototype.setXAxisOptions_=function(b){if(b){this.attrs_.xValueParser=Dygraph.dateParser;this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter}else{this.attrs_.xValueParser=function(a){return parseFloat(a)};this.attrs_.axes.x.valueFormatter=function(a){return a};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}};Dygraph.prototype.parseFloat_=function(g,j,f){var h=parseFloat(g);if(!isNaN(h)){return h}if(/^ *$/.test(g)){return null}if(/^ *nan *$/i.test(g)){return NaN}var i="Unable to parse '"+g+"' as a number";if(f!==null&&j!==null){i+=" on line "+(1+j)+" ('"+f+"') of CSV."}this.error(i);return null};Dygraph.prototype.parseCSV_=function(j){var w=[];var v=Dygraph.detectLineDelimiter(j);var L=j.split(v||"\n");var F,D;var y=this.attr_("delimiter");if(L[0].indexOf(y)==-1&&L[0].indexOf("\t")>=0){y="\t"}var K=0;if(!("labels" in this.user_attrs_)){K=1;this.attrs_.labels=L[0].split(y);this.attributes_.reparseSeries()}var z=0;var B;var x=false;var J=this.attr_("labels").length;var G=false;for(var C=K;C<L.length;C++){var H=L[C];z=C;if(H.length===0){continue}if(H[0]=="#"){continue}var I=H.split(y);if(I.length<2){continue}var E=[];if(!x){this.detectTypeFromString_(I[0]);B=this.attr_("xValueParser");x=true}E[0]=B(I[0],this);if(this.fractions_){for(D=1;D<I.length;D++){F=I[D].split("/");if(F.length!=2){this.error('Expected fractional "num/den" values in CSV data but found a value \''+I[D]+"' on line "+(1+C)+" ('"+H+"') which is not of this form.");E[D]=[0,0]}else{E[D]=[this.parseFloat_(F[0],C,H),this.parseFloat_(F[1],C,H)]}}}else{if(this.attr_("errorBars")){if(I.length%2!=1){this.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+C)+" has an odd number of values ("+(I.length-1)+"): '"+H+"'")}for(D=1;D<I.length;D+=2){E[(D+1)/2]=[this.parseFloat_(I[D],C,H),this.parseFloat_(I[D+1],C,H)]}}else{if(this.attr_("customBars")){for(D=1;D<I.length;D++){var i=I[D];if(/^ *$/.test(i)){E[D]=[null,null,null]}else{F=i.split(";");if(F.length==3){E[D]=[this.parseFloat_(F[0],C,H),this.parseFloat_(F[1],C,H),this.parseFloat_(F[2],C,H)]}else{this.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+i+'" on line '+(1+C))}}}}else{for(D=1;D<I.length;D++){E[D]=this.parseFloat_(I[D],C,H)}}}}if(w.length>0&&E[0]<w[w.length-1][0]){G=true}if(E.length!=J){this.error("Number of columns in line "+C+" ("+E.length+") does not agree with number of labels ("+J+") "+H)}if(C===0&&this.attr_("labels")){var A=true;for(D=0;A&&D<E.length;D++){if(E[D]){A=false}}if(A){this.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+H+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}w.push(E)}if(G){this.warn("CSV is out of order; order it correctly to speed loading.");w.sort(function(a,b){return a[0]-b[0]})}return w};Dygraph.prototype.parseArray_=function(h){if(h.length===0){this.error("Can't plot empty data set");return null}if(h[0].length===0){this.error("Data set cannot contain an empty row");return null}var f;if(this.attr_("labels")===null){this.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter");this.attrs_.labels=["X"];for(f=1;f<h[0].length;f++){this.attrs_.labels.push("Y"+f)}this.attributes_.reparseSeries()}else{var e=this.attr_("labels");if(e.length!=h[0].length){this.error("Mismatch between number of labels ("+e+") and number of columns in array ("+h[0].length+")");return null}}if(Dygraph.isDateLike(h[0][0])){this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter;var g=Dygraph.clone(h);for(f=0;f<h.length;f++){if(g[f].length===0){this.error("Row "+(1+f)+" of data is empty");return null}if(g[f][0]===null||typeof(g[f][0].getTime)!="function"||isNaN(g[f][0].getTime())){this.error("x value in row "+(1+f)+" is not a Date");return null}g[f][0]=g[f][0].getTime()}return g}else{this.attrs_.axes.x.valueFormatter=function(a){return a};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=Dygraph.numberAxisLabelFormatter;return h}};Dygraph.prototype.parseDataTable_=function(i){var K=function(b){var a=String.fromCharCode(65+b%26);b=Math.floor(b/26);while(b>0){a=String.fromCharCode(65+(b-1)%26)+a.toLowerCase();b=Math.floor((b-1)/26)}return a};var G=i.getNumberOfColumns();var H=i.getNumberOfRows();var I=i.getColumnType(0);if(I=="date"||I=="datetime"){this.attrs_.xValueParser=Dygraph.dateParser;this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter}else{if(I=="number"){this.attrs_.xValueParser=function(a){return parseFloat(a)};this.attrs_.axes.x.valueFormatter=function(a){return a};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}else{this.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+I+"')");return null}}var E=[];var x={};var y=false;var A,C;for(A=1;A<G;A++){var M=i.getColumnType(A);if(M=="number"){E.push(A)}else{if(M=="string"&&this.attr_("displayAnnotations")){var z=E[E.length-1];if(!x.hasOwnProperty(z)){x[z]=[A]}else{x[z].push(A)}y=true}else{this.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}}}var k=[i.getColumnLabel(0)];for(A=0;A<E.length;A++){k.push(i.getColumnLabel(E[A]));if(this.attr_("errorBars")){A+=1}}this.attrs_.labels=k;G=k.length;var j=[];var F=false;var N=[];for(A=0;A<H;A++){var J=[];if(typeof(i.getValue(A,0))==="undefined"||i.getValue(A,0)===null){this.warn("Ignoring row "+A+" of DataTable because of undefined or null first column.");continue}if(I=="date"||I=="datetime"){J.push(i.getValue(A,0).getTime())}else{J.push(i.getValue(A,0))}if(!this.attr_("errorBars")){for(C=0;C<E.length;C++){var L=E[C];J.push(i.getValue(A,L));if(y&&x.hasOwnProperty(L)&&i.getValue(A,x[L][0])!==null){var B={};B.series=i.getColumnLabel(L);B.xval=J[0];B.shortText=K(N.length);B.text="";for(var D=0;D<x[L].length;D++){if(D){B.text+="\n"}B.text+=i.getValue(A,x[L][D])}N.push(B)}}for(C=0;C<J.length;C++){if(!isFinite(J[C])){J[C]=null}}}else{for(C=0;C<G-1;C++){J.push([i.getValue(A,1+2*C),i.getValue(A,2+2*C)])}}if(j.length>0&&J[0]<j[j.length-1][0]){F=true}j.push(J)}if(F){this.warn("DataTable is out of order; order it correctly to speed loading.");j.sort(function(a,b){return a[0]-b[0]})}this.rawData_=j;if(N.length>0){this.setAnnotations(N,true)}this.attributes_.reparseSeries()};Dygraph.prototype.start_=function(){var g=this.file_;if(typeof g=="function"){g=g()}if(Dygraph.isArrayLike(g)){this.rawData_=this.parseArray_(g);this.predraw_()}else{if(typeof g=="object"&&typeof g.getColumnRange=="function"){this.parseDataTable_(g);this.predraw_()}else{if(typeof g=="string"){var h=Dygraph.detectLineDelimiter(g);if(h){this.loadedEvent_(g)}else{var e;if(window.XMLHttpRequest){e=new XMLHttpRequest()}else{e=new ActiveXObject("Microsoft.XMLHTTP")}var f=this;e.onreadystatechange=function(){if(e.readyState==4){if(e.status===200||e.status===0){f.loadedEvent_(e.responseText)}}};e.open("GET",g,true);e.send(null)}}else{this.error("Unknown data format: "+(typeof g))}}}};Dygraph.prototype.updateOptions=function(h,f){if(typeof(f)=="undefined"){f=false}var i=h.file;var j=Dygraph.mapLegacyOptions_(h);if("rollPeriod" in j){this.rollPeriod_=j.rollPeriod}if("dateWindow" in j){this.dateWindow_=j.dateWindow;if(!("isZoomedIgnoreProgrammaticZoom" in j)){this.zoomed_x_=(j.dateWindow!==null)}}if("valueRange" in j&&!("isZoomedIgnoreProgrammaticZoom" in j)){this.zoomed_y_=(j.valueRange!==null)}var g=Dygraph.isPixelChangingOptionList(this.attr_("labels"),j);Dygraph.updateDeep(this.user_attrs_,j);this.attributes_.reparseSeries();if(i){this.file_=i;if(!f){this.start_()}}else{if(!f){if(g){this.predraw_()}else{this.renderGraph_(false)}}}};Dygraph.mapLegacyOptions_=function(j){var g={};for(var f in j){if(f=="file"){continue}if(j.hasOwnProperty(f)){g[f]=j[f]}}var h=function(b,c,a){if(!g.axes){g.axes={}}if(!g.axes[b]){g.axes[b]={}}g.axes[b][c]=a};var i=function(c,b,a){if(typeof(j[c])!="undefined"){Dygraph.warn("Option "+c+" is deprecated. Use the "+a+" option for the "+b+" axis instead. (e.g. { axes : { "+b+" : { "+a+" : ... } } } (see http://dygraphs.com/per-axis.html for more information.");h(b,a,j[c]);delete g[c]}};i("xValueFormatter","x","valueFormatter");i("pixelsPerXLabel","x","pixelsPerLabel");i("xAxisLabelFormatter","x","axisLabelFormatter");i("xTicker","x","ticker");i("yValueFormatter","y","valueFormatter");i("pixelsPerYLabel","y","pixelsPerLabel");i("yAxisLabelFormatter","y","axisLabelFormatter");i("yTicker","y","ticker");return g};Dygraph.prototype.resize=function(g,e){if(this.resize_lock){return}this.resize_lock=true;if((g===null)!=(e===null)){this.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero.");g=e=null}var f=this.width_;var h=this.height_;if(g){this.maindiv_.style.width=g+"px";this.maindiv_.style.height=e+"px";this.width_=g;this.height_=e}else{this.width_=this.maindiv_.clientWidth;this.height_=this.maindiv_.clientHeight}if(f!=this.width_||h!=this.height_){this.resizeElements_();this.predraw_()}this.resize_lock=false};Dygraph.prototype.adjustRoll=function(b){this.rollPeriod_=b;this.predraw_()};Dygraph.prototype.visibility=function(){if(!this.attr_("visibility")){this.attrs_.visibility=[]}while(this.attr_("visibility").length<this.numColumns()-1){this.attrs_.visibility.push(true)}return this.attr_("visibility")};Dygraph.prototype.setVisibility=function(d,f){var e=this.visibility();if(d<0||d>=e.length){this.warn("invalid series number in setVisibility: "+d)}else{e[d]=f;this.predraw_()}};Dygraph.prototype.size=function(){return{width:this.width_,height:this.height_}};Dygraph.prototype.setAnnotations=function(c,d){Dygraph.addAnnotationRule();this.annotations_=c;if(!this.layout_){this.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_);if(!d){this.predraw_()}};Dygraph.prototype.annotations=function(){return this.annotations_};Dygraph.prototype.getLabels=function(){var b=this.attr_("labels");return b?b.slice():null};Dygraph.prototype.indexFromSetName=function(b){return this.setIndexByName_[b]};Dygraph.prototype.ready=function(b){if(this.is_initial_draw_){this.readyFns_.push(b)}else{b(this)}};Dygraph.addAnnotationRule=function(){if(Dygraph.addedAnnotationCSS){return}var i="border: 1px solid black; background-color: white; text-align: center;";var j=document.createElement("style");j.type="text/css";document.getElementsByTagName("head")[0].appendChild(j);for(var g=0;g<document.styleSheets.length;g++){if(document.styleSheets[g].disabled){continue}var k=document.styleSheets[g];try{if(k.insertRule){var h=k.cssRules?k.cssRules.length:0;k.insertRule(".dygraphDefaultAnnotation { "+i+" }",h)}else{if(k.addRule){k.addRule(".dygraphDefaultAnnotation",i)}}Dygraph.addedAnnotationCSS=true;return}catch(l){}}this.warn("Unable to add default annotation CSS rule; display may be off.")};var DateGraph=Dygraph;"use strict";Dygraph.LOG_SCALE=10;Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE);Dygraph.log10=function(b){return Math.log(b)/Dygraph.LN_TEN};Dygraph.DEBUG=1;Dygraph.INFO=2;Dygraph.WARNING=3;Dygraph.ERROR=3;Dygraph.LOG_STACK_TRACES=false;Dygraph.DOTTED_LINE=[2,2];Dygraph.DASHED_LINE=[7,3];Dygraph.DOT_DASH_LINE=[7,2,2,2];Dygraph.log=function(p,m){var e;if(typeof(printStackTrace)!="undefined"){try{e=printStackTrace({guess:false});while(e[0].indexOf("stacktrace")!=-1){e.splice(0,1)}e.splice(0,2);for(var o=0;o<e.length;o++){e[o]=e[o].replace(/\([^)]*\/(.*)\)/,"@$1").replace(/\@.*\/([^\/]*)/,"@$1").replace("[object Object].","")}var k=e.splice(0,1)[0];m+=" ("+k.replace(/^.*@ ?/,"")+")"}catch(l){}}if(typeof(window.console)!="undefined"){var i=window.console;var n=function(c,a,b){if(a&&typeof(a)=="function"){a.call(c,b)}else{c.log(b)}};switch(p){case Dygraph.DEBUG:n(i,i.debug,"dygraphs: "+m);break;case Dygraph.INFO:n(i,i.info,"dygraphs: "+m);break;case Dygraph.WARNING:n(i,i.warn,"dygraphs: "+m);break;case Dygraph.ERROR:n(i,i.error,"dygraphs: "+m);break}}if(Dygraph.LOG_STACK_TRACES){window.console.log(e.join("\n"))}};Dygraph.info=function(b){Dygraph.log(Dygraph.INFO,b)};Dygraph.prototype.info=Dygraph.info;Dygraph.warn=function(b){Dygraph.log(Dygraph.WARNING,b)};Dygraph.prototype.warn=Dygraph.warn;Dygraph.error=function(b){Dygraph.log(Dygraph.ERROR,b)};Dygraph.prototype.error=Dygraph.error;Dygraph.getContext=function(b){return(b.getContext("2d"))};Dygraph.addEvent=function addEvent(f,d,e){if(f.addEventListener){f.addEventListener(d,e,false)}else{f[d+e]=function(){e(window.event)};f.attachEvent("on"+d,f[d+e])}};Dygraph.prototype.addAndTrackEvent=function(f,d,e){Dygraph.addEvent(f,d,e);this.registeredEvents_.push({elem:f,type:d,fn:e})};Dygraph.removeEvent=function(h,e,f){if(h.removeEventListener){h.removeEventListener(e,f,false)}else{try{h.detachEvent("on"+e,h[e+f])}catch(g){}h[e+f]=null}};Dygraph.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_){for(var d=0;d<this.registeredEvents_.length;d++){var c=this.registeredEvents_[d];Dygraph.removeEvent(c.elem,c.type,c.fn)}}this.registeredEvents_=[]};Dygraph.cancelEvent=function(b){b=b?b:window.event;if(b.stopPropagation){b.stopPropagation()}if(b.preventDefault){b.preventDefault()}b.cancelBubble=true;b.cancel=true;b.returnValue=false;return false};Dygraph.hsvToRGB=function(p,q,n){var t;var s;var i;if(q===0){t=n;s=n;i=n}else{var r=Math.floor(p*6);var o=(p*6)-r;var u=n*(1-q);var v=n*(1-(q*o));var f=n*(1-(q*(1-o)));switch(r){case 1:t=v;s=n;i=u;break;case 2:t=u;s=n;i=f;break;case 3:t=u;s=v;i=n;break;case 4:t=f;s=u;i=n;break;case 5:t=n;s=u;i=v;break;case 6:case 0:t=n;s=f;i=u;break}}t=Math.floor(255*t+0.5);s=Math.floor(255*s+0.5);i=Math.floor(255*i+0.5);return"rgb("+t+","+s+","+i+")"};Dygraph.findPosX=function(h){var g=0;if(h.offsetParent){var f=h;while(1){var e="0";if(window.getComputedStyle){e=window.getComputedStyle(f,null).borderLeft||"0"}g+=parseInt(e,10);g+=f.offsetLeft;if(!f.offsetParent){break}f=f.offsetParent}}else{if(h.x){g+=h.x}}while(h&&h!=document.body){g-=h.scrollLeft;h=h.parentNode}return g};Dygraph.findPosY=function(h){var e=0;if(h.offsetParent){var f=h;while(1){var g="0";if(window.getComputedStyle){g=window.getComputedStyle(f,null).borderTop||"0"}e+=parseInt(g,10);e+=f.offsetTop;if(!f.offsetParent){break}f=f.offsetParent}}else{if(h.y){e+=h.y}}while(h&&h!=document.body){e-=h.scrollTop;h=h.parentNode}return e};Dygraph.pageX=function(f){if(f.pageX){return(!f.pageX||f.pageX<0)?0:f.pageX}else{var e=document.documentElement;var b=document.body;return f.clientX+(e.scrollLeft||b.scrollLeft)-(e.clientLeft||0)}};Dygraph.pageY=function(f){if(f.pageY){return(!f.pageY||f.pageY<0)?0:f.pageY}else{var e=document.documentElement;var b=document.body;return f.clientY+(e.scrollTop||b.scrollTop)-(e.clientTop||0)}};Dygraph.isOK=function(b){return !!b&&!isNaN(b)};Dygraph.isValidPoint=function(c,d){if(!c){return false}if(c.yval===null){return false}if(c.x===null||c.x===undefined){return false}if(c.y===null||c.y===undefined){return false}if(isNaN(c.x)||(!d&&isNaN(c.y))){return false}return true};Dygraph.floatFormat=function(e,d){var f=Math.min(Math.max(1,d||2),21);return(Math.abs(e)<0.001&&e!==0)?e.toExponential(f-1):e.toPrecision(f)};Dygraph.zeropad=function(b){if(b<10){return"0"+b}else{return""+b}};Dygraph.hmsString_=function(e){var f=Dygraph.zeropad;var d=new Date(e);if(d.getSeconds()){return f(d.getHours())+":"+f(d.getMinutes())+":"+f(d.getSeconds())}else{return f(d.getHours())+":"+f(d.getMinutes())}};Dygraph.round_=function(f,d){var e=Math.pow(10,d);return Math.round(f*e)/e};Dygraph.binarySearch=function(r,o,j,n,q){if(n===null||n===undefined||q===null||q===undefined){n=0;q=o.length-1}if(n>q){return -1}if(j===null||j===undefined){j=0}var k=function(a){return a>=0&&a<o.length};var l=parseInt((n+q)/2,10);var p=o[l];var m;if(p==r){return l}else{if(p>r){if(j>0){m=l-1;if(k(m)&&o[m]<r){return l}}return Dygraph.binarySearch(r,o,j,n,l-1)}else{if(p<r){if(j<0){m=l+1;if(k(m)&&o[m]>r){return l}}return Dygraph.binarySearch(r,o,j,l+1,q)}}}return -1};Dygraph.dateParser=function(e){var d;var f;if(e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1){f=Dygraph.dateStrToMillis(e);if(f&&!isNaN(f)){return f}}if(e.search("-")!=-1){d=e.replace("-","/","g");while(d.search("-")!=-1){d=d.replace("-","/")}f=Dygraph.dateStrToMillis(d)}else{if(e.length==8){d=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2);f=Dygraph.dateStrToMillis(d)}else{f=Dygraph.dateStrToMillis(e)}}if(!f||isNaN(f)){Dygraph.error("Couldn't parse "+e+" as a date")}return f};Dygraph.dateStrToMillis=function(b){return new Date(b).getTime()};Dygraph.update=function(d,f){if(typeof(f)!="undefined"&&f!==null){for(var e in f){if(f.hasOwnProperty(e)){d[e]=f[e]}}}return d};Dygraph.updateDeep=function(e,g){function h(a){return(typeof Node==="object"?a instanceof Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string")}if(typeof(g)!="undefined"&&g!==null){for(var f in g){if(g.hasOwnProperty(f)){if(g[f]===null){e[f]=null}else{if(Dygraph.isArrayLike(g[f])){e[f]=g[f].slice()}else{if(h(g[f])){e[f]=g[f]}else{if(typeof(g[f])=="object"){if(typeof(e[f])!="object"||e[f]===null){e[f]={}}Dygraph.updateDeep(e[f],g[f])}else{e[f]=g[f]}}}}}}}return e};Dygraph.isArrayLike=function(c){var d=typeof(c);if((d!="object"&&!(d=="function"&&typeof(c.item)=="function"))||c===null||typeof(c.length)!="number"||c.nodeType===3){return false}return true};Dygraph.isDateLike=function(b){if(typeof(b)!="object"||b===null||typeof(b.getTime)!="function"){return false}return true};Dygraph.clone=function(f){var d=[];for(var e=0;e<f.length;e++){if(Dygraph.isArrayLike(f[e])){d.push(Dygraph.clone(f[e]))}else{d.push(f[e])}}return d};Dygraph.createCanvas=function(){var d=document.createElement("canvas");var c=(/MSIE/.test(navigator.userAgent)&&!window.opera);if(c&&(typeof(G_vmlCanvasManager)!="undefined")){d=G_vmlCanvasManager.initElement((d))}return d};Dygraph.isAndroid=function(){return(/Android/).test(navigator.userAgent)};Dygraph.Iterator=function(g,h,e,f){h=h||0;e=e||g.length;this.hasNext=true;this.peek=null;this.start_=h;this.array_=g;this.predicate_=f;this.end_=Math.min(g.length,h+e);this.nextIdx_=h-1;this.next()};Dygraph.Iterator.prototype.next=function(){if(!this.hasNext){return null}var f=this.peek;var d=this.nextIdx_+1;var e=false;while(d<this.end_){if(!this.predicate_||this.predicate_(this.array_,d)){this.peek=this.array_[d];e=true;break}d++}this.nextIdx_=d;if(!e){this.hasNext=false;this.peek=null}return f};Dygraph.createIterator=function(g,h,e,f){return new Dygraph.Iterator(g,h,e,f)};Dygraph.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)}})();Dygraph.repeatAndCleanup=function(k,l,m,r){var j=0;var o;var q=new Date().getTime();k(j);if(l==1){r();return}var n=l-1;(function p(){if(j>=l){return}Dygraph.requestAnimFrame.call(window,function(){var b=new Date().getTime();var d=b-q;o=j;j=Math.floor(d/m);var c=j-o;var a=(j+c)>n;if(a||(j>=n)){k(n);r()}else{if(c!==0){k(j)}p()}})})()};Dygraph.isPixelChangingOptionList=function(k,n){var o={annotationClickHandler:true,annotationDblClickHandler:true,annotationMouseOutHandler:true,annotationMouseOverHandler:true,axisLabelColor:true,axisLineColor:true,axisLineWidth:true,clickCallback:true,digitsAfterDecimal:true,drawCallback:true,drawHighlightPointCallback:true,drawPoints:true,drawPointCallback:true,drawXGrid:true,drawYGrid:true,fillAlpha:true,gridLineColor:true,gridLineWidth:true,hideOverlayOnMouseOut:true,highlightCallback:true,highlightCircleSize:true,interactionModel:true,isZoomedIgnoreProgrammaticZoom:true,labelsDiv:true,labelsDivStyles:true,labelsDivWidth:true,labelsKMB:true,labelsKMG2:true,labelsSeparateLines:true,labelsShowZeroValues:true,legend:true,maxNumberWidth:true,panEdgeFraction:true,pixelsPerYLabel:true,pointClickCallback:true,pointSize:true,rangeSelectorPlotFillColor:true,rangeSelectorPlotStrokeColor:true,showLabelsOnHighlight:true,showRoller:true,sigFigs:true,strokeWidth:true,underlayCallback:true,unhighlightCallback:true,xAxisLabelFormatter:true,xTicker:true,xValueFormatter:true,yAxisLabelFormatter:true,yValueFormatter:true,zoomCallback:true};var j=false;var i={};if(k){for(var m=1;m<k.length;m++){i[k[m]]=true}}for(var l in n){if(j){break}if(n.hasOwnProperty(l)){if(i[l]){for(var p in n[l]){if(j){break}if(n[l].hasOwnProperty(p)&&!o[p]){j=true}}}else{if(!o[l]){j=true}}}}return j};Dygraph.compareArrays=function(f,d){if(!Dygraph.isArrayLike(f)||!Dygraph.isArrayLike(d)){return false}if(f.length!==d.length){return false}for(var e=0;e<f.length;e++){if(f[e]!==d[e]){return false}}return true};Dygraph.regularShape_=function(p,B,v,y,z,D,q){D=D||0;q=q||Math.PI*2/B;p.beginPath();var x=D;var A=x;var w=function(){var b=y+(Math.sin(A)*v);var a=z+(-Math.cos(A)*v);return[b,a]};var C=w();var s=C[0];var u=C[1];p.moveTo(s,u);for(var r=0;r<B;r++){A=(r==B-1)?x:(A+q);var t=w();p.lineTo(t[0],t[1])}p.fill();p.stroke()};Dygraph.shapeFunction_=function(d,e,f){return function(b,c,l,m,a,g,n){l.strokeStyle=g;l.fillStyle="white";Dygraph.regularShape_(l,d,n,m,a,e,f)}};Dygraph.Circles={DEFAULT:function(j,k,g,l,m,n,i){g.beginPath();g.fillStyle=n;g.arc(l,m,i,0,2*Math.PI,false);g.fill()},TRIANGLE:Dygraph.shapeFunction_(3),SQUARE:Dygraph.shapeFunction_(4,Math.PI/4),DIAMOND:Dygraph.shapeFunction_(4),PENTAGON:Dygraph.shapeFunction_(5),HEXAGON:Dygraph.shapeFunction_(6),CIRCLE:function(k,l,n,g,j,m,i){n.beginPath();n.strokeStyle=m;n.fillStyle="white";n.arc(g,j,i,0,2*Math.PI,false);n.fill();n.stroke()},STAR:Dygraph.shapeFunction_(5,0,4*Math.PI/5),PLUS:function(k,l,n,g,j,m,i){n.strokeStyle=m;n.beginPath();n.moveTo(g+i,j);n.lineTo(g-i,j);n.closePath();n.stroke();n.beginPath();n.moveTo(g,j+i);n.lineTo(g,j-i);n.closePath();n.stroke()},EX:function(k,l,n,g,j,m,i){n.strokeStyle=m;n.beginPath();n.moveTo(g+i,j+i);n.lineTo(g-i,j-i);n.closePath();n.stroke();n.beginPath();n.moveTo(g+i,j-i);n.lineTo(g-i,j+i);n.closePath();n.stroke()}};Dygraph.IFrameTarp=function(){this.tarps=[]};Dygraph.IFrameTarp.prototype.cover=function(){var m=document.getElementsByTagName("iframe");for(var p=0;p<m.length;p++){var n=m[p];var i=Dygraph.findPosX(n),k=Dygraph.findPosY(n),o=n.offsetWidth,j=n.offsetHeight;var l=document.createElement("div");l.style.position="absolute";l.style.left=i+"px";l.style.top=k+"px";l.style.width=o+"px";l.style.height=j+"px";l.style.zIndex=999;document.body.appendChild(l);this.tarps.push(l)}};Dygraph.IFrameTarp.prototype.uncover=function(){for(var b=0;b<this.tarps.length;b++){this.tarps[b].parentNode.removeChild(this.tarps[b])}this.tarps=[]};Dygraph.detectLineDelimiter=function(f){for(var e=0;e<f.length;e++){var d=f.charAt(e);if(d==="\r"){if(((e+1)<f.length)&&(f.charAt(e+1)==="\n")){return"\r\n"}return d}if(d==="\n"){if(((e+1)<f.length)&&(f.charAt(e+1)==="\r")){return"\n\r"}return d}}return null};Dygraph.isNodeContainedBy=function(d,e){if(e===null||d===null){return false}var f=(d);while(f&&f!==e){f=f.parentNode}return(f===e)};Dygraph.pow=function(d,c){if(c<0){return 1/Math.pow(d,-c)}return Math.pow(d,c)};Dygraph.dateSetters={ms:Date.prototype.setMilliseconds,s:Date.prototype.setSeconds,m:Date.prototype.setMinutes,h:Date.prototype.setHours};Dygraph.setDateSameTZ=function(j,d){var h=j.getTimezoneOffset();for(var g in d){if(!d.hasOwnProperty(g)){continue}var i=Dygraph.dateSetters[g];if(!i){throw"Invalid setter: "+g}i.call(j,d[g]);if(j.getTimezoneOffset()!=h){j.setTime(j.getTime()+(h-j.getTimezoneOffset())*60*1000)}}};"use strict";Dygraph.GVizChart=function(b){this.container=b};Dygraph.GVizChart.prototype.draw=function(c,d){this.container.innerHTML="";if(typeof(this.date_graph)!="undefined"){this.date_graph.destroy()}this.date_graph=new Dygraph(this.container,c,d)};Dygraph.GVizChart.prototype.setSelection=function(c){var d=false;if(c.length){d=c[0].row}this.date_graph.setSelection(d)};Dygraph.GVizChart.prototype.getSelection=function(){var e=[];var g=this.date_graph.getSelection();if(g<0){return e}var f=this.date_graph.layout_.points;for(var h=0;h<f.length;++h){e.push({row:g,column:h+1})}return e};"use strict";Dygraph.Interaction={};Dygraph.Interaction.startPan=function(F,A,P){var C,Q;P.isPanning=true;var J=A.xAxisRange();P.dateRange=J[1]-J[0];P.initialLeftmostDate=J[0];P.xUnitsPerPixel=P.dateRange/(A.plotter_.area.w-1);if(A.attr_("panEdgeFraction")){var g=A.width_*A.attr_("panEdgeFraction");var O=A.xAxisExtremes();var K=A.toDomXCoord(O[0])-g;var I=A.toDomXCoord(O[1])+g;var z=A.toDataXCoord(K);var i=A.toDataXCoord(I);P.boundedDates=[z,i];var M=[];var R=A.height_*A.attr_("panEdgeFraction");for(C=0;C<A.axes_.length;C++){Q=A.axes_[C];var E=Q.extremeRange;var D=A.toDomYCoord(E[0],C)+R;var B=A.toDomYCoord(E[1],C)-R;var G=A.toDataYCoord(D,C);var N=A.toDataYCoord(B,C);M[C]=[G,N]}P.boundedValues=M}P.is2DPan=false;P.axes=[];for(C=0;C<A.axes_.length;C++){Q=A.axes_[C];var L={};var H=A.yAxisRange(C);var y=A.attributes_.getForAxis("logscale",C);if(y){L.initialTopValue=Dygraph.log10(H[1]);L.dragValueRange=Dygraph.log10(H[1])-Dygraph.log10(H[0])}else{L.initialTopValue=H[1];L.dragValueRange=H[1]-H[0]}L.unitsPerPixel=L.dragValueRange/(A.plotter_.area.h-1);P.axes.push(L);if(Q.valueWindow||Q.valueRange){P.is2DPan=true}}};Dygraph.Interaction.movePan=function(A,t,z){z.dragEndX=t.dragGetX_(A,z);z.dragEndY=t.dragGetY_(A,z);var v=z.initialLeftmostDate-(z.dragEndX-z.dragStartX)*z.xUnitsPerPixel;if(z.boundedDates){v=Math.max(v,z.boundedDates[0])}var B=v+z.dateRange;if(z.boundedDates){if(B>z.boundedDates[1]){v=v-(B-z.boundedDates[1]);B=v+z.dateRange}}t.dateWindow_=[v,B];if(z.is2DPan){var y=z.dragEndY-z.dragStartY;for(var u=0;u<t.axes_.length;u++){var x=t.axes_[u];var i=z.axes[u];var g=y*i.unitsPerPixel;var w=z.boundedValues?z.boundedValues[u]:null;var s=i.initialTopValue+g;if(w){s=Math.min(s,w[1])}var q=s-i.dragValueRange;if(w){if(q<w[0]){s=s-(q-w[0]);q=s-i.dragValueRange}}var r=t.attributes_.getForAxis("logscale",u);if(r){x.valueWindow=[Math.pow(Dygraph.LOG_SCALE,q),Math.pow(Dygraph.LOG_SCALE,s)]}else{x.valueWindow=[q,s]}}}t.drawGraph_(false)};Dygraph.Interaction.endPan=function(j,f,g){g.dragEndX=f.dragGetX_(j,g);g.dragEndY=f.dragGetY_(j,g);var h=Math.abs(g.dragEndX-g.dragStartX);var i=Math.abs(g.dragEndY-g.dragStartY);if(h<2&&i<2&&f.lastx_!==undefined&&f.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(f,j,g)}g.isPanning=false;g.is2DPan=false;g.initialLeftmostDate=null;g.dateRange=null;g.valueRange=null;g.boundedDates=null;g.boundedValues=null;g.axes=null};Dygraph.Interaction.startZoom=function(f,d,e){e.isZooming=true;e.zoomMoved=false};Dygraph.Interaction.moveZoom=function(j,f,g){g.zoomMoved=true;g.dragEndX=f.dragGetX_(j,g);g.dragEndY=f.dragGetY_(j,g);var h=Math.abs(g.dragStartX-g.dragEndX);var i=Math.abs(g.dragStartY-g.dragEndY);g.dragDirection=(h<i/2)?Dygraph.VERTICAL:Dygraph.HORIZONTAL;f.drawZoomRect_(g.dragDirection,g.dragStartX,g.dragEndX,g.dragStartY,g.dragEndY,g.prevDragDirection,g.prevEndX,g.prevEndY);g.prevEndX=g.dragEndX;g.prevEndY=g.dragEndY;g.prevDragDirection=g.dragDirection};Dygraph.Interaction.treatMouseOpAsClick=function(s,w,u){var p=s.attr_("clickCallback");var g=s.attr_("pointClickCallback");var q=null;if(g){var o=-1;var i=Number.MAX_VALUE;for(var t=0;t<s.selPoints_.length;t++){var v=s.selPoints_[t];var x=Math.pow(v.canvasx-u.dragEndX,2)+Math.pow(v.canvasy-u.dragEndY,2);if(!isNaN(x)&&(o==-1||x<i)){i=x;o=t}}var r=s.attr_("highlightCircleSize")+2;if(i<=r*r){q=s.selPoints_[o]}}if(q){g(w,q)}if(p){p(w,s.lastx_,s.selPoints_)}};Dygraph.Interaction.endZoom=function(r,m,p){p.isZooming=false;p.dragEndX=m.dragGetX_(r,p);p.dragEndY=m.dragGetY_(r,p);var n=Math.abs(p.dragEndX-p.dragStartX);var q=Math.abs(p.dragEndY-p.dragStartY);if(n<2&&q<2&&m.lastx_!==undefined&&m.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(m,r,p)}var s=m.getArea();if(n>=10&&p.dragDirection==Dygraph.HORIZONTAL){var o=Math.min(p.dragStartX,p.dragEndX),g=Math.max(p.dragStartX,p.dragEndX);o=Math.max(o,s.x);g=Math.min(g,s.x+s.w);if(o<g){m.doZoomX_(o,g)}p.cancelNextDblclick=true}else{if(q>=10&&p.dragDirection==Dygraph.VERTICAL){var l=Math.min(p.dragStartY,p.dragEndY),t=Math.max(p.dragStartY,p.dragEndY);l=Math.max(l,s.y);t=Math.min(t,s.y+s.h);if(l<t){m.doZoomY_(l,t)}p.cancelNextDblclick=true}else{if(p.zoomMoved){m.clearZoomRect_()}}}p.dragStartX=null;p.dragStartY=null};Dygraph.Interaction.startTouch=function(k,l,m){k.preventDefault();if(k.touches.length>1){m.startTimeForDoubleTapMs=null}var j=[];for(var n=0;n<k.touches.length;n++){var g=k.touches[n];j.push({pageX:g.pageX,pageY:g.pageY,dataX:l.toDataXCoord(g.pageX),dataY:l.toDataYCoord(g.pageY)})}m.initialTouches=j;if(j.length==1){m.initialPinchCenter=j[0];m.touchDirections={x:true,y:true}}else{if(j.length>=2){m.initialPinchCenter={pageX:0.5*(j[0].pageX+j[1].pageX),pageY:0.5*(j[0].pageY+j[1].pageY),dataX:0.5*(j[0].dataX+j[1].dataX),dataY:0.5*(j[0].dataY+j[1].dataY)};var i=180/Math.PI*Math.atan2(m.initialPinchCenter.pageY-j[0].pageY,j[0].pageX-m.initialPinchCenter.pageX);i=Math.abs(i);if(i>90){i=90-i}m.touchDirections={x:(i<(90-45/2)),y:(i>45/2)}}}m.initialRange={x:l.xAxisRange(),y:l.yAxisRange()}};Dygraph.Interaction.moveTouch=function(C,z,K){K.startTimeForDoubleTapMs=null;var A,E=[];for(A=0;A<C.touches.length;A++){var F=C.touches[A];E.push({pageX:F.pageX,pageY:F.pageY})}var N=K.initialTouches;var H;var G=K.initialPinchCenter;if(E.length==1){H=E[0]}else{H={pageX:0.5*(E[0].pageX+E[1].pageX),pageY:0.5*(E[0].pageY+E[1].pageY)}}var D={pageX:H.pageX-G.pageX,pageY:H.pageY-G.pageY};var I=K.initialRange.x[1]-K.initialRange.x[0];var B=K.initialRange.y[0]-K.initialRange.y[1];D.dataX=(D.pageX/z.plotter_.area.w)*I;D.dataY=(D.pageY/z.plotter_.area.h)*B;var g,L;if(E.length==1){g=1;L=1}else{if(E.length>=2){var J=(N[1].pageX-G.pageX);g=(E[1].pageX-H.pageX)/J;var i=(N[1].pageY-G.pageY);L=(E[1].pageY-H.pageY)/i}}g=Math.min(8,Math.max(0.125,g));L=Math.min(8,Math.max(0.125,L));var t=false;if(K.touchDirections.x){z.dateWindow_=[G.dataX-D.dataX+(K.initialRange.x[0]-G.dataX)/g,G.dataX-D.dataX+(K.initialRange.x[1]-G.dataX)/g];t=true}if(K.touchDirections.y){for(A=0;A<1;A++){var M=z.axes_[A];var x=z.attributes_.getForAxis("logscale",A);if(x){}else{M.valueWindow=[G.dataY-D.dataY+(K.initialRange.y[0]-G.dataY)/L,G.dataY-D.dataY+(K.initialRange.y[1]-G.dataY)/L];t=true}}}z.drawGraph_(false);if(t&&E.length>1&&z.attr_("zoomCallback")){var y=z.xAxisRange();z.attr_("zoomCallback")(y[0],y[1],z.yAxisRanges())}};Dygraph.Interaction.endTouch=function(h,i,j){if(h.touches.length!==0){Dygraph.Interaction.startTouch(h,i,j)}else{if(h.changedTouches.length==1){var g=new Date().getTime();var f=h.changedTouches[0];if(j.startTimeForDoubleTapMs&&g-j.startTimeForDoubleTapMs<500&&j.doubleTapX&&Math.abs(j.doubleTapX-f.screenX)<50&&j.doubleTapY&&Math.abs(j.doubleTapY-f.screenY)<50){i.resetZoom()}else{j.startTimeForDoubleTapMs=g;j.doubleTapX=f.screenX;j.doubleTapY=f.screenY}}}};Dygraph.Interaction.defaultModel={mousedown:function(f,d,e){if(f.button&&f.button==2){return}e.initializeMouseDown(f,d,e);if(f.altKey||f.shiftKey){Dygraph.startPan(f,d,e)}else{Dygraph.startZoom(f,d,e)}},mousemove:function(f,d,e){if(e.isZooming){Dygraph.moveZoom(f,d,e)}else{if(e.isPanning){Dygraph.movePan(f,d,e)}}},mouseup:function(f,d,e){if(e.isZooming){Dygraph.endZoom(f,d,e)}else{if(e.isPanning){Dygraph.endPan(f,d,e)}}},touchstart:function(f,d,e){Dygraph.Interaction.startTouch(f,d,e)},touchmove:function(f,d,e){Dygraph.Interaction.moveTouch(f,d,e)},touchend:function(f,d,e){Dygraph.Interaction.endTouch(f,d,e)},mouseout:function(f,d,e){if(e.isZooming){e.dragEndX=null;e.dragEndY=null;d.clearZoomRect_()}},dblclick:function(f,d,e){if(e.cancelNextDblclick){e.cancelNextDblclick=false;return}if(f.altKey||f.shiftKey){return}d.resetZoom()}};Dygraph.DEFAULT_ATTRS.interactionModel=Dygraph.Interaction.defaultModel;Dygraph.defaultInteractionModel=Dygraph.Interaction.defaultModel;Dygraph.endZoom=Dygraph.Interaction.endZoom;Dygraph.moveZoom=Dygraph.Interaction.moveZoom;Dygraph.startZoom=Dygraph.Interaction.startZoom;Dygraph.endPan=Dygraph.Interaction.endPan;Dygraph.movePan=Dygraph.Interaction.movePan;Dygraph.startPan=Dygraph.Interaction.startPan;Dygraph.Interaction.nonInteractiveModel_={mousedown:function(f,d,e){e.initializeMouseDown(f,d,e)},mouseup:function(j,f,g){g.dragEndX=f.dragGetX_(j,g);g.dragEndY=f.dragGetY_(j,g);var h=Math.abs(g.dragEndX-g.dragStartX);var i=Math.abs(g.dragEndY-g.dragStartY);if(h<2&&i<2&&f.lastx_!==undefined&&f.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(f,j,g)}}};Dygraph.Interaction.dragIsPanInteractionModel={mousedown:function(f,d,e){e.initializeMouseDown(f,d,e);Dygraph.startPan(f,d,e)},mousemove:function(f,d,e){if(e.isPanning){Dygraph.movePan(f,d,e)}},mouseup:function(f,d,e){if(e.isPanning){Dygraph.endPan(f,d,e)}}};"use strict";Dygraph.TickList=undefined;Dygraph.Ticker=undefined;Dygraph.numericLinearTicks=function(m,n,a,j,k,b){var l=function(c){if(c==="logscale"){return false}return j(c)};return Dygraph.numericTicks(m,n,a,l,k,b)};Dygraph.numericTicks=function(N,P,O,Y,ai,W){var a=(Y("pixelsPerLabel"));var M=[];var T,X,Q,b;if(W){for(T=0;T<W.length;T++){M.push({v:W[T]})}}else{if(Y("logscale")){b=Math.floor(O/a);var ac=Dygraph.binarySearch(N,Dygraph.PREFERRED_LOG_TICK_VALUES,1);var K=Dygraph.binarySearch(P,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);if(ac==-1){ac=0}if(K==-1){K=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1}var S=null;if(K-ac>=b/4){for(var U=K;U>=ac;U--){var ab=Dygraph.PREFERRED_LOG_TICK_VALUES[U];var ad=Math.log(ab/N)/Math.log(P/N)*O;var R={v:ab};if(S===null){S={tickValue:ab,pixel_coord:ad}}else{if(Math.abs(ad-S.pixel_coord)>=a){S={tickValue:ab,pixel_coord:ad}}else{R.label=""}}M.push(R)}M.reverse()}}if(M.length===0){var af=Y("labelsKMG2");var aa,ae;if(af){aa=[1,2,4,8,16,32,64,128,256];ae=16}else{aa=[1,2,5,10,20,50,100];ae=10}var J=Math.ceil(O/a);var Z=Math.abs(P-N)/J;var L=Math.floor(Math.log(Z)/Math.log(ae));var ag=Math.pow(ae,L);var j,i,aj,ah;for(X=0;X<aa.length;X++){j=ag*aa[X];i=Math.floor(N/j)*j;aj=Math.ceil(P/j)*j;b=Math.abs(aj-i)/j;ah=O/b;if(ah>a){break}}if(i>aj){j*=-1}for(T=0;T<b;T++){Q=i+T*j;M.push({v:Q})}}}var V=(Y("axisLabelFormatter"));for(T=0;T<M.length;T++){if(M[T].label!==undefined){continue}M[T].label=V(M[T].v,0,Y,ai)}return M};Dygraph.dateTicker=function(l,n,a,j,k,b){var m=Dygraph.pickDateTickGranularity(l,n,a,j);if(m>=0){return Dygraph.getDateAxis(l,n,m,j,k)}else{return[]}};Dygraph.SECONDLY=0;Dygraph.TWO_SECONDLY=1;Dygraph.FIVE_SECONDLY=2;Dygraph.TEN_SECONDLY=3;Dygraph.THIRTY_SECONDLY=4;Dygraph.MINUTELY=5;Dygraph.TWO_MINUTELY=6;Dygraph.FIVE_MINUTELY=7;Dygraph.TEN_MINUTELY=8;Dygraph.THIRTY_MINUTELY=9;Dygraph.HOURLY=10;Dygraph.TWO_HOURLY=11;Dygraph.SIX_HOURLY=12;Dygraph.DAILY=13;Dygraph.WEEKLY=14;Dygraph.MONTHLY=15;Dygraph.QUARTERLY=16;Dygraph.BIANNUAL=17;Dygraph.ANNUAL=18;Dygraph.DECADAL=19;Dygraph.CENTENNIAL=20;Dygraph.NUM_GRANULARITIES=21;Dygraph.SHORT_SPACINGS=[];Dygraph.SHORT_SPACINGS[Dygraph.SECONDLY]=1000*1;Dygraph.SHORT_SPACINGS[Dygraph.TWO_SECONDLY]=1000*2;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_SECONDLY]=1000*5;Dygraph.SHORT_SPACINGS[Dygraph.TEN_SECONDLY]=1000*10;Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_SECONDLY]=1000*30;Dygraph.SHORT_SPACINGS[Dygraph.MINUTELY]=1000*60;Dygraph.SHORT_SPACINGS[Dygraph.TWO_MINUTELY]=1000*60*2;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_MINUTELY]=1000*60*5;Dygraph.SHORT_SPACINGS[Dygraph.TEN_MINUTELY]=1000*60*10;Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_MINUTELY]=1000*60*30;Dygraph.SHORT_SPACINGS[Dygraph.HOURLY]=1000*3600;Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY]=1000*3600*2;Dygraph.SHORT_SPACINGS[Dygraph.SIX_HOURLY]=1000*3600*6;Dygraph.SHORT_SPACINGS[Dygraph.DAILY]=1000*86400;Dygraph.SHORT_SPACINGS[Dygraph.WEEKLY]=1000*604800;Dygraph.LONG_TICK_PLACEMENTS=[];Dygraph.LONG_TICK_PLACEMENTS[Dygraph.MONTHLY]={months:[0,1,2,3,4,5,6,7,8,9,10,11],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.QUARTERLY]={months:[0,3,6,9],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.BIANNUAL]={months:[0,6],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.ANNUAL]={months:[0],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.DECADAL]={months:[0],year_mod:10};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.CENTENNIAL]={months:[0],year_mod:100};Dygraph.PREFERRED_LOG_TICK_VALUES=function(){var j=[];for(var f=-39;f<=39;f++){var g=Math.pow(10,f);for(var i=1;i<=9;i++){var h=g*i;j.push(h)}}return j}();Dygraph.pickDateTickGranularity=function(m,n,a,b){var i=(b("pixelsPerLabel"));for(var k=0;k<Dygraph.NUM_GRANULARITIES;k++){var l=Dygraph.numDateTicks(m,n,k);if(a/l>=i){return k}}return -1};Dygraph.numDateTicks=function(l,h,k){if(k<Dygraph.MONTHLY){var j=Dygraph.SHORT_SPACINGS[k];return Math.floor(0.5+1*(h-l)/j)}else{var m=Dygraph.LONG_TICK_PLACEMENTS[k];var n=365.2524*24*3600*1000;var i=1*(h-l)/n;return Math.floor(0.5+1*i*m.months.length/m.year_mod)}};Dygraph.getDateAxis=function(I,M,T,K,d){var i=(K("axisLabelFormatter"));var D=[];var L;if(T<Dygraph.MONTHLY){var R=Dygraph.SHORT_SPACINGS[T];var g=R/1000;var H=new Date(I);Dygraph.setDateSameTZ(H,{ms:0});var O;if(g<=60){O=H.getSeconds();Dygraph.setDateSameTZ(H,{s:O-O%g})}else{Dygraph.setDateSameTZ(H,{s:0});g/=60;if(g<=60){O=H.getMinutes();Dygraph.setDateSameTZ(H,{m:O-O%g})}else{Dygraph.setDateSameTZ(H,{m:0});g/=60;if(g<=24){O=H.getHours();H.setHours(O-O%g)}else{H.setHours(0);g/=24;if(g==7){H.setDate(H.getDate()-H.getDay())}}}}I=H.getTime();var G=new Date(I).getTimezoneOffset();var Q=(R>=Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY]);for(L=I;L<=M;L+=R){H=new Date(L);if(Q&&H.getTimezoneOffset()!=G){var N=H.getTimezoneOffset()-G;L+=N*60*1000;H=new Date(L);G=H.getTimezoneOffset();if(new Date(L+R).getTimezoneOffset()!=G){L+=R;H=new Date(L);G=H.getTimezoneOffset()}}D.push({v:L,label:i(H,T,K,d)})}}else{var P;var E=1;if(T<Dygraph.NUM_GRANULARITIES){P=Dygraph.LONG_TICK_PLACEMENTS[T].months;E=Dygraph.LONG_TICK_PLACEMENTS[T].year_mod}else{Dygraph.warn("Span of dates is too long")}var j=new Date(I).getFullYear();var F=new Date(M).getFullYear();var S=Dygraph.zeropad;for(var t=j;t<=F;t++){if(t%E!==0){continue}for(var x=0;x<P.length;x++){var J=t+"/"+S(1+P[x])+"/01";L=Dygraph.dateStrToMillis(J);if(L<I||L>M){continue}D.push({v:L,label:i(new Date(L),T,K,d)})}}}return D};if(Dygraph&&Dygraph.DEFAULT_ATTRS&&Dygraph.DEFAULT_ATTRS.axes&&Dygraph.DEFAULT_ATTRS.axes.x&&Dygraph.DEFAULT_ATTRS.axes.y&&Dygraph.DEFAULT_ATTRS.axes.y2){Dygraph.DEFAULT_ATTRS.axes.x["ticker"]=Dygraph.dateTicker;Dygraph.DEFAULT_ATTRS.axes.y["ticker"]=Dygraph.numericTicks;Dygraph.DEFAULT_ATTRS.axes.y2["ticker"]=Dygraph.numericTicks}Dygraph.Plugins={};Dygraph.Plugins.Annotations=(function(){var b=function(){this.annotations_=[]};b.prototype.toString=function(){return"Annotations Plugin"};b.prototype.activate=function(a){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};b.prototype.detachLabels=function(){for(var d=0;d<this.annotations_.length;d++){var a=this.annotations_[d];if(a.parentNode){a.parentNode.removeChild(a)}this.annotations_[d]=null}this.annotations_=[]};b.prototype.clearChart=function(a){this.detachLabels()};b.prototype.didDrawChart=function(i){var y=i.dygraph;var C=y.layout_.annotated_points;if(!C||C.length===0){return}var L=i.canvas.parentNode;var e={position:"absolute",fontSize:y.getOption("axisLabelFontSize")+"px",zIndex:10,overflow:"hidden"};var P=function(f,d,c){return function(j){var h=c.annotation;if(h.hasOwnProperty(f)){h[f](h,c,y,j)}else{if(y.getOption(d)){y.getOption(d)(h,c,y,j)}}}};var p=i.dygraph.plotter_.area;var D={};for(var B=0;B<C.length;B++){var I=C[B];if(I.canvasx<p.x||I.canvasx>p.x+p.w||I.canvasy<p.y||I.canvasy>p.y+p.h){continue}var g=I.annotation;var G=6;if(g.hasOwnProperty("tickHeight")){G=g.tickHeight}var K=document.createElement("div");for(var E in e){if(e.hasOwnProperty(E)){K.style[E]=e[E]}}if(!g.hasOwnProperty("icon")){K.className="dygraphDefaultAnnotation"}if(g.hasOwnProperty("cssClass")){K.className+=" "+g.cssClass}var H=g.hasOwnProperty("width")?g.width:16;var J=g.hasOwnProperty("height")?g.height:16;if(g.hasOwnProperty("icon")){var a=document.createElement("img");a.src=g.icon;a.width=H;a.height=J;K.appendChild(a)}else{if(I.annotation.hasOwnProperty("shortText")){K.appendChild(document.createTextNode(I.annotation.shortText))}}var O=I.canvasx-H/2;K.style.left=O+"px";var M=0;if(g.attachAtBottom){var N=(p.y+p.h-J-G);if(D[O]){N-=D[O]}else{D[O]=0}D[O]+=(G+J);M=N}else{M=I.canvasy-J-G}K.style.top=M+"px";K.style.width=H+"px";K.style.height=J+"px";K.title=I.annotation.text;K.style.color=y.colorsMap_[I.name];K.style.borderColor=y.colorsMap_[I.name];g.div=K;y.addAndTrackEvent(K,"click",P("clickHandler","annotationClickHandler",I,this));y.addAndTrackEvent(K,"mouseover",P("mouseOverHandler","annotationMouseOverHandler",I,this));y.addAndTrackEvent(K,"mouseout",P("mouseOutHandler","annotationMouseOutHandler",I,this));y.addAndTrackEvent(K,"dblclick",P("dblClickHandler","annotationDblClickHandler",I,this));L.appendChild(K);this.annotations_.push(K);var F=i.drawingContext;F.save();F.strokeStyle=y.colorsMap_[I.name];F.beginPath();if(!g.attachAtBottom){F.moveTo(I.canvasx,I.canvasy);F.lineTo(I.canvasx,I.canvasy-2-G)}else{var N=M+J;F.moveTo(I.canvasx,N);F.lineTo(I.canvasx,N+G)}F.closePath();F.stroke();F.restore()}};b.prototype.destroy=function(){this.detachLabels()};return b})();Dygraph.Plugins.Axes=(function(){var b=function(){this.xlabels_=[];this.ylabels_=[]};b.prototype.toString=function(){return"Axes Plugin"};b.prototype.activate=function(a){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};b.prototype.layout=function(e){var g=e.dygraph;if(g.getOption("drawYAxis")){var a=g.getOption("yAxisLabelWidth")+2*g.getOption("axisTickSize");e.reserveSpaceLeft(a)}if(g.getOption("drawXAxis")){var h;if(g.getOption("xAxisHeight")){h=g.getOption("xAxisHeight")}else{h=g.getOptionForAxis("axisLabelFontSize","x")+2*g.getOption("axisTickSize")}e.reserveSpaceBottom(h)}if(g.numAxes()==2){if(g.getOption("drawYAxis")){var a=g.getOption("yAxisLabelWidth")+2*g.getOption("axisTickSize");e.reserveSpaceRight(a)}}else{if(g.numAxes()>2){g.error("Only two y-axes are supported at this time. (Trying to use "+g.numAxes()+")")}}};b.prototype.detachLabels=function(){function a(g){for(var h=0;h<g.length;h++){var f=g[h];if(f.parentNode){f.parentNode.removeChild(f)}}}a(this.xlabels_);a(this.ylabels_);this.xlabels_=[];this.ylabels_=[]};b.prototype.clearChart=function(a){this.detachLabels()};b.prototype.willDrawChart=function(r){var K=r.dygraph;if(!K.getOption("drawXAxis")&&!K.getOption("drawYAxis")){return}function S(c){return Math.round(c)+0.5}function T(c){return Math.round(c)-0.5}var aa=r.drawingContext;var y=r.canvas.parentNode;var e=r.canvas.width;var ad=r.canvas.height;var O,L,N,M,P;var Q=function(c){return{position:"absolute",fontSize:K.getOptionForAxis("axisLabelFontSize",c)+"px",zIndex:10,color:K.getOptionForAxis("axisLabelColor",c),width:K.getOption("axisLabelWidth")+"px",lineHeight:"normal",overflow:"hidden"}};var U={x:Q("x"),y:Q("y"),y2:Q("y2")};var X=function(j,c,l){var d=document.createElement("div");var k=U[l=="y2"?"y2":c];for(var h in k){if(k.hasOwnProperty(h)){d.style[h]=k[h]}}var f=document.createElement("div");f.className="dygraph-axis-label dygraph-axis-label-"+c+(l?" dygraph-axis-label-"+l:"");f.innerHTML=j;d.appendChild(f);return d};aa.save();var g=K.layout_;var x=r.dygraph.plotter_.area;if(K.getOption("drawYAxis")){if(g.yticks&&g.yticks.length>0){var ab=K.numAxes();for(P=0;P<g.yticks.length;P++){M=g.yticks[P];if(typeof(M)=="function"){return}L=x.x;var V=1;var ac="y1";if(M[0]==1){L=x.x+x.w;V=-1;ac="y2"}var Z=K.getOptionForAxis("axisLabelFontSize",ac);N=x.y+M[1]*x.h;O=X(M[2],"y",ab==2?ac:null);var a=(N-Z/2);if(a<0){a=0}if(a+Z+3>ad){O.style.bottom="0px"}else{O.style.top=a+"px"}if(M[0]===0){O.style.left=(x.x-K.getOption("yAxisLabelWidth")-K.getOption("axisTickSize"))+"px";O.style.textAlign="right"}else{if(M[0]==1){O.style.left=(x.x+x.w+K.getOption("axisTickSize"))+"px";O.style.textAlign="left"}}O.style.width=K.getOption("yAxisLabelWidth")+"px";y.appendChild(O);this.ylabels_.push(O)}var W=this.ylabels_[0];var Z=K.getOptionForAxis("axisLabelFontSize","y");var R=parseInt(W.style.top,10)+Z;if(R>ad-Z){W.style.top=(parseInt(W.style.top,10)-Z/2)+"px"}}var ae;if(K.getOption("drawAxesAtZero")){var i=K.toPercentXCoord(0);if(i>1||i<0||isNaN(i)){i=0}ae=S(x.x+i*x.w)}else{ae=S(x.x)}aa.strokeStyle=K.getOptionForAxis("axisLineColor","y");aa.lineWidth=K.getOptionForAxis("axisLineWidth","y");aa.beginPath();aa.moveTo(ae,T(x.y));aa.lineTo(ae,T(x.y+x.h));aa.closePath();aa.stroke();if(K.numAxes()==2){aa.strokeStyle=K.getOptionForAxis("axisLineColor","y2");aa.lineWidth=K.getOptionForAxis("axisLineWidth","y2");aa.beginPath();aa.moveTo(T(x.x+x.w),T(x.y));aa.lineTo(T(x.x+x.w),T(x.y+x.h));aa.closePath();aa.stroke()}}if(K.getOption("drawXAxis")){if(g.xticks){for(P=0;P<g.xticks.length;P++){M=g.xticks[P];L=x.x+M[0]*x.w;N=x.y+x.h;O=X(M[1],"x");O.style.textAlign="center";O.style.top=(N+K.getOption("axisTickSize"))+"px";var Y=(L-K.getOption("axisLabelWidth")/2);if(Y+K.getOption("axisLabelWidth")>e){Y=e-K.getOption("xAxisLabelWidth");O.style.textAlign="right"}if(Y<0){Y=0;O.style.textAlign="left"}O.style.left=Y+"px";O.style.width=K.getOption("xAxisLabelWidth")+"px";y.appendChild(O);this.xlabels_.push(O)}}aa.strokeStyle=K.getOptionForAxis("axisLineColor","x");aa.lineWidth=K.getOptionForAxis("axisLineWidth","x");aa.beginPath();var af;if(K.getOption("drawAxesAtZero")){var i=K.toPercentYCoord(0,0);if(i>1||i<0){i=1}af=T(x.y+i*x.h)}else{af=T(x.y+x.h)}aa.moveTo(S(x.x),af);aa.lineTo(S(x.x+x.w),af);aa.closePath();aa.stroke()}aa.restore()};return b})();Dygraph.Plugins.ChartLabels=(function(){var f=function(){this.title_div_=null;this.xlabel_div_=null;this.ylabel_div_=null;this.y2label_div_=null};f.prototype.toString=function(){return"ChartLabels Plugin"};f.prototype.activate=function(a){return{layout:this.layout,didDrawChart:this.didDrawChart}};var d=function(b){var a=document.createElement("div");a.style.position="absolute";a.style.left=b.x+"px";a.style.top=b.y+"px";a.style.width=b.w+"px";a.style.height=b.h+"px";return a};f.prototype.detachLabels_=function(){var b=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_];for(var c=0;c<b.length;c++){var a=b[c];if(!a){continue}if(a.parentNode){a.parentNode.removeChild(a)}}this.title_div_=null;this.xlabel_div_=null;this.ylabel_div_=null;this.y2label_div_=null};var e=function(b,n,p,o,g){var r=document.createElement("div");r.style.position="absolute";if(p==1){r.style.left="0px"}else{r.style.left=n.x+"px"}r.style.top=n.y+"px";r.style.width=n.w+"px";r.style.height=n.h+"px";r.style.fontSize=(b.getOption("yLabelWidth")-2)+"px";var a=document.createElement("div");a.style.position="absolute";a.style.width=n.h+"px";a.style.height=n.w+"px";a.style.top=(n.h/2-n.w/2)+"px";a.style.left=(n.w/2-n.h/2)+"px";a.style.textAlign="center";var q="rotate("+(p==1?"-":"")+"90deg)";a.style.transform=q;a.style.WebkitTransform=q;a.style.MozTransform=q;a.style.OTransform=q;a.style.msTransform=q;if(typeof(document.documentMode)!=="undefined"&&document.documentMode<9){a.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+(p==1?"3":"1")+")";a.style.left="0px";a.style.top="0px"}var c=document.createElement("div");c.className=o;c.innerHTML=g;a.appendChild(c);r.appendChild(a);return r};f.prototype.layout=function(c){this.detachLabels_();var n=c.dygraph;var a=c.chart_div;if(n.getOption("title")){var q=c.reserveSpaceTop(n.getOption("titleHeight"));this.title_div_=d(q);this.title_div_.style.textAlign="center";this.title_div_.style.fontSize=(n.getOption("titleHeight")-8)+"px";this.title_div_.style.fontWeight="bold";this.title_div_.style.zIndex=10;var p=document.createElement("div");p.className="dygraph-label dygraph-title";p.innerHTML=n.getOption("title");this.title_div_.appendChild(p);a.appendChild(this.title_div_)}if(n.getOption("xlabel")){var g=c.reserveSpaceBottom(n.getOption("xLabelHeight"));this.xlabel_div_=d(g);this.xlabel_div_.style.textAlign="center";this.xlabel_div_.style.fontSize=(n.getOption("xLabelHeight")-2)+"px";var p=document.createElement("div");p.className="dygraph-label dygraph-xlabel";p.innerHTML=n.getOption("xlabel");this.xlabel_div_.appendChild(p);a.appendChild(this.xlabel_div_)}if(n.getOption("ylabel")){var o=c.reserveSpaceLeft(0);this.ylabel_div_=e(n,o,1,"dygraph-label dygraph-ylabel",n.getOption("ylabel"));a.appendChild(this.ylabel_div_)}if(n.getOption("y2label")&&n.numAxes()==2){var b=c.reserveSpaceRight(0);this.y2label_div_=e(n,b,2,"dygraph-label dygraph-y2label",n.getOption("y2label"));a.appendChild(this.y2label_div_)}};f.prototype.didDrawChart=function(a){var b=a.dygraph;if(this.title_div_){this.title_div_.children[0].innerHTML=b.getOption("title")}if(this.xlabel_div_){this.xlabel_div_.children[0].innerHTML=b.getOption("xlabel")}if(this.ylabel_div_){this.ylabel_div_.children[0].children[0].innerHTML=b.getOption("ylabel")}if(this.y2label_div_){this.y2label_div_.children[0].children[0].innerHTML=b.getOption("y2label")}};f.prototype.clearChart=function(){};f.prototype.destroy=function(){this.detachLabels_()};return f})();Dygraph.Plugins.Grid=(function(){var b=function(){};b.prototype.toString=function(){return"Gridline Plugin"};b.prototype.activate=function(a){return{willDrawChart:this.willDrawChart}};b.prototype.willDrawChart=function(i){var x=i.dygraph;var C=i.drawingContext;var g=x.layout_;var w=i.dygraph.plotter_.area;function D(c){return Math.round(c)+0.5}function E(c){return Math.round(c)-0.5}var F,G,y,e;if(x.getOption("drawYGrid")){var z=["y","y2"];var B=[],a=[],J=[],A=[],H=[];for(var y=0;y<z.length;y++){J[y]=x.getOptionForAxis("drawGrid",z[y]);if(J[y]){B[y]=x.getOptionForAxis("gridLineColor",z[y]);a[y]=x.getOptionForAxis("gridLineWidth",z[y]);H[y]=x.getOptionForAxis("gridLinePattern",z[y]);A[y]=H[y]&&(H[y].length>=2)}}e=g.yticks;C.save();for(y=0;y<e.length;y++){var I=e[y][0];if(J[I]){if(A[I]){C.installPattern(H[I])}C.strokeStyle=B[I];C.lineWidth=a[I];F=D(w.x);G=E(w.y+e[y][1]*w.h);C.beginPath();C.moveTo(F,G);C.lineTo(F+w.w,G);C.closePath();C.stroke();if(A[I]){C.uninstallPattern()}}}C.restore()}if(x.getOption("drawXGrid")&&x.getOptionForAxis("drawGrid","x")){e=g.xticks;C.save();var H=x.getOptionForAxis("gridLinePattern","x");var A=H&&(H.length>=2);if(A){C.installPattern(H)}C.strokeStyle=x.getOptionForAxis("gridLineColor","x");C.lineWidth=x.getOptionForAxis("gridLineWidth","x");for(y=0;y<e.length;y++){F=D(w.x+e[y][0]*w.w);G=E(w.y+w.h);C.beginPath();C.moveTo(F,G);C.lineTo(F,w.y);C.closePath();C.stroke()}if(A){C.uninstallPattern()}C.restore()}};b.prototype.destroy=function(){};return b})();Dygraph.Plugins.Legend=(function(){var h=function(){this.legend_div_=null;this.is_generated_div_=false};h.prototype.toString=function(){return"Legend Plugin"};var f,g;h.prototype.activate=function(d){var a;var p=d.getOption("labelsDivWidth");var b=d.getOption("labelsDiv");if(b&&null!==b){if(typeof(b)=="string"||b instanceof String){a=document.getElementById(b)}else{a=b}}else{var n={position:"absolute",fontSize:"14px",zIndex:10,width:p+"px",top:"0px",left:(d.size().width-p-2)+"px",background:"white",lineHeight:"normal",textAlign:"left",overflow:"hidden"};Dygraph.update(n,d.getOption("labelsDivStyles"));a=document.createElement("div");a.className="dygraph-legend";for(var o in n){if(!n.hasOwnProperty(o)){continue}try{a.style[o]=n[o]}catch(c){this.warn("You are using unsupported css properties for your browser in labelsDivStyles")}}d.graphDiv.appendChild(a);this.is_generated_div_=true}this.legend_div_=a;this.one_em_width_=10;return{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var e=function(a){var b=document.createElement("span");b.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;");a.appendChild(b);var c=b.offsetWidth;a.removeChild(b);return c};h.prototype.select=function(a){var b=a.selectedX;var c=a.selectedPoints;var d=f(a.dygraph,b,c,this.one_em_width_);this.legend_div_.innerHTML=d};h.prototype.deselect=function(a){var c=e(this.legend_div_);this.one_em_width_=c;var b=f(a.dygraph,undefined,undefined,c);this.legend_div_.innerHTML=b};h.prototype.didDrawChart=function(a){this.deselect(a)};h.prototype.predraw=function(a){if(!this.is_generated_div_){return}a.dygraph.graphDiv.appendChild(this.legend_div_);var b=a.dygraph.plotter_.area;var c=a.dygraph.getOption("labelsDivWidth");this.legend_div_.style.left=b.x+b.w-c-1+"px";this.legend_div_.style.top=b.y+"px";this.legend_div_.style.width=c+"px"};h.prototype.destroy=function(){this.legend_div_=null};f=function(c,J,N,R){if(c.getOption("showLabelsOnHighlight")!==true){return""}var F,E,i,D,M;var a=c.getLabels();if(typeof(J)==="undefined"){if(c.getOption("legend")!="always"){return""}E=c.getOption("labelsSeparateLines");F="";for(i=1;i<a.length;i++){var H=c.getPropertiesForSeries(a[i]);if(!H.visible){continue}if(F!==""){F+=(E?"<br/>":" ")}M=c.getOption("strokePattern",a[i]);D=g(M,H.color,R);F+="<span style='font-weight: bold; color: "+H.color+";'>"+D+" "+a[i]+"</span>"}return F}var I=c.optionsViewForAxis_("x");var K=I("valueFormatter");F=K(J,I,a[0],c);if(F!==""){F+=":"}var d=[];var P=c.numAxes();for(i=0;i<P;i++){d[i]=c.optionsViewForAxis_("y"+(i?1+i:""))}var O=c.getOption("labelsShowZeroValues");E=c.getOption("labelsSeparateLines");var G=c.getHighlightSeries();for(i=0;i<N.length;i++){var x=N[i];if(x.yval===0&&!O){continue}if(!Dygraph.isOK(x.canvasy)){continue}if(E){F+="<br/>"}var H=c.getPropertiesForSeries(x.name);var L=d[H.axis-1];var b=L("valueFormatter");var S=b(x.yval,L,x.name,c);var Q=(x.name==G)?" class='highlight'":"";F+="<span"+Q+"> <b><span style='color: "+H.color+";'>"+x.name+"</span></b>:&nbsp;"+S+"</span>"}return F};g=function(z,v,a){var y=(/MSIE/.test(navigator.userAgent)&&!window.opera);if(y){return"&mdash;"}if(!z||z.length<=1){return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+v+';"></div>'}var t,u,x,d;var w=0,b=0;var c=[];var i;for(t=0;t<=z.length;t++){w+=z[t%z.length]}i=Math.floor(a/(w-z[0]));if(i>1){for(t=0;t<z.length;t++){c[t]=z[t]/a}b=c.length}else{i=1;for(t=0;t<z.length;t++){c[t]=z[t]/w}b=c.length+1}var j="";for(u=0;u<i;u++){for(t=0;t<b;t+=2){x=c[t%c.length];if(t<z.length){d=c[(t+1)%c.length]}else{d=0}j+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+d+"em; padding-left: "+x+"em; height: 1px; border-bottom: 2px solid "+v+';"></div>'}}return j};return h})();Dygraph.Plugins.RangeSelector=(function(){var b=function(){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera;this.hasTouchInterface_=typeof(TouchEvent)!="undefined";this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion);this.interfaceCreated_=false};b.prototype.toString=function(){return"RangeSelector Plugin"};b.prototype.activate=function(a){this.dygraph_=a;this.isUsingExcanvas_=a.isUsingExcanvas_;if(this.getOption_("showRangeSelector")){this.createInterface_()}return{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};b.prototype.destroy=function(){this.bgcanvas_=null;this.fgcanvas_=null;this.leftZoomHandle_=null;this.rightZoomHandle_=null;this.iePanOverlay_=null};b.prototype.getOption_=function(a){return this.dygraph_.getOption(a)};b.prototype.setDefaultOption_=function(a,d){return this.dygraph_.attrs_[a]=d};b.prototype.createInterface_=function(){this.createCanvases_();if(this.isUsingExcanvas_){this.createIEPanOverlay_()}this.createZoomHandles_();this.initInteraction_();if(this.getOption_("animatedZooms")){this.dygraph_.warn("Animated zooms and range selector are not compatible; disabling animatedZooms.");this.dygraph_.updateOptions({animatedZooms:false},true)}this.interfaceCreated_=true;this.addToGraph_()};b.prototype.addToGraph_=function(){var a=this.graphDiv_=this.dygraph_.graphDiv;a.appendChild(this.bgcanvas_);a.appendChild(this.fgcanvas_);a.appendChild(this.leftZoomHandle_);a.appendChild(this.rightZoomHandle_)};b.prototype.removeFromGraph_=function(){var a=this.graphDiv_;a.removeChild(this.bgcanvas_);a.removeChild(this.fgcanvas_);a.removeChild(this.leftZoomHandle_);a.removeChild(this.rightZoomHandle_);this.graphDiv_=null};b.prototype.reserveSpace_=function(a){if(this.getOption_("showRangeSelector")){a.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)}};b.prototype.renderStaticLayer_=function(){if(!this.updateVisibility_()){return}this.resize_();this.drawStaticLayer_()};b.prototype.renderInteractiveLayer_=function(){if(!this.updateVisibility_()||this.isChangingRange_){return}this.placeZoomHandles_();this.drawInteractiveLayer_()};b.prototype.updateVisibility_=function(){var a=this.getOption_("showRangeSelector");if(a){if(!this.interfaceCreated_){this.createInterface_()}else{if(!this.graphDiv_||!this.graphDiv_.parentNode){this.addToGraph_()}}}else{if(this.graphDiv_){this.removeFromGraph_();var d=this.dygraph_;setTimeout(function(){d.width_=0;d.resize()},1)}}return a};b.prototype.resize_=function(){function e(d,c){d.style.top=c.y+"px";d.style.left=c.x+"px";d.width=c.w;d.height=c.h;d.style.width=d.width+"px";d.style.height=d.height+"px"}var f=this.dygraph_.layout_.getPlotArea();var a=0;if(this.getOption_("drawXAxis")){a=this.getOption_("xAxisHeight")||(this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize"))}this.canvasRect_={x:f.x,y:f.y+f.h+a+4,w:f.w,h:this.getOption_("rangeSelectorHeight")};e(this.bgcanvas_,this.canvasRect_);e(this.fgcanvas_,this.canvasRect_)};b.prototype.createCanvases_=function(){this.bgcanvas_=Dygraph.createCanvas();this.bgcanvas_.className="dygraph-rangesel-bgcanvas";this.bgcanvas_.style.position="absolute";this.bgcanvas_.style.zIndex=9;this.bgcanvas_ctx_=Dygraph.getContext(this.bgcanvas_);this.fgcanvas_=Dygraph.createCanvas();this.fgcanvas_.className="dygraph-rangesel-fgcanvas";this.fgcanvas_.style.position="absolute";this.fgcanvas_.style.zIndex=9;this.fgcanvas_.style.cursor="default";this.fgcanvas_ctx_=Dygraph.getContext(this.fgcanvas_)};b.prototype.createIEPanOverlay_=function(){this.iePanOverlay_=document.createElement("div");this.iePanOverlay_.style.position="absolute";this.iePanOverlay_.style.backgroundColor="white";this.iePanOverlay_.style.filter="alpha(opacity=0)";this.iePanOverlay_.style.display="none";this.iePanOverlay_.style.cursor="move";this.fgcanvas_.appendChild(this.iePanOverlay_)};b.prototype.createZoomHandles_=function(){var a=new Image();a.className="dygraph-rangesel-zoomhandle";a.style.position="absolute";a.style.zIndex=10;a.style.visibility="hidden";a.style.cursor="col-resize";if(/MSIE 7/.test(navigator.userAgent)){a.width=7;a.height=14;a.style.backgroundColor="white";a.style.border="1px solid #333333"}else{a.width=9;a.height=16;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}if(this.isMobileDevice_){a.width*=2;a.height*=2}this.leftZoomHandle_=a;this.rightZoomHandle_=a.cloneNode(false)};b.prototype.initInteraction_=function(){var G=this;var M=this.isIE_?document:window;var A=0;var z=null;var C=false;var R=false;var O=!this.isMobileDevice_&&!this.isUsingExcanvas_;var K=new Dygraph.IFrameTarp();var F,P,D,L,y,N,a,B,E,S,J;var Q,H,I;F=function(e){var g=G.dygraph_.xAxisExtremes();var d=(g[1]-g[0])/G.canvasRect_.w;var c=g[0]+(e.leftHandlePos-G.canvasRect_.x)*d;var f=g[0]+(e.rightHandlePos-G.canvasRect_.x)*d;return[c,f]};P=function(c){Dygraph.cancelEvent(c);C=true;A=c.clientX;z=c.target?c.target:c.srcElement;if(c.type==="mousedown"||c.type==="dragstart"){Dygraph.addEvent(M,"mousemove",D);Dygraph.addEvent(M,"mouseup",L)}G.fgcanvas_.style.cursor="col-resize";K.cover();return true};D=function(e){if(!C){return false}Dygraph.cancelEvent(e);var d=e.clientX-A;if(Math.abs(d)<4){return true}A=e.clientX;var g=G.getZoomHandleStatus_();var f;if(z==G.leftZoomHandle_){f=g.leftHandlePos+d;f=Math.min(f,g.rightHandlePos-z.width-3);f=Math.max(f,G.canvasRect_.x)}else{f=g.rightHandlePos+d;f=Math.min(f,G.canvasRect_.x+G.canvasRect_.w);f=Math.max(f,g.leftHandlePos+z.width+3)}var c=z.width/2;z.style.left=(f-c)+"px";G.drawInteractiveLayer_();if(O){y()}return true};L=function(c){if(!C){return false}C=false;K.uncover();Dygraph.removeEvent(M,"mousemove",D);Dygraph.removeEvent(M,"mouseup",L);G.fgcanvas_.style.cursor="default";if(!O){y()}return true};y=function(){try{var c=G.getZoomHandleStatus_();G.isChangingRange_=true;if(!c.isZoomed){G.dygraph_.resetZoom()}else{var d=F(c);G.dygraph_.doZoomXDates_(d[0],d[1])}}finally{G.isChangingRange_=false}};N=function(c){if(G.isUsingExcanvas_){return c.srcElement==G.iePanOverlay_}else{var d=G.leftZoomHandle_.getBoundingClientRect();var f=d.left+d.width/2;d=G.rightZoomHandle_.getBoundingClientRect();var e=d.left+d.width/2;return(c.clientX>f&&c.clientX<e)}};a=function(c){if(!R&&N(c)&&G.getZoomHandleStatus_().isZoomed){Dygraph.cancelEvent(c);R=true;A=c.clientX;if(c.type==="mousedown"){Dygraph.addEvent(M,"mousemove",B);Dygraph.addEvent(M,"mouseup",E)}return true}return false};B=function(g){if(!R){return false}Dygraph.cancelEvent(g);var f=g.clientX-A;if(Math.abs(f)<4){return true}A=g.clientX;var i=G.getZoomHandleStatus_();var d=i.leftHandlePos;var h=i.rightHandlePos;var e=h-d;if(d+f<=G.canvasRect_.x){d=G.canvasRect_.x;h=d+e}else{if(h+f>=G.canvasRect_.x+G.canvasRect_.w){h=G.canvasRect_.x+G.canvasRect_.w;d=h-e}else{d+=f;h+=f}}var c=G.leftZoomHandle_.width/2;G.leftZoomHandle_.style.left=(d-c)+"px";G.rightZoomHandle_.style.left=(h-c)+"px";G.drawInteractiveLayer_();if(O){S()}return true};E=function(c){if(!R){return false}R=false;Dygraph.removeEvent(M,"mousemove",B);Dygraph.removeEvent(M,"mouseup",E);if(!O){S()}return true};S=function(){try{G.isChangingRange_=true;G.dygraph_.dateWindow_=F(G.getZoomHandleStatus_());G.dygraph_.drawGraph_(false)}finally{G.isChangingRange_=false}};J=function(d){if(C||R){return}var c=N(d)?"move":"default";if(c!=G.fgcanvas_.style.cursor){G.fgcanvas_.style.cursor=c}};Q=function(c){if(c.type=="touchstart"&&c.targetTouches.length==1){if(P(c.targetTouches[0])){Dygraph.cancelEvent(c)}}else{if(c.type=="touchmove"&&c.targetTouches.length==1){if(D(c.targetTouches[0])){Dygraph.cancelEvent(c)}}else{L(c)}}};H=function(c){if(c.type=="touchstart"&&c.targetTouches.length==1){if(a(c.targetTouches[0])){Dygraph.cancelEvent(c)}}else{if(c.type=="touchmove"&&c.targetTouches.length==1){if(B(c.targetTouches[0])){Dygraph.cancelEvent(c)}}else{E(c)}}};I=function(f,c){var d=["touchstart","touchend","touchmove","touchcancel"];for(var e=0;e<d.length;e++){G.dygraph_.addAndTrackEvent(f,d[e],c)}};this.setDefaultOption_("interactionModel",Dygraph.Interaction.dragIsPanInteractionModel);this.setDefaultOption_("panEdgeFraction",0.0001);var T=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,T,P);this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,T,P);if(this.isUsingExcanvas_){this.dygraph_.addAndTrackEvent(this.iePanOverlay_,"mousedown",a)}else{this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",a);this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",J)}if(this.hasTouchInterface_){I(this.leftZoomHandle_,Q);I(this.rightZoomHandle_,Q);I(this.fgcanvas_,H)}};b.prototype.drawStaticLayer_=function(){var a=this.bgcanvas_ctx_;a.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(f){Dygraph.warn(f)}var e=0.5;this.bgcanvas_ctx_.lineWidth=1;a.strokeStyle="gray";a.beginPath();a.moveTo(e,e);a.lineTo(e,this.canvasRect_.h-e);a.lineTo(this.canvasRect_.w-e,this.canvasRect_.h-e);a.lineTo(this.canvasRect_.w-e,e);a.stroke()};b.prototype.drawMiniPlot_=function(){var J=this.getOption_("rangeSelectorPlotFillColor");var y=this.getOption_("rangeSelectorPlotStrokeColor");if(!J&&!y){return}var G=this.getOption_("stepPlot");var a=this.computeCombinedSeriesAndLimits_();var z=a.yMax-a.yMin;var A=this.bgcanvas_ctx_;var C=0.5;var K=this.dygraph_.xAxisExtremes();var B=Math.max(K[1]-K[0],1e-30);var I=(this.canvasRect_.w-C)/B;var i=(this.canvasRect_.h-C)/z;var w=this.canvasRect_.w-C;var N=this.canvasRect_.h-C;var L=null,M=null;A.beginPath();A.moveTo(C,N);for(var x=0;x<a.data.length;x++){var H=a.data[x];var E=((H[0]!==null)?((H[0]-K[0])*I):NaN);var F=((H[1]!==null)?(N-(H[1]-a.yMin)*i):NaN);if(isFinite(E)&&isFinite(F)){if(L===null){A.lineTo(E,N)}else{if(G){A.lineTo(E,M)}}A.lineTo(E,F);L=E;M=F}else{if(L!==null){if(G){A.lineTo(E,M);A.lineTo(E,N)}else{A.lineTo(L,N)}}L=M=null}}A.lineTo(w,N);A.closePath();if(J){var D=this.bgcanvas_ctx_.createLinearGradient(0,0,0,N);D.addColorStop(0,"white");D.addColorStop(1,J);this.bgcanvas_ctx_.fillStyle=D;A.fill()}if(y){this.bgcanvas_ctx_.strokeStyle=y;this.bgcanvas_ctx_.lineWidth=1.5;A.stroke()}};b.prototype.computeCombinedSeriesAndLimits_=function(){var a=this.dygraph_.rawData_;var i=this.getOption_("logscale");var x=[];var H;var D;var B;var j,k,w;var G,E;for(j=0;j<a.length;j++){if(a[j].length>1&&a[j][1]!==null){B=typeof a[j][1]!="number";if(B){H=[];D=[];for(w=0;w<a[j][1].length;w++){H.push(0);D.push(0)}}break}}for(j=0;j<a.length;j++){var C=a[j];G=C[0];if(B){for(w=0;w<H.length;w++){H[w]=D[w]=0}}else{H=D=0}for(k=1;k<C.length;k++){if(this.dygraph_.visibility()[k-1]){var A;if(B){for(w=0;w<H.length;w++){A=C[k][w];if(A===null||isNaN(A)){continue}H[w]+=A;D[w]++}}else{A=C[k];if(A===null||isNaN(A)){continue}H+=A;D++}}}if(B){for(w=0;w<H.length;w++){H[w]/=D[w]}E=H.slice(0)}else{E=H/D}x.push([G,E])}x=this.dygraph_.rollingAverage(x,this.dygraph_.rollPeriod_);if(typeof x[0][1]!="number"){for(j=0;j<x.length;j++){E=x[j][1];x[j][1]=E[0]}}var J=Number.MAX_VALUE;var I=-Number.MAX_VALUE;for(j=0;j<x.length;j++){E=x[j][1];if(E!==null&&isFinite(E)&&(!i||E>0)){J=Math.min(J,E);I=Math.max(I,E)}}var z=0.25;if(i){I=Dygraph.log10(I);I+=I*z;J=Dygraph.log10(J);for(j=0;j<x.length;j++){x[j][1]=Dygraph.log10(x[j][1])}}else{var F;var y=I-J;if(y<=Number.MIN_VALUE){F=I*z}else{F=y*z}I+=F;J-=F}return{data:x,yMin:J,yMax:I}};b.prototype.placeZoomHandles_=function(){var l=this.dygraph_.xAxisExtremes();var r=this.dygraph_.xAxisRange();var q=l[1]-l[0];var a=Math.max(0,(r[0]-l[0])/q);var n=Math.max(0,(l[1]-r[1])/q);var k=this.canvasRect_.x+this.canvasRect_.w*a;var o=this.canvasRect_.x+this.canvasRect_.w*(1-n);var p=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2);var m=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=(k-m)+"px";this.leftZoomHandle_.style.top=p+"px";this.rightZoomHandle_.style.left=(o-m)+"px";this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top;this.leftZoomHandle_.style.visibility="visible";this.rightZoomHandle_.style.visibility="visible"};b.prototype.drawInteractiveLayer_=function(){var n=this.fgcanvas_ctx_;n.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var k=1;var l=this.canvasRect_.w-k;var a=this.canvasRect_.h-k;var i=this.getZoomHandleStatus_();n.strokeStyle="black";if(!i.isZoomed){n.beginPath();n.moveTo(k,k);n.lineTo(k,a);n.lineTo(l,a);n.lineTo(l,k);n.stroke();if(this.iePanOverlay_){this.iePanOverlay_.style.display="none"}}else{var j=Math.max(k,i.leftHandlePos-this.canvasRect_.x);var m=Math.min(l,i.rightHandlePos-this.canvasRect_.x);n.fillStyle="rgba(240, 240, 240, 0.6)";n.fillRect(0,0,j,this.canvasRect_.h);n.fillRect(m,0,this.canvasRect_.w-m,this.canvasRect_.h);n.beginPath();n.moveTo(k,k);n.lineTo(j,k);n.lineTo(j,a);n.lineTo(m,a);n.lineTo(m,k);n.lineTo(l,k);n.stroke();if(this.isUsingExcanvas_){this.iePanOverlay_.style.width=(m-j)+"px";this.iePanOverlay_.style.left=j+"px";this.iePanOverlay_.style.height=a+"px";this.iePanOverlay_.style.display="inline"}}};b.prototype.getZoomHandleStatus_=function(){var f=this.leftZoomHandle_.width/2;var e=parseFloat(this.leftZoomHandle_.style.left)+f;var a=parseFloat(this.rightZoomHandle_.style.left)+f;return{leftHandlePos:e,rightHandlePos:a,isZoomed:(e-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w)}};return b})();Dygraph.PLUGINS.push(Dygraph.Plugins.Legend,Dygraph.Plugins.Axes,Dygraph.Plugins.RangeSelector,Dygraph.Plugins.ChartLabels,Dygraph.Plugins.Annotations,Dygraph.Plugins.Grid);