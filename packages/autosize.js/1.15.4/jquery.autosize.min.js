!function(e){var t,o={className:"autosizejs",append:"",callback:!1},i="hidden",n="border-box",s="lineHeight",a='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],l="oninput",c="onpropertychange",p=e(a).data("autosize",!0)[0];p.style.lineHeight="99px","99px"===e(p).css(s)&&r.push(s),p.style.lineHeight="",e.fn.autosize=function(s){return s=e.extend({},o,s||{}),p.parentNode!==document.body&&e(document.body).append(p),this.each(function(){function o(){t=b,p.className=s.className,e.each(r,function(e,t){p.style[t]=g.css(t)})}function a(){var e,n,a;if(t!==b&&o(),!d){d=!0,p.value=b.value+s.append,p.style.overflowY=b.style.overflowY,a=parseInt(b.style.height,10),p.style.width=Math.max(g.width(),0)+"px",p.scrollTop=0,p.scrollTop=9e4,e=p.scrollTop;var r=parseInt(g.css("maxHeight"),10);r=r&&r>0?r:9e4,e>r?(e=r,n="scroll"):h>e&&(e=h),e+=x,b.style.overflowY=n||i,a!==e&&(b.style.height=e+"px",w&&s.callback.call(b)),setTimeout(function(){d=!1},1)}}var h,d,u,b=this,g=e(b),x=0,w=e.isFunction(s.callback);g.data("autosize")||(h=parseInt(g.css("minHeight"),10)||g.height(),(g.css("box-sizing")===n||g.css("-moz-box-sizing")===n||g.css("-webkit-box-sizing")===n)&&(x=g.outerHeight()-g.height()),u="none"===g.css("resize")||"vertical"===g.css("resize")?"none":"horizontal",g.css({overflow:i,overflowY:i,wordWrap:"break-word",resize:u}).data("autosize",!0),c in b?l in b?b[l]=b.onkeyup=a:b[c]=a:b[l]=a,e(window).resize(a),g.bind("autosize",a),a())})}}(window.jQuery||window.Zepto);