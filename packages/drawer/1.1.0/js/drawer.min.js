!function(e){var t="drawer",a=navigator.userAgent,n=-1!=a.search(/iPhone/),s=-1!=a.search(/iPad/),o=-1!=a.search(/Android/),i=n||s||o,r={init:function(a){return a=e.extend({masta:"drawer-masta",nav:"drawer-nav",navList:"drawer-nav-list",overlay:"drawer-overlay",toggle:"drawer-toggle",openClass:"drawer-open",closeClass:"drawer-close",desktopEvent:"click",width:280},a),this.each(function(){var n=this,s=e(this),o=s.data(t);o||(a=e.extend({},a),s.data(t,{options:a})),smY=0;var c=e("."+a.toggle),l=e("."+a.overlay),d=e("."+a.navList),v=e("."+a.nav),f=e("."+a.masta),h=s.height(),u=v.height(),m=f.height();r.resize.call(n),e(window).resize(function(){r.resize.call(n)}),i?(c.bind("touchend."+t,function(){r.toggle.apply(n)}),l.bind("touchend."+t,function(){r.close.apply(n)}),v.bind("touchstart."+t,function(){sfY=event.touches[0].screenY,startTime=(new Date).getTime(),startY=event.changedTouches[0].clientY}),v.bind("touchmove."+t,function(){var t=e(this);mfY=event.changedTouches[0].screenY,moveY=smY+mfY-sfY,draggedY=event.changedTouches[0].clientY-startY,t.css({"-webkit-transition":"none","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})}),v.bind("touchend."+t,function(){var t=e(this);diffTime=(new Date).getTime()-startTime,smY+=mfY-sfY;var a=function(){300>diffTime&&draggedY>0?(moveY+=Math.abs(draggedY/diffTime*300),smY=moveY):300>diffTime&&0>draggedY&&(moveY-=Math.abs(draggedY/diffTime*300),smY=moveY),t.css({"-webkit-transition":"-webkit-transform .7s ease-out","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})},n=function(){moveY>0?smY=0:h-u>moveY&&(smY=m>d.height()?h-m:h-u),t.css({"-webkit-transition":"-webkit-transform .5s ease-out","-webkit-transform":"translate3d(0px,"+smY+"px,0px)"})};a.call(),n.call()})):(c.off(a.desktopEvent+"."+t).on(a.desktopEvent+"."+t,function(){r.toggle.apply(n)}),l.off("click."+t).on("click."+t,function(){r.close.apply(n)}))})},resize:function(a){var n=e(this);a=n.data(t).options;var s=e(window).height(),o=e("."+a.overlay);r.close.call(this,a),o.css({"min-height":s})},toggle:function(a){var n=e(this);a=n.data(t).options;var s=n.hasClass(a.openClass);s?r.close.call(this):r.open.call(this)},open:function(a){var n=e(this);a=n.data(t).options,i&&(n.on("touchmove."+t,function(){event.preventDefault()}),event.preventDefault()),n.removeClass(a.closeClass).addClass(a.openClass);var s=1e3*e("."+a.overlay).css("transition-duration").replace(/s/g,"");setTimeout(function(){n.css({overflow:"hidden"})},s)},close:function(a){var n=e(this);a=n.data(t).options,i&&n.off("touchmove."+t),n.removeClass(a.openClass).addClass(a.closeClass);var s=1e3*e("."+a.overlay).css("transition-duration").replace(/s/g,"");setTimeout(function(){n.css({overflow:"auto"})},s)},destroy:function(){return this.each(function(){var a=e(this);e(window).unbind("."+t),a.removeData(t)})}};e.fn.drawer=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery."+t):r.init.apply(this,arguments)}}(jQuery);