/*!
 * drawer v1.5.1
 * 
 * Licensed under MIT
 * http://blivesta.com
 */
!function(a){var b="drawer",c=null===window.ontouchstart,d={init:function(e){return e=a.extend({mastaClass:"drawer-masta",navClass:"drawer-nav",navListClass:"drawer-nav-list",overlayClass:"drawer-overlay",toggleClass:"drawer-toggle",upperClass:"drawer-overlay-upper",openClass:"drawer-open",closeClass:"drawer-close",responsiveClass:"drawer-responsive",desktopEvent:"click",drawerWidth:280},e),this.each(function(){var f=this,g=a(this),h=g.data(b),i=a("."+e.toggleClass),j=a("."+e.navListClass),k=a("<div>").addClass(e.upperClass),l=a("."+e.navClass),m=a("."+e.mastaClass),n=g.height(),o=l.height(),p=m.height();if(h||(e=a.extend({},e),g.data(b,{options:e})),g.append(k),d.resize.call(f),a(window).resize(function(){d.resize.call(f)}),c){var q=0,r=0;i.bind("touchend."+b,function(){d.toggle.apply(f)}),k.bind("touchend."+b,function(){d.close.apply(f)}),l.bind("touchstart."+b,function(){sfY=event.touches[0].screenY,startTime=Date.now(),startY=event.changedTouches[0].clientY}),l.bind("touchmove."+b,function(){var b=a(this);r=event.changedTouches[0].screenY,moveY=q+r-sfY,draggedY=event.changedTouches[0].clientY-startY,b.css({"-webkit-transition":"none","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})}),l.bind("touchend."+b,function(){var b=a(this);diffTime=Date.now()-startTime,q+=r-sfY;var c=function(){300>diffTime&&draggedY>0?(moveY+=Math.abs(draggedY/diffTime*300),q=moveY):300>diffTime&&0>draggedY&&(moveY-=Math.abs(draggedY/diffTime*300),q=moveY),b.css({"-webkit-transition":"-webkit-transform .7s ease-out","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})},d=function(){moveY>0?q=0:n-o>moveY&&(q=p>j.height()?n-p:n-o),b.css({"-webkit-transition":"-webkit-transform .5s ease-out","-webkit-transform":"translate3d(0px,"+q+"px,0px)"})};c.call(),d.call()})}else i.off(e.desktopEvent+"."+b).on(e.desktopEvent+"."+b,function(){d.toggle.apply(f)}),k.off("click."+b).on("click."+b,function(){d.close.apply(f)})})},resize:function(e){var f=this,g=a(this);e=g.data(b).options;var h=a(window).height(),i=a("."+e.mastaClass),j=a("."+e.overlayClass),k=j.height();d.close.call(f,e),j.css({"min-height":h}),!c&&g.hasClass(e.responsiveClass)&&i.css({"min-height":h,height:k})},toggle:function(c){var e=this,f=a(this);c=f.data(b).options;var g=f.hasClass(c.openClass);g?d.close.call(e):d.open.call(e)},open:function(d){var e=a(this);d=e.data(b).options,c&&(e.on("touchmove."+b,function(){event.preventDefault()}),event.preventDefault()),e.removeClass(d.closeClass).addClass(d.openClass);var f=1e3*a("."+d.overlayClass).css("transition-duration").replace(/s/g,"");setTimeout(function(){e.css({overflow:"hidden"});var b=a(window).width(),c=b-d.drawerWidth;a("."+d.upperClass).css({width:c,display:"block"})},f)},close:function(d){var e=a(this);d=e.data(b).options,c&&e.off("touchmove."+b),e.removeClass(d.openClass).addClass(d.closeClass);var f=1e3*a("."+d.overlayClass).css("transition-duration").replace(/s/g,"");setTimeout(function(){e.css({overflow:"auto"}),a("."+d.upperClass).css({display:"none"})},f)},destroy:function(){return this.each(function(){var c=a(this);a(window).unbind("."+b),c.removeData(b)})}};a.fn.drawer=function(c){return d[c]?d[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery."+b):d.init.apply(this,arguments)}}(jQuery);