/*!
 * drawer v1.4.1
 * 
 * Licensed under MIT
 * http://blivesta.com
 */
!function(a){var b="drawer",c=navigator.userAgent,d=-1!=c.search(/iPhone/),e=-1!=c.search(/iPad/),f=-1!=c.search(/Android/),g=d||e||f,h={init:function(c){return c=a.extend({masta:"drawer-masta",nav:"drawer-nav",navList:"drawer-nav-list",overlay:"drawer-overlay",toggle:"drawer-toggle",upper:"drawer-overlay-upper",openClass:"drawer-open",closeClass:"drawer-close",desktopEvent:"click",width:280},c),this.each(function(){var d=this,e=a(this),f=e.data(b),i=a("."+c.toggle),j=a("."+c.navList),k=a("<div>").addClass(c.upper),l=a("."+c.nav),m=a("."+c.masta),n=e.height(),o=l.height(),p=m.height();f||(c=a.extend({},c),e.data(b,{options:c})),smY=0,e.append(k),h.resize.call(d),a(window).resize(function(){h.resize.call(d)}),g?(i.bind("touchend."+b,function(){h.toggle.apply(d)}),k.bind("touchend."+b,function(){h.close.apply(d)}),l.bind("touchstart."+b,function(){sfY=event.touches[0].screenY,startTime=Date.now(),startY=event.changedTouches[0].clientY}),l.bind("touchmove."+b,function(){var b=a(this);mfY=event.changedTouches[0].screenY,moveY=smY+mfY-sfY,draggedY=event.changedTouches[0].clientY-startY,b.css({"-webkit-transition":"none","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})}),l.bind("touchend."+b,function(){var b=a(this);diffTime=Date.now()-startTime,smY+=mfY-sfY;var c=function(){300>diffTime&&draggedY>0?(moveY+=Math.abs(draggedY/diffTime*300),smY=moveY):300>diffTime&&0>draggedY&&(moveY-=Math.abs(draggedY/diffTime*300),smY=moveY),b.css({"-webkit-transition":"-webkit-transform .7s ease-out","-webkit-transform":"translate3d(0px,"+moveY+"px,0px)"})},d=function(){moveY>0?smY=0:n-o>moveY&&(smY=p>j.height()?n-p:n-o),b.css({"-webkit-transition":"-webkit-transform .5s ease-out","-webkit-transform":"translate3d(0px,"+smY+"px,0px)"})};c.call(),d.call()})):(i.off(c.desktopEvent+"."+b).on(c.desktopEvent+"."+b,function(){h.toggle.apply(d)}),k.off("click."+b).on("click."+b,function(){h.close.apply(d)}))})},resize:function(c){var d=a(this);c=d.data(b).options;var e=a(window).height(),f=a("."+c.overlay);h.close.call(this,c),f.css({"min-height":e})},toggle:function(c){var d=a(this);c=d.data(b).options;var e=d.hasClass(c.openClass);e?h.close.call(this):h.open.call(this)},open:function(c){var d=a(this);c=d.data(b).options,g&&(d.on("touchmove."+b,function(){event.preventDefault()}),event.preventDefault()),d.removeClass(c.closeClass).addClass(c.openClass);var e=1e3*a("."+c.overlay).css("transition-duration").replace(/s/g,"");setTimeout(function(){d.css({overflow:"hidden"});var b=a(window).width(),e=b-c.width;a("."+c.upper).css({width:e,display:"block"})},e)},close:function(c){var d=a(this);c=d.data(b).options,g&&d.off("touchmove."+b),d.removeClass(c.openClass).addClass(c.closeClass);var e=1e3*a("."+c.overlay).css("transition-duration").replace(/s/g,"");setTimeout(function(){d.css({overflow:"auto"}),a("."+c.upper).css({display:"none"})},e)},destroy:function(){return this.each(function(){var c=a(this);a(window).unbind("."+b),c.removeData(b)})}};a.fn.drawer=function(c){return h[c]?h[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery."+b):h.init.apply(this,arguments)}}(jQuery);