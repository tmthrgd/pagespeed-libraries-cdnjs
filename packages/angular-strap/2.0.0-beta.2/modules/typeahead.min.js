/**
 * angular-strap
 * @version v2.0.0-beta.2 - 2014-01-10
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip"]).run(["$templateCache",function(a){var b='<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>';a.put("$typeahead",b)}]).provider("$typeahead",function(){var a=this.defaults={animation:"animation-fade",prefixClass:"typeahead",placement:"bottom-left",template:"$typeahead",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:0,limit:6};this.$get=["$window","$rootScope","$tooltip",function(b,c,d){function e(b,c){var e={},f=angular.extend({},a,c),g=f.controller;e=d(b,f);var h=c.scope,i=e.$scope;i.$matches=[],i.$activeIndex=0,i.$activate=function(a){i.$$postDigest(function(){e.activate(a)})},i.$select=function(a){i.$$postDigest(function(){e.select(a)})},i.$isVisible=function(){return e.$isVisible()},e.update=function(a){i.$matches=a,i.$activeIndex>=a.length&&(i.$activeIndex=0)},e.activate=function(a){i.$activeIndex=a},e.select=function(a){var c=i.$matches[a].value;g&&(g.$setViewValue(c),g.$render(),h&&h.$digest()),b[0].blur(),i.$emit("$typeahead.select",c,a),i.$activeIndex=0},e.$isVisible=function(){return f.minLength&&g?i.$matches.length&&g.$viewValue.length>=f.minLength:i.$matches.length},e.$onMouseDown=function(a){a.preventDefault(),a.stopPropagation()},e.$onKeyDown=function(a){if(/(38|40|13)/.test(a.keyCode)){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return e.select(i.$activeIndex);38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest()}};var j=e.show;e.show=function(){j(),setTimeout(function(){e.$element.on("mousedown",e.$onMouseDown),f.keyboard&&b.on("keydown",e.$onKeyDown)})};var k=e.hide;return e.hide=function(){e.$element.off("mousedown",e.$onMouseDown),f.keyboard&&b.off("keydown",e.$onKeyDown),k()},e}angular.element(b.document.body);return e.defaults=a,e}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead",function(a,b,c,d){var e=d.defaults,f=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return{restrict:"EAC",require:"ngModel",link:function(a,g,h,i){function j(a){return a.map(function(a){var b,c,d={};return d[p]=a,b=o(d),c=q(d),angular.isObject(c)&&(c=b),{label:b,value:c}})}var k={scope:a,controller:i};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","limit","minLength"],function(a){angular.isDefined(h[a])&&(k[a]=h[a])});var l=k.limit||e.limit,m=h.ngOptions+" | filter:$viewValue |Â limitTo:"+l,n=m.match(f),o=b(n[2]||n[1]),p=n[4]||n[6],q=(n[5],b(n[3]||""),b(n[2]?n[1]:p)),r=b(n[7]),s=d(g,k);a.$watch(h.ngModel,function(){c.when(r(a,i)).then(function(a){a.length>l&&(a=a.slice(0,l));var b=j(a);s.update(b)})}),a.$on("$destroy",function(){s.destroy(),k=null,s=null})}}}]);
//# sourceMappingURL=angular-strap.min.map