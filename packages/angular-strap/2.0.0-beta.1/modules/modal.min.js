/**
 * angular-strap
 * @version v2.0.0-beta.1 - 2014-01-07
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.jqlite.dimensions"]).run(["$templateCache",function(a){var b='<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind-html="title"></h4></div><div class="modal-body" ng-show="content" ng-bind-html="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>';a.put("$modal",b)}]).provider("$modal",function(){var a=this.defaults={animation:"animation-fade",prefixClass:"modal",placement:"top",template:"$modal",container:!1,element:null,backdrop:!0,keyboard:!0,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions",function(b,c,d,e,f,g,h){function i(b){function i(a){a.target===a.currentTarget&&("static"===p.backdrop?o.focus():o.hide())}var o={},p=angular.extend({},a,b);o.$promise=e.when(f.get(p.template)||g.get(p.template));var q=o.$scope=p.scope&&p.scope.$new()||c.$new();p.element||p.container||(p.container="body"),p.scope||j(["title","content"],function(a){p[a]&&(q[a]=p[a])}),q.$hide=function(){q.$$postDigest(function(){o.hide()})},q.$show=function(){q.$$postDigest(function(){o.show()})},q.$toggle=function(){q.$$postDigest(function(){o.toggle()})};var r,s,t=k('<div class="'+p.prefixClass+'-backdrop"/>');return o.$promise.then(function(a){angular.isObject(a)&&(a=a.data),a=l.apply(a),r=d(a),o.init()}),o.init=function(){p.show&&q.$$postDigest(function(){o.show()})},o.destroy=function(){s.remove(),t.remove(),q.$destroy()},o.show=function(){var a=p.container?n(p.container):null,b=p.container?null:p.element;s=o.$element=r(q,function(){}),s.css({display:"block"}).addClass(p.placement),p.animation&&(p.backdrop&&t.addClass("animation-fade"),s.addClass(p.animation)),p.backdrop&&h.enter(t,m,null,function(){}),h.enter(s,a,b,function(){}),q.$isShown=!0,q.$digest(),o.focus(),m.addClass(p.prefixClass+"-open"),p.backdrop&&s.on("click",i),p.keyboard&&s.on("keyup",o.$onKeyUp)},o.hide=function(){h.leave(s,function(){m.removeClass("modal-open")}),p.backdrop&&h.leave(t,function(){}),q.$digest(),q.$isShown=!1,p.backdrop&&s.off("click",i),p.keyboard&&s.off("keyup",o.$onKeyUp)},o.toggle=function(){q.$isShown?o.hide():o.show()},o.focus=function(){s[0].focus()},o.$onKeyUp=function(a){27===a.which&&o.hide()},o}var j=angular.forEach,k=angular.element,l=String.prototype.trim,m=k(b.document.body),n=(b.requestAnimationFrame||b.setTimeout,function(a,b){return k((b||document).querySelectorAll(a))});return i}]}).directive("bsModal",["$window","$location","$sce","$modal",function(a,b,c,d){{var e=angular.forEach,f=angular.isDefined;a.requestAnimationFrame||a.setTimeout}return{restrict:"EAC",scope:!0,link:function(a,b,c){var g={scope:a,element:b,show:!1};e(["template","placement","backdrop","keyboard","show","container","animation"],function(a){f(c[a])&&(g[a]=c[a])}),e(["title","content"],function(b){c[b]&&c.$observe(b,function(c){a[b]=c})}),c.bsModal&&a.$watch(c.bsModal,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var h=d(g);b.on(c.trigger||"click",h.toggle),a.$on("$destroy",function(){h.destroy(),g=null,h=null})}}}]);
//# sourceMappingURL=angular-strap.min.map